ARM GAS  C:\Users\imkar\AppData\Local\Temp\ccDVr466.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"ring_buffer.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.section	.text.my_spi_isr,"ax",%progbits
  20              		.align	1
  21              		.global	my_spi_isr
  22              		.syntax unified
  23              		.thumb
  24              		.thumb_func
  26              	my_spi_isr:
  27              	.LVL0:
  28              	.LFB150:
  29              		.file 1 "library/Src/ring_buffer.c"
   1:library/Src/ring_buffer.c **** /*
   2:library/Src/ring_buffer.c ****  * UartRingbuffer.c
   3:library/Src/ring_buffer.c ****  *
   4:library/Src/ring_buffer.c ****  *  Created on: 10-Jul-2019
   5:library/Src/ring_buffer.c ****  *      Author: Controllerstech
   6:library/Src/ring_buffer.c ****  */
   7:library/Src/ring_buffer.c **** 
   8:library/Src/ring_buffer.c **** #include "ring_buffer.h"
   9:library/Src/ring_buffer.c **** #include <string.h>
  10:library/Src/ring_buffer.c **** 
  11:library/Src/ring_buffer.c **** 
  12:library/Src/ring_buffer.c **** /*  Define the device uart and pc uart below according to your setup  */
  13:library/Src/ring_buffer.c **** 
  14:library/Src/ring_buffer.c **** extern UART_HandleTypeDef huart1;
  15:library/Src/ring_buffer.c **** extern UART_HandleTypeDef huart3;
  16:library/Src/ring_buffer.c **** extern SPI_HandleTypeDef hspi1;
  17:library/Src/ring_buffer.c **** 
  18:library/Src/ring_buffer.c **** #define TIMEOUT_DEF 500 
  19:library/Src/ring_buffer.c **** uint16_t timeout;
  20:library/Src/ring_buffer.c **** 
  21:library/Src/ring_buffer.c **** #define device_uart &huart3
  22:library/Src/ring_buffer.c **** #define pc_uart &huart1
  23:library/Src/ring_buffer.c **** #define wifi_spi &hspi1
  24:library/Src/ring_buffer.c **** 
  25:library/Src/ring_buffer.c **** /* put the following in the ISR 
  26:library/Src/ring_buffer.c **** 
  27:library/Src/ring_buffer.c **** extern void Uart_isr (UART_HandleTypeDef *huart);
  28:library/Src/ring_buffer.c **** 
  29:library/Src/ring_buffer.c **** */
ARM GAS  C:\Users\imkar\AppData\Local\Temp\ccDVr466.s 			page 2


  30:library/Src/ring_buffer.c **** 
  31:library/Src/ring_buffer.c **** /**************** =====================================>>>>>>>>>>>> NO chnages after this *********
  32:library/Src/ring_buffer.c **** 
  33:library/Src/ring_buffer.c **** ring_buffer rx_buffer1 = { { 0 }, 0, 0};
  34:library/Src/ring_buffer.c **** ring_buffer tx_buffer1 = { { 0 }, 0, 0};
  35:library/Src/ring_buffer.c **** ring_buffer rx_buffer2 = { { 0 }, 0, 0};
  36:library/Src/ring_buffer.c **** ring_buffer tx_buffer2 = { { 0 }, 0, 0};
  37:library/Src/ring_buffer.c **** 
  38:library/Src/ring_buffer.c **** ring_buffer *_rx_buffer1 = &rx_buffer1;
  39:library/Src/ring_buffer.c **** ring_buffer *_tx_buffer1 = &tx_buffer1;
  40:library/Src/ring_buffer.c **** ring_buffer *_rx_buffer2 = &rx_buffer2;
  41:library/Src/ring_buffer.c **** ring_buffer *_tx_buffer2 = &tx_buffer2;
  42:library/Src/ring_buffer.c **** 
  43:library/Src/ring_buffer.c **** void store_char (unsigned char c, ring_buffer *buffer);
  44:library/Src/ring_buffer.c **** 
  45:library/Src/ring_buffer.c **** 
  46:library/Src/ring_buffer.c **** void Ringbuf_init(void)
  47:library/Src/ring_buffer.c **** {
  48:library/Src/ring_buffer.c ****   /* Enable the UART & SPI Error Interrupt: (Frame error, noise error, overrun error) */
  49:library/Src/ring_buffer.c ****   __HAL_UART_ENABLE_IT(device_uart, UART_IT_ERR);
  50:library/Src/ring_buffer.c ****   __HAL_UART_ENABLE_IT(pc_uart, UART_IT_ERR);
  51:library/Src/ring_buffer.c ****   __HAL_SPI_ENABLE_IT(wifi_spi, SPI_IT_ERR);
  52:library/Src/ring_buffer.c **** 
  53:library/Src/ring_buffer.c ****   /* Enable the UART & SPI Data Register not empty Interrupt */
  54:library/Src/ring_buffer.c ****   __HAL_UART_ENABLE_IT(device_uart, UART_IT_RXNE);
  55:library/Src/ring_buffer.c ****   __HAL_UART_ENABLE_IT(pc_uart, UART_IT_RXNE);
  56:library/Src/ring_buffer.c ****   __HAL_SPI_ENABLE_IT(wifi_spi, SPI_IT_RXNE);
  57:library/Src/ring_buffer.c **** }
  58:library/Src/ring_buffer.c **** 
  59:library/Src/ring_buffer.c **** void store_char(unsigned char c, ring_buffer *buffer)
  60:library/Src/ring_buffer.c **** {
  61:library/Src/ring_buffer.c ****   int i = (unsigned int)(buffer->head + 1) % UART_BUFFER_SIZE;
  62:library/Src/ring_buffer.c **** 
  63:library/Src/ring_buffer.c ****   // if we should be storing the received character into the location
  64:library/Src/ring_buffer.c ****   // just before the tail (meaning that the head would advance to the
  65:library/Src/ring_buffer.c ****   // current location of the tail), we're about to overflow the buffer
  66:library/Src/ring_buffer.c ****   // and so we don't write the character or advance the head.
  67:library/Src/ring_buffer.c ****   if(i != buffer->tail) {
  68:library/Src/ring_buffer.c ****     buffer->buffer[buffer->head] = c;
  69:library/Src/ring_buffer.c ****     buffer->head = i;
  70:library/Src/ring_buffer.c ****   }
  71:library/Src/ring_buffer.c **** }
  72:library/Src/ring_buffer.c **** 
  73:library/Src/ring_buffer.c **** 
  74:library/Src/ring_buffer.c **** int Look_for (char *str, char *buffertolookinto)
  75:library/Src/ring_buffer.c **** {
  76:library/Src/ring_buffer.c **** 	int stringlength = strlen (str);
  77:library/Src/ring_buffer.c **** 	int bufferlength = strlen (buffertolookinto);
  78:library/Src/ring_buffer.c **** 	int so_far = 0;
  79:library/Src/ring_buffer.c **** 	int indx = 0;
  80:library/Src/ring_buffer.c **** repeat:
  81:library/Src/ring_buffer.c **** 	while (str[so_far] != buffertolookinto[indx]) indx++;
  82:library/Src/ring_buffer.c **** 	if (str[so_far] == buffertolookinto[indx]){
  83:library/Src/ring_buffer.c **** 	while (str[so_far] == buffertolookinto[indx])
  84:library/Src/ring_buffer.c **** 	{
  85:library/Src/ring_buffer.c **** 		so_far++;
  86:library/Src/ring_buffer.c **** 		indx++;
ARM GAS  C:\Users\imkar\AppData\Local\Temp\ccDVr466.s 			page 3


  87:library/Src/ring_buffer.c **** 	}
  88:library/Src/ring_buffer.c **** 	}
  89:library/Src/ring_buffer.c **** 
  90:library/Src/ring_buffer.c **** 	else
  91:library/Src/ring_buffer.c **** 		{
  92:library/Src/ring_buffer.c **** 			so_far =0;
  93:library/Src/ring_buffer.c **** 			if (indx >= bufferlength) return -1;
  94:library/Src/ring_buffer.c **** 			goto repeat;
  95:library/Src/ring_buffer.c **** 		}
  96:library/Src/ring_buffer.c **** 
  97:library/Src/ring_buffer.c **** 	if (so_far == stringlength) return 1;
  98:library/Src/ring_buffer.c **** 	else return -1;
  99:library/Src/ring_buffer.c **** }
 100:library/Src/ring_buffer.c **** 
 101:library/Src/ring_buffer.c **** void GetDataFromBuffer (char *startString, char *endString, char *buffertocopyfrom, char *buffertoc
 102:library/Src/ring_buffer.c **** {
 103:library/Src/ring_buffer.c **** 	int startStringLength = strlen (startString);
 104:library/Src/ring_buffer.c **** 	int endStringLength   = strlen (endString);
 105:library/Src/ring_buffer.c **** 	int so_far = 0;
 106:library/Src/ring_buffer.c **** 	int indx = 0;
 107:library/Src/ring_buffer.c **** 	int startposition = 0;
 108:library/Src/ring_buffer.c **** 	int endposition = 0;
 109:library/Src/ring_buffer.c **** 
 110:library/Src/ring_buffer.c **** repeat1:
 111:library/Src/ring_buffer.c **** 	while (startString[so_far] != buffertocopyfrom[indx]) indx++;
 112:library/Src/ring_buffer.c **** 	if (startString[so_far] == buffertocopyfrom[indx])
 113:library/Src/ring_buffer.c **** 	{
 114:library/Src/ring_buffer.c **** 		while (startString[so_far] == buffertocopyfrom[indx])
 115:library/Src/ring_buffer.c **** 		{
 116:library/Src/ring_buffer.c **** 			so_far++;
 117:library/Src/ring_buffer.c **** 			indx++;
 118:library/Src/ring_buffer.c **** 		}
 119:library/Src/ring_buffer.c **** 	}
 120:library/Src/ring_buffer.c **** 
 121:library/Src/ring_buffer.c **** 	if (so_far == startStringLength) startposition = indx;
 122:library/Src/ring_buffer.c **** 	else
 123:library/Src/ring_buffer.c **** 	{
 124:library/Src/ring_buffer.c **** 		so_far =0;
 125:library/Src/ring_buffer.c **** 		goto repeat1;
 126:library/Src/ring_buffer.c **** 	}
 127:library/Src/ring_buffer.c **** 
 128:library/Src/ring_buffer.c **** 	so_far = 0;
 129:library/Src/ring_buffer.c **** 
 130:library/Src/ring_buffer.c **** repeat2:
 131:library/Src/ring_buffer.c **** 	while (endString[so_far] != buffertocopyfrom[indx]) indx++;
 132:library/Src/ring_buffer.c **** 	if (endString[so_far] == buffertocopyfrom[indx])
 133:library/Src/ring_buffer.c **** 	{
 134:library/Src/ring_buffer.c **** 		while (endString[so_far] == buffertocopyfrom[indx])
 135:library/Src/ring_buffer.c **** 		{
 136:library/Src/ring_buffer.c **** 			so_far++;
 137:library/Src/ring_buffer.c **** 			indx++;
 138:library/Src/ring_buffer.c **** 		}
 139:library/Src/ring_buffer.c **** 	}
 140:library/Src/ring_buffer.c **** 
 141:library/Src/ring_buffer.c **** 	if (so_far == endStringLength) endposition = indx-endStringLength;
 142:library/Src/ring_buffer.c **** 	else
 143:library/Src/ring_buffer.c **** 	{
ARM GAS  C:\Users\imkar\AppData\Local\Temp\ccDVr466.s 			page 4


 144:library/Src/ring_buffer.c **** 		so_far =0;
 145:library/Src/ring_buffer.c **** 		goto repeat2;
 146:library/Src/ring_buffer.c **** 	}
 147:library/Src/ring_buffer.c **** 
 148:library/Src/ring_buffer.c **** 	so_far = 0;
 149:library/Src/ring_buffer.c **** 	indx=0;
 150:library/Src/ring_buffer.c **** 
 151:library/Src/ring_buffer.c **** 	for (int i=startposition; i<endposition; i++)
 152:library/Src/ring_buffer.c **** 	{
 153:library/Src/ring_buffer.c **** 		buffertocopyinto[indx] = buffertocopyfrom[i];
 154:library/Src/ring_buffer.c **** 		indx++;
 155:library/Src/ring_buffer.c **** 	}
 156:library/Src/ring_buffer.c **** }
 157:library/Src/ring_buffer.c **** 
 158:library/Src/ring_buffer.c **** 
 159:library/Src/ring_buffer.c **** void Uart_flush (UART_HandleTypeDef *uart)
 160:library/Src/ring_buffer.c **** {
 161:library/Src/ring_buffer.c **** 	if (uart == device_uart)
 162:library/Src/ring_buffer.c **** 	{
 163:library/Src/ring_buffer.c **** 		memset(_rx_buffer1->buffer,'\0', UART_BUFFER_SIZE);
 164:library/Src/ring_buffer.c **** 		_rx_buffer1->head = 0;
 165:library/Src/ring_buffer.c **** 	}
 166:library/Src/ring_buffer.c **** 	if (uart == pc_uart)
 167:library/Src/ring_buffer.c **** 	{
 168:library/Src/ring_buffer.c **** 		memset(_rx_buffer2->buffer,'\0', UART_BUFFER_SIZE);
 169:library/Src/ring_buffer.c **** 		_rx_buffer2->head = 0;
 170:library/Src/ring_buffer.c **** 	}
 171:library/Src/ring_buffer.c **** }
 172:library/Src/ring_buffer.c **** 
 173:library/Src/ring_buffer.c **** 
 174:library/Src/ring_buffer.c **** int Uart_peek(UART_HandleTypeDef *uart)
 175:library/Src/ring_buffer.c **** {
 176:library/Src/ring_buffer.c **** 	if (uart == device_uart)
 177:library/Src/ring_buffer.c **** 	{
 178:library/Src/ring_buffer.c **** 		  if(_rx_buffer1->head == _rx_buffer1->tail)
 179:library/Src/ring_buffer.c **** 		  {
 180:library/Src/ring_buffer.c **** 		    return -1;
 181:library/Src/ring_buffer.c **** 		  }
 182:library/Src/ring_buffer.c **** 		  else
 183:library/Src/ring_buffer.c **** 		  {
 184:library/Src/ring_buffer.c **** 		    return _rx_buffer1->buffer[_rx_buffer1->tail];
 185:library/Src/ring_buffer.c **** 		  }
 186:library/Src/ring_buffer.c **** 	}
 187:library/Src/ring_buffer.c **** 
 188:library/Src/ring_buffer.c **** 	else if (uart == pc_uart)
 189:library/Src/ring_buffer.c **** 	{
 190:library/Src/ring_buffer.c **** 		  if(_rx_buffer2->head == _rx_buffer2->tail)
 191:library/Src/ring_buffer.c **** 		  {
 192:library/Src/ring_buffer.c **** 		    return -1;
 193:library/Src/ring_buffer.c **** 		  }
 194:library/Src/ring_buffer.c **** 		  else
 195:library/Src/ring_buffer.c **** 		  {
 196:library/Src/ring_buffer.c **** 		    return _rx_buffer2->buffer[_rx_buffer2->tail];
 197:library/Src/ring_buffer.c **** 		  }
 198:library/Src/ring_buffer.c **** 	}
 199:library/Src/ring_buffer.c **** 
 200:library/Src/ring_buffer.c **** 	return -1;
ARM GAS  C:\Users\imkar\AppData\Local\Temp\ccDVr466.s 			page 5


 201:library/Src/ring_buffer.c **** }
 202:library/Src/ring_buffer.c **** 
 203:library/Src/ring_buffer.c **** int Uart_read(UART_HandleTypeDef *uart)
 204:library/Src/ring_buffer.c **** {
 205:library/Src/ring_buffer.c **** 	/*if (uart == device_uart)
 206:library/Src/ring_buffer.c **** 	{
 207:library/Src/ring_buffer.c **** 		  // if the head isn't ahead of the tail, we don't have any characters
 208:library/Src/ring_buffer.c **** 		  if(_rx_buffer1->head == _rx_buffer1->tail)
 209:library/Src/ring_buffer.c **** 		  {
 210:library/Src/ring_buffer.c **** 		    return -1;
 211:library/Src/ring_buffer.c **** 		  }
 212:library/Src/ring_buffer.c **** 		  else
 213:library/Src/ring_buffer.c **** 		  {
 214:library/Src/ring_buffer.c **** 		    unsigned char c = _rx_buffer1->buffer[_rx_buffer1->tail];
 215:library/Src/ring_buffer.c **** 		    _rx_buffer1->tail = (unsigned int)(_rx_buffer1->tail + 1) % UART_BUFFER_SIZE;
 216:library/Src/ring_buffer.c **** 		    return c;
 217:library/Src/ring_buffer.c **** 		  }
 218:library/Src/ring_buffer.c **** 	}*/
 219:library/Src/ring_buffer.c **** 
 220:library/Src/ring_buffer.c **** 	if (uart == pc_uart)
 221:library/Src/ring_buffer.c **** 	{
 222:library/Src/ring_buffer.c **** 		  // if the head isn't ahead of the tail, we don't have any characters
 223:library/Src/ring_buffer.c **** 		  if(_rx_buffer2->head == _rx_buffer2->tail)
 224:library/Src/ring_buffer.c **** 		  {
 225:library/Src/ring_buffer.c **** 		    return -1;
 226:library/Src/ring_buffer.c **** 		  }
 227:library/Src/ring_buffer.c **** 		  else
 228:library/Src/ring_buffer.c **** 		  {
 229:library/Src/ring_buffer.c **** 		    unsigned char c = _rx_buffer2->buffer[_rx_buffer2->tail];
 230:library/Src/ring_buffer.c **** 		    _rx_buffer2->tail = (unsigned int)(_rx_buffer2->tail + 1) % UART_BUFFER_SIZE;
 231:library/Src/ring_buffer.c **** 		    return c;
 232:library/Src/ring_buffer.c **** 		  }
 233:library/Src/ring_buffer.c **** 	}
 234:library/Src/ring_buffer.c **** 
 235:library/Src/ring_buffer.c **** 	else return -1;
 236:library/Src/ring_buffer.c **** }
 237:library/Src/ring_buffer.c **** 
 238:library/Src/ring_buffer.c **** int spi_read(SPI_HandleTypeDef *spi)
 239:library/Src/ring_buffer.c **** {
 240:library/Src/ring_buffer.c **** 	if (spi == wifi_spi)
 241:library/Src/ring_buffer.c **** 	{
 242:library/Src/ring_buffer.c **** 		  // if the head isn't ahead of the tail, we don't have any characters
 243:library/Src/ring_buffer.c **** 		  if(_rx_buffer1->head == _rx_buffer1->tail)
 244:library/Src/ring_buffer.c **** 		  {
 245:library/Src/ring_buffer.c **** 		    return -1;
 246:library/Src/ring_buffer.c **** 		  }
 247:library/Src/ring_buffer.c **** 		  else
 248:library/Src/ring_buffer.c **** 		  {
 249:library/Src/ring_buffer.c **** 		    unsigned char c = _rx_buffer1->buffer[_rx_buffer1->tail];
 250:library/Src/ring_buffer.c **** 		    _rx_buffer1->tail = (unsigned int)(_rx_buffer1->tail + 1) % UART_BUFFER_SIZE;
 251:library/Src/ring_buffer.c **** 		    return c;
 252:library/Src/ring_buffer.c **** 		  }
 253:library/Src/ring_buffer.c **** 	}
 254:library/Src/ring_buffer.c **** 
 255:library/Src/ring_buffer.c **** 	else return -1;
 256:library/Src/ring_buffer.c **** }
 257:library/Src/ring_buffer.c **** 
ARM GAS  C:\Users\imkar\AppData\Local\Temp\ccDVr466.s 			page 6


 258:library/Src/ring_buffer.c **** void Uart_write(int c, UART_HandleTypeDef *uart)
 259:library/Src/ring_buffer.c **** {
 260:library/Src/ring_buffer.c **** 	if (c>=0)
 261:library/Src/ring_buffer.c **** 	{
 262:library/Src/ring_buffer.c **** 		/*if (uart == device_uart){
 263:library/Src/ring_buffer.c **** 		int i = (_tx_buffer1->head + 1) % UART_BUFFER_SIZE;
 264:library/Src/ring_buffer.c **** 
 265:library/Src/ring_buffer.c **** 		// If the output buffer is full, there's nothing for it other than to
 266:library/Src/ring_buffer.c **** 		// wait for the interrupt handler to empty it a bit
 267:library/Src/ring_buffer.c **** 		// ???: return 0 here instead?
 268:library/Src/ring_buffer.c **** 		while (i == _tx_buffer1->tail);
 269:library/Src/ring_buffer.c **** 
 270:library/Src/ring_buffer.c **** 		_tx_buffer1->buffer[_tx_buffer1->head] = (uint8_t)c;
 271:library/Src/ring_buffer.c **** 		_tx_buffer1->head = i;
 272:library/Src/ring_buffer.c **** 
 273:library/Src/ring_buffer.c **** 		__HAL_UART_ENABLE_IT(device_uart, UART_IT_TXE); // Enable UART transmission interrupt
 274:library/Src/ring_buffer.c **** 		}*/
 275:library/Src/ring_buffer.c **** 
 276:library/Src/ring_buffer.c **** 		if (uart == pc_uart){
 277:library/Src/ring_buffer.c **** 			int i = (_tx_buffer2->head + 1) % UART_BUFFER_SIZE;
 278:library/Src/ring_buffer.c **** 
 279:library/Src/ring_buffer.c **** 			// If the output buffer is full, there's nothing for it other than to
 280:library/Src/ring_buffer.c **** 			// wait for the interrupt handler to empty it a bit
 281:library/Src/ring_buffer.c **** 			// ???: return 0 here instead?
 282:library/Src/ring_buffer.c **** 			while (i == _tx_buffer2->tail);
 283:library/Src/ring_buffer.c **** 
 284:library/Src/ring_buffer.c **** 			_tx_buffer2->buffer[_tx_buffer2->head] = (uint8_t)c;
 285:library/Src/ring_buffer.c **** 			_tx_buffer2->head = i;
 286:library/Src/ring_buffer.c **** 
 287:library/Src/ring_buffer.c **** 			__HAL_UART_ENABLE_IT(pc_uart, UART_IT_TXE); // Enable UART transmission interrupt
 288:library/Src/ring_buffer.c **** 			}
 289:library/Src/ring_buffer.c **** 	}
 290:library/Src/ring_buffer.c **** }
 291:library/Src/ring_buffer.c **** 
 292:library/Src/ring_buffer.c **** void spi_write(int c, SPI_HandleTypeDef *spi)
 293:library/Src/ring_buffer.c **** {
 294:library/Src/ring_buffer.c **** 	if (c>=0)
 295:library/Src/ring_buffer.c **** 	{
 296:library/Src/ring_buffer.c **** 		if (spi == wifi_spi){
 297:library/Src/ring_buffer.c **** 		int i = (_tx_buffer1->head + 1) % UART_BUFFER_SIZE;
 298:library/Src/ring_buffer.c **** 
 299:library/Src/ring_buffer.c **** 		// If the output buffer is full, there's nothing for it other than to
 300:library/Src/ring_buffer.c **** 		// wait for the interrupt handler to empty it a bit
 301:library/Src/ring_buffer.c **** 		// ???: return 0 here instead?
 302:library/Src/ring_buffer.c **** 		while (i == _tx_buffer1->tail);
 303:library/Src/ring_buffer.c **** 
 304:library/Src/ring_buffer.c **** 		_tx_buffer1->buffer[_tx_buffer1->head] = (uint8_t)c;
 305:library/Src/ring_buffer.c **** 		_tx_buffer1->head = i;
 306:library/Src/ring_buffer.c **** 
 307:library/Src/ring_buffer.c **** 		__HAL_SPI_ENABLE_IT(wifi_spi, SPI_IT_TXE); // Enable UART transmission interrupt
 308:library/Src/ring_buffer.c **** 		}
 309:library/Src/ring_buffer.c **** 	}
 310:library/Src/ring_buffer.c **** }
 311:library/Src/ring_buffer.c **** 
 312:library/Src/ring_buffer.c **** int IsUartDataAvailable(UART_HandleTypeDef *uart)
 313:library/Src/ring_buffer.c **** {
 314:library/Src/ring_buffer.c **** 	if (uart == device_uart) return (uint16_t)(UART_BUFFER_SIZE + _rx_buffer1->head - _rx_buffer1->tai
ARM GAS  C:\Users\imkar\AppData\Local\Temp\ccDVr466.s 			page 7


 315:library/Src/ring_buffer.c **** 	else if (uart == pc_uart) return (uint16_t)(UART_BUFFER_SIZE + _rx_buffer2->head - _rx_buffer2->ta
 316:library/Src/ring_buffer.c **** 	return -1;
 317:library/Src/ring_buffer.c **** }
 318:library/Src/ring_buffer.c **** 
 319:library/Src/ring_buffer.c **** int IsSpiDataAvailable(SPI_HandleTypeDef *spi)
 320:library/Src/ring_buffer.c **** {
 321:library/Src/ring_buffer.c **** 	if (spi == wifi_spi) return (uint16_t)(UART_BUFFER_SIZE + _rx_buffer1->head - _rx_buffer1->tail) %
 322:library/Src/ring_buffer.c **** 	return -1;
 323:library/Src/ring_buffer.c **** }
 324:library/Src/ring_buffer.c **** 
 325:library/Src/ring_buffer.c **** 
 326:library/Src/ring_buffer.c **** 
 327:library/Src/ring_buffer.c **** int Get_after (char *string, uint8_t numberofchars, char *buffertosave, UART_HandleTypeDef *uart)
 328:library/Src/ring_buffer.c **** {
 329:library/Src/ring_buffer.c **** 
 330:library/Src/ring_buffer.c **** 	while (Wait_for(string, uart) != 1);
 331:library/Src/ring_buffer.c **** 	for (int indx=0; indx<numberofchars; indx++)
 332:library/Src/ring_buffer.c **** 	{
 333:library/Src/ring_buffer.c **** 		while (!(IsUartDataAvailable(uart)));
 334:library/Src/ring_buffer.c **** 		buffertosave[indx] = Uart_read(uart);
 335:library/Src/ring_buffer.c **** 	}
 336:library/Src/ring_buffer.c **** 	return 1;
 337:library/Src/ring_buffer.c **** }
 338:library/Src/ring_buffer.c **** 
 339:library/Src/ring_buffer.c **** void Uart_sendstring (const char *s, UART_HandleTypeDef *uart)
 340:library/Src/ring_buffer.c **** {
 341:library/Src/ring_buffer.c **** 	while(*s!='\0') Uart_write(*s++, uart);
 342:library/Src/ring_buffer.c **** }
 343:library/Src/ring_buffer.c **** 
 344:library/Src/ring_buffer.c **** void Uart_printbase (long n, uint8_t base, UART_HandleTypeDef *uart)
 345:library/Src/ring_buffer.c **** {
 346:library/Src/ring_buffer.c ****   char buf[8 * sizeof(long) + 1]; // Assumes 8-bit chars plus zero byte.
 347:library/Src/ring_buffer.c ****   char *s = &buf[sizeof(buf) - 1];
 348:library/Src/ring_buffer.c **** 
 349:library/Src/ring_buffer.c ****   *s = '\0';
 350:library/Src/ring_buffer.c **** 
 351:library/Src/ring_buffer.c ****   // prevent crash if called with base == 1
 352:library/Src/ring_buffer.c ****   if (base < 2) base = 10;
 353:library/Src/ring_buffer.c **** 
 354:library/Src/ring_buffer.c ****   do {
 355:library/Src/ring_buffer.c ****     unsigned long m = n;
 356:library/Src/ring_buffer.c ****     n /= base;
 357:library/Src/ring_buffer.c ****     char c = m - base * n;
 358:library/Src/ring_buffer.c ****     *--s = c < 10 ? c + '0' : c + 'A' - 10;
 359:library/Src/ring_buffer.c ****   } while(n);
 360:library/Src/ring_buffer.c **** 
 361:library/Src/ring_buffer.c ****   while(*s) Uart_write(*s++, uart);
 362:library/Src/ring_buffer.c **** }
 363:library/Src/ring_buffer.c **** 
 364:library/Src/ring_buffer.c **** 
 365:library/Src/ring_buffer.c **** int Copy_upto (char *string, char *buffertocopyinto, UART_HandleTypeDef *uart)
 366:library/Src/ring_buffer.c **** {
 367:library/Src/ring_buffer.c **** 	int so_far =0;
 368:library/Src/ring_buffer.c **** 	int len = strlen (string);
 369:library/Src/ring_buffer.c **** 	int indx = 0;
 370:library/Src/ring_buffer.c **** 
 371:library/Src/ring_buffer.c **** again:
ARM GAS  C:\Users\imkar\AppData\Local\Temp\ccDVr466.s 			page 8


 372:library/Src/ring_buffer.c **** 	while (!IsUartDataAvailable(uart));
 373:library/Src/ring_buffer.c **** 	while (Uart_peek(uart) != string[so_far])
 374:library/Src/ring_buffer.c **** 		{
 375:library/Src/ring_buffer.c **** 			buffertocopyinto[indx] = _rx_buffer1->buffer[_rx_buffer1->tail];
 376:library/Src/ring_buffer.c **** 			_rx_buffer1->tail = (unsigned int)(_rx_buffer1->tail + 1) % UART_BUFFER_SIZE;
 377:library/Src/ring_buffer.c **** 			indx++;
 378:library/Src/ring_buffer.c **** 			while (!IsUartDataAvailable(uart));
 379:library/Src/ring_buffer.c **** 
 380:library/Src/ring_buffer.c **** 		}
 381:library/Src/ring_buffer.c **** 	while (Uart_peek(uart) == string [so_far])
 382:library/Src/ring_buffer.c **** 	{
 383:library/Src/ring_buffer.c **** 		so_far++;
 384:library/Src/ring_buffer.c **** 		buffertocopyinto[indx++] = Uart_read(uart);
 385:library/Src/ring_buffer.c **** 		if (so_far == len) return 1;
 386:library/Src/ring_buffer.c **** 		while (!IsUartDataAvailable(uart));
 387:library/Src/ring_buffer.c **** 	}
 388:library/Src/ring_buffer.c **** 
 389:library/Src/ring_buffer.c **** 	if (so_far != len)
 390:library/Src/ring_buffer.c **** 	{
 391:library/Src/ring_buffer.c **** 		so_far = 0;
 392:library/Src/ring_buffer.c **** 		goto again;
 393:library/Src/ring_buffer.c **** 	}
 394:library/Src/ring_buffer.c **** 
 395:library/Src/ring_buffer.c **** 	if (so_far == len) return 1;
 396:library/Src/ring_buffer.c **** 	else return -1;
 397:library/Src/ring_buffer.c **** 
 398:library/Src/ring_buffer.c **** }
 399:library/Src/ring_buffer.c **** 
 400:library/Src/ring_buffer.c **** 
 401:library/Src/ring_buffer.c **** int Wait_for (char *string, UART_HandleTypeDef *uart)
 402:library/Src/ring_buffer.c **** {
 403:library/Src/ring_buffer.c **** 	int so_far =0;
 404:library/Src/ring_buffer.c **** 	int len = strlen (string);
 405:library/Src/ring_buffer.c **** 
 406:library/Src/ring_buffer.c **** again_device:
 407:library/Src/ring_buffer.c **** 	timeout = TIMEOUT_DEF;
 408:library/Src/ring_buffer.c **** 	while ((!IsUartDataAvailable(uart))&&timeout); 
 409:library/Src/ring_buffer.c **** 	if (timeout == 0) return 0;
 410:library/Src/ring_buffer.c **** 	while (Uart_peek(uart) != string[so_far]) 
 411:library/Src/ring_buffer.c **** 	{
 412:library/Src/ring_buffer.c **** 		 _rx_buffer1->tail = (unsigned int)(_rx_buffer1->tail + 1) % UART_BUFFER_SIZE ;
 413:library/Src/ring_buffer.c **** 		goto again_device;
 414:library/Src/ring_buffer.c **** 
 415:library/Src/ring_buffer.c **** 	}
 416:library/Src/ring_buffer.c **** 	while (Uart_peek(uart) == string [so_far])
 417:library/Src/ring_buffer.c **** 	{
 418:library/Src/ring_buffer.c **** 		so_far++;
 419:library/Src/ring_buffer.c **** 		_rx_buffer1->tail = (unsigned int)(_rx_buffer1->tail + 1) % UART_BUFFER_SIZE; 
 420:library/Src/ring_buffer.c **** 		if (so_far == len) return 1;
 421:library/Src/ring_buffer.c **** 		timeout = TIMEOUT_DEF;
 422:library/Src/ring_buffer.c **** 		while ((!IsUartDataAvailable(uart))&&timeout);
 423:library/Src/ring_buffer.c **** 		if (timeout == 0) return -1;
 424:library/Src/ring_buffer.c **** 	}
 425:library/Src/ring_buffer.c **** 
 426:library/Src/ring_buffer.c **** 	if (so_far != len)
 427:library/Src/ring_buffer.c **** 	{
 428:library/Src/ring_buffer.c **** 		so_far = 0;
ARM GAS  C:\Users\imkar\AppData\Local\Temp\ccDVr466.s 			page 9


 429:library/Src/ring_buffer.c **** 		goto again_device;
 430:library/Src/ring_buffer.c **** 	}
 431:library/Src/ring_buffer.c **** 
 432:library/Src/ring_buffer.c **** 	if (so_far == len) return 1;
 433:library/Src/ring_buffer.c **** 	else return -1;
 434:library/Src/ring_buffer.c **** }
 435:library/Src/ring_buffer.c **** 
 436:library/Src/ring_buffer.c **** void my_Uart_isr (UART_HandleTypeDef *huart)
 437:library/Src/ring_buffer.c **** {
 438:library/Src/ring_buffer.c **** 	  uint32_t isrflags   = READ_REG(huart->Instance->ISR);
 439:library/Src/ring_buffer.c **** 	  uint32_t cr1its     = READ_REG(huart->Instance->CR1);
 440:library/Src/ring_buffer.c **** 
 441:library/Src/ring_buffer.c ****     /* if DR is not empty and the Rx Int is enabled */
 442:library/Src/ring_buffer.c ****     if (((isrflags & USART_ISR_RXNE) != RESET) && ((cr1its & USART_CR1_RXNEIE) != RESET))
 443:library/Src/ring_buffer.c ****     {
 444:library/Src/ring_buffer.c ****     	 /******************
 445:library/Src/ring_buffer.c ****     	    	      *  @note   PE (Parity error), FE (Framing error), NE (Noise error), ORE (Overrun
 446:library/Src/ring_buffer.c ****     	    	      *          error) and IDLE (Idle line detected) flags are cleared by software
 447:library/Src/ring_buffer.c ****     	    	      *          sequence: a read operation to USART_SR register followed by a read
 448:library/Src/ring_buffer.c ****     	    	      *          operation to USART_DR register.
 449:library/Src/ring_buffer.c ****     	    	      * @note   RXNE flag can be also cleared by a read to the USART_DR register.
 450:library/Src/ring_buffer.c ****     	    	      * @note   TC flag can be also cleared by software sequence: a read operation to
 451:library/Src/ring_buffer.c ****     	    	      *          USART_SR register followed by a write operation to USART_DR register.
 452:library/Src/ring_buffer.c ****     	    	      * @note   TXE flag is cleared only by a write to the USART_DR register.
 453:library/Src/ring_buffer.c **** 
 454:library/Src/ring_buffer.c ****     	 *********************/
 455:library/Src/ring_buffer.c **** 		huart->Instance->ISR;                       /* Read status register */
 456:library/Src/ring_buffer.c ****         unsigned char c = huart->Instance->RDR;     /* Read data register */
 457:library/Src/ring_buffer.c ****         if (huart == device_uart)
 458:library/Src/ring_buffer.c ****         {
 459:library/Src/ring_buffer.c ****         	store_char (c, _rx_buffer1);  // store data in buffer
 460:library/Src/ring_buffer.c ****         }
 461:library/Src/ring_buffer.c **** 
 462:library/Src/ring_buffer.c ****         else if (huart == pc_uart)
 463:library/Src/ring_buffer.c ****         {
 464:library/Src/ring_buffer.c ****            	store_char (c, _rx_buffer2);  // store data in buffer
 465:library/Src/ring_buffer.c ****         }
 466:library/Src/ring_buffer.c **** 
 467:library/Src/ring_buffer.c ****         return;
 468:library/Src/ring_buffer.c ****     }
 469:library/Src/ring_buffer.c **** 
 470:library/Src/ring_buffer.c ****     /*If interrupt is caused due to Transmit Data Register Empty */
 471:library/Src/ring_buffer.c ****     if (((isrflags & USART_ISR_TXE) != RESET) && ((cr1its & USART_CR1_TXEIE) != RESET))
 472:library/Src/ring_buffer.c ****     {
 473:library/Src/ring_buffer.c ****     	if (huart == device_uart){
 474:library/Src/ring_buffer.c ****     	if(tx_buffer1.head == tx_buffer1.tail)
 475:library/Src/ring_buffer.c ****     	    {
 476:library/Src/ring_buffer.c ****     	      // Buffer empty, so disable interrupts
 477:library/Src/ring_buffer.c ****     	      __HAL_UART_DISABLE_IT(huart, UART_IT_TXE);
 478:library/Src/ring_buffer.c **** 
 479:library/Src/ring_buffer.c ****     	    }
 480:library/Src/ring_buffer.c **** 
 481:library/Src/ring_buffer.c ****     	 else
 482:library/Src/ring_buffer.c ****     	    {
 483:library/Src/ring_buffer.c ****     	      // There is more data in the output buffer. Send the next byte
 484:library/Src/ring_buffer.c ****     	      unsigned char c = tx_buffer1.buffer[tx_buffer1.tail];
 485:library/Src/ring_buffer.c ****     	      tx_buffer1.tail = (tx_buffer1.tail + 1) % UART_BUFFER_SIZE;
ARM GAS  C:\Users\imkar\AppData\Local\Temp\ccDVr466.s 			page 10


 486:library/Src/ring_buffer.c **** 
 487:library/Src/ring_buffer.c ****     	      /******************
 488:library/Src/ring_buffer.c ****     	      *  @note   PE (Parity error), FE (Framing error), NE (Noise error), ORE (Overrun
 489:library/Src/ring_buffer.c ****     	      *          error) and IDLE (Idle line detected) flags are cleared by software
 490:library/Src/ring_buffer.c ****     	      *          sequence: a read operation to USART_SR register followed by a read
 491:library/Src/ring_buffer.c ****     	      *          operation to USART_DR register.
 492:library/Src/ring_buffer.c ****     	      * @note   RXNE flag can be also cleared by a read to the USART_DR register.
 493:library/Src/ring_buffer.c ****     	      * @note   TC flag can be also cleared by software sequence: a read operation to
 494:library/Src/ring_buffer.c ****     	      *          USART_SR register followed by a write operation to USART_DR register.
 495:library/Src/ring_buffer.c ****     	      * @note   TXE flag is cleared only by a write to the USART_DR register.
 496:library/Src/ring_buffer.c **** 
 497:library/Src/ring_buffer.c ****     	      *********************/
 498:library/Src/ring_buffer.c **** 
 499:library/Src/ring_buffer.c ****     	      huart->Instance->ISR;
 500:library/Src/ring_buffer.c ****     	      huart->Instance->TDR = c;
 501:library/Src/ring_buffer.c **** 
 502:library/Src/ring_buffer.c ****     	    }
 503:library/Src/ring_buffer.c ****     	}
 504:library/Src/ring_buffer.c **** 
 505:library/Src/ring_buffer.c ****     	else if (huart == pc_uart){
 506:library/Src/ring_buffer.c ****         	if(tx_buffer2.head == tx_buffer2.tail)
 507:library/Src/ring_buffer.c ****         	    {
 508:library/Src/ring_buffer.c ****         	      // Buffer empty, so disable interrupts
 509:library/Src/ring_buffer.c **** 
 510:library/Src/ring_buffer.c ****         	      __HAL_UART_DISABLE_IT(huart, UART_IT_TXE);
 511:library/Src/ring_buffer.c **** 
 512:library/Src/ring_buffer.c ****         	    }
 513:library/Src/ring_buffer.c **** 
 514:library/Src/ring_buffer.c ****         	 else
 515:library/Src/ring_buffer.c ****         	    {
 516:library/Src/ring_buffer.c ****         	      // There is more data in the output buffer. Send the next byte
 517:library/Src/ring_buffer.c ****         	      unsigned char c = tx_buffer2.buffer[tx_buffer2.tail];
 518:library/Src/ring_buffer.c ****         	      tx_buffer2.tail = (tx_buffer2.tail + 1) % UART_BUFFER_SIZE;
 519:library/Src/ring_buffer.c **** 
 520:library/Src/ring_buffer.c ****         	      /******************
 521:library/Src/ring_buffer.c ****         	      *  @note   PE (Parity error), FE (Framing error), NE (Noise error), ORE (Overrun
 522:library/Src/ring_buffer.c ****         	      *          error) and IDLE (Idle line detected) flags are cleared by software
 523:library/Src/ring_buffer.c ****         	      *          sequence: a read operation to USART_SR register followed by a read
 524:library/Src/ring_buffer.c ****         	      *          operation to USART_DR register.
 525:library/Src/ring_buffer.c ****         	      * @note   RXNE flag can be also cleared by a read to the USART_DR register.
 526:library/Src/ring_buffer.c ****         	      * @note   TC flag can be also cleared by software sequence: a read operation to
 527:library/Src/ring_buffer.c ****         	      *          USART_SR register followed by a write operation to USART_DR register.
 528:library/Src/ring_buffer.c ****         	      * @note   TXE flag is cleared only by a write to the USART_DR register.
 529:library/Src/ring_buffer.c **** 
 530:library/Src/ring_buffer.c ****         	      *********************/
 531:library/Src/ring_buffer.c **** 
 532:library/Src/ring_buffer.c ****         	      huart->Instance->ISR;
 533:library/Src/ring_buffer.c ****         	      huart->Instance->TDR = c;
 534:library/Src/ring_buffer.c **** 
 535:library/Src/ring_buffer.c ****         	    }
 536:library/Src/ring_buffer.c ****         	}
 537:library/Src/ring_buffer.c ****     	return;
 538:library/Src/ring_buffer.c ****     }
 539:library/Src/ring_buffer.c **** }
 540:library/Src/ring_buffer.c **** 
 541:library/Src/ring_buffer.c **** 
 542:library/Src/ring_buffer.c **** void my_spi_isr (SPI_HandleTypeDef *hspi) 
ARM GAS  C:\Users\imkar\AppData\Local\Temp\ccDVr466.s 			page 11


 543:library/Src/ring_buffer.c **** {
  30              		.loc 1 543 1 view -0
  31              		.cfi_startproc
  32              		@ args = 0, pretend = 0, frame = 32
  33              		@ frame_needed = 1, uses_anonymous_args = 0
  34              		.loc 1 543 1 is_stmt 0 view .LVU1
  35 0000 80B5     		push	{r7, lr}
  36              	.LCFI0:
  37              		.cfi_def_cfa_offset 8
  38              		.cfi_offset 7, -8
  39              		.cfi_offset 14, -4
  40 0002 88B0     		sub	sp, sp, #32
  41              	.LCFI1:
  42              		.cfi_def_cfa_offset 40
  43 0004 00AF     		add	r7, sp, #0
  44              	.LCFI2:
  45              		.cfi_def_cfa_register 7
  46 0006 7860     		str	r0, [r7, #4]
 544:library/Src/ring_buffer.c **** 	  uint32_t isrflags   = READ_REG(hspi->Instance->SR);
  47              		.loc 1 544 4 is_stmt 1 view .LVU2
  48              		.loc 1 544 26 is_stmt 0 view .LVU3
  49 0008 7B68     		ldr	r3, [r7, #4]
  50 000a 1B68     		ldr	r3, [r3]
  51              		.loc 1 544 13 view .LVU4
  52 000c 9B68     		ldr	r3, [r3, #8]
  53 000e FB61     		str	r3, [r7, #28]
  54              	.LVL1:
 545:library/Src/ring_buffer.c **** 	  uint32_t cr1its     = READ_REG(hspi->Instance->CR2);
  55              		.loc 1 545 4 is_stmt 1 view .LVU5
  56              		.loc 1 545 26 is_stmt 0 view .LVU6
  57 0010 7B68     		ldr	r3, [r7, #4]
  58              	.LVL2:
  59              		.loc 1 545 26 view .LVU7
  60 0012 1B68     		ldr	r3, [r3]
  61              		.loc 1 545 13 view .LVU8
  62 0014 5B68     		ldr	r3, [r3, #4]
  63 0016 BB61     		str	r3, [r7, #24]
  64              	.LVL3:
 546:library/Src/ring_buffer.c **** 
 547:library/Src/ring_buffer.c ****     /* if DR is not empty and the Rx Int is enabled */
 548:library/Src/ring_buffer.c ****     if (((isrflags & SPI_SR_RXNE) != RESET) && ((cr1its & SPI_CR2_RXNEIE) != RESET))
  65              		.loc 1 548 5 is_stmt 1 view .LVU9
  66              		.loc 1 548 20 is_stmt 0 view .LVU10
  67 0018 FB69     		ldr	r3, [r7, #28]
  68              	.LVL4:
  69              		.loc 1 548 20 view .LVU11
  70 001a 03F00103 		and	r3, r3, #1
  71              		.loc 1 548 8 view .LVU12
  72 001e 002B     		cmp	r3, #0
  73 0020 18D0     		beq	.L2
  74              		.loc 1 548 57 discriminator 1 view .LVU13
  75 0022 BB69     		ldr	r3, [r7, #24]
  76 0024 03F04003 		and	r3, r3, #64
  77              		.loc 1 548 45 discriminator 1 view .LVU14
  78 0028 002B     		cmp	r3, #0
  79 002a 13D0     		beq	.L2
  80              	.LBB2:
ARM GAS  C:\Users\imkar\AppData\Local\Temp\ccDVr466.s 			page 12


 549:library/Src/ring_buffer.c ****     {
 550:library/Src/ring_buffer.c ****     	 /******************
 551:library/Src/ring_buffer.c ****     	    	      *  @note   PE (Parity error), FE (Framing error), NE (Noise error), ORE (Overrun
 552:library/Src/ring_buffer.c ****     	    	      *          error) and IDLE (Idle line detected) flags are cleared by software
 553:library/Src/ring_buffer.c ****     	    	      *          sequence: a read operation to USART_SR register followed by a read
 554:library/Src/ring_buffer.c ****     	    	      *          operation to USART_DR register.
 555:library/Src/ring_buffer.c ****     	    	      * @note   RXNE flag can be also cleared by a read to the USART_DR register.
 556:library/Src/ring_buffer.c ****     	    	      * @note   TC flag can be also cleared by software sequence: a read operation to
 557:library/Src/ring_buffer.c ****     	    	      *          USART_SR register followed by a write operation to USART_DR register.
 558:library/Src/ring_buffer.c ****     	    	      * @note   TXE flag is cleared only by a write to the USART_DR register.
 559:library/Src/ring_buffer.c **** 
 560:library/Src/ring_buffer.c ****     	 *********************/
 561:library/Src/ring_buffer.c **** 		hspi->Instance->SR;                       /* Read status register */
  81              		.loc 1 561 3 is_stmt 1 view .LVU15
  82              		.loc 1 561 7 is_stmt 0 view .LVU16
  83 002c 7B68     		ldr	r3, [r7, #4]
  84 002e 1B68     		ldr	r3, [r3]
  85              		.loc 1 561 17 view .LVU17
  86 0030 9B68     		ldr	r3, [r3, #8]
 562:library/Src/ring_buffer.c ****         unsigned char c = hspi->Instance->DR;     /* Read data register */
  87              		.loc 1 562 9 is_stmt 1 view .LVU18
  88              		.loc 1 562 31 is_stmt 0 view .LVU19
  89 0032 7B68     		ldr	r3, [r7, #4]
  90 0034 1B68     		ldr	r3, [r3]
  91              		.loc 1 562 41 view .LVU20
  92 0036 DB68     		ldr	r3, [r3, #12]
  93              		.loc 1 562 23 view .LVU21
  94 0038 FB75     		strb	r3, [r7, #23]
  95              	.LVL5:
 563:library/Src/ring_buffer.c ****         if (hspi == wifi_spi)
  96              		.loc 1 563 9 is_stmt 1 view .LVU22
  97              		.loc 1 563 12 is_stmt 0 view .LVU23
  98 003a 7B68     		ldr	r3, [r7, #4]
  99              	.LVL6:
 100              		.loc 1 563 12 view .LVU24
 101 003c 514A     		ldr	r2, .L16
 102 003e 9342     		cmp	r3, r2
 103 0040 40F09980 		bne	.L13
 564:library/Src/ring_buffer.c ****         {
 565:library/Src/ring_buffer.c ****         	store_char (c, _rx_buffer1);  // store data in buffer
 104              		.loc 1 565 10 is_stmt 1 view .LVU25
 105 0044 504B     		ldr	r3, .L16+4
 106 0046 1A68     		ldr	r2, [r3]
 107 0048 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 108 004a 1146     		mov	r1, r2
 109 004c 1846     		mov	r0, r3
 110              	.LVL7:
 111              		.loc 1 565 10 is_stmt 0 view .LVU26
 112 004e FFF7FEFF 		bl	store_char
 113              	.LVL8:
 566:library/Src/ring_buffer.c ****         }
 567:library/Src/ring_buffer.c ****         return;
 114              		.loc 1 567 9 is_stmt 1 view .LVU27
 115 0052 90E0     		b	.L13
 116              	.LVL9:
 117              	.L2:
 118              		.loc 1 567 9 is_stmt 0 view .LVU28
ARM GAS  C:\Users\imkar\AppData\Local\Temp\ccDVr466.s 			page 13


 119              	.LBE2:
 568:library/Src/ring_buffer.c ****     }
 569:library/Src/ring_buffer.c **** 
 570:library/Src/ring_buffer.c ****     /*If interrupt is caused due to Transmit Data Register Empty */
 571:library/Src/ring_buffer.c ****     if (((isrflags & SPI_SR_TXE) != RESET) && ((cr1its & SPI_CR2_TXEIE) != RESET))
 120              		.loc 1 571 5 is_stmt 1 view .LVU29
 121              		.loc 1 571 20 is_stmt 0 view .LVU30
 122 0054 FB69     		ldr	r3, [r7, #28]
 123 0056 03F00203 		and	r3, r3, #2
 124              		.loc 1 571 8 view .LVU31
 125 005a 002B     		cmp	r3, #0
 126 005c 00F08E80 		beq	.L1
 127              		.loc 1 571 56 discriminator 1 view .LVU32
 128 0060 BB69     		ldr	r3, [r7, #24]
 129 0062 03F08003 		and	r3, r3, #128
 130              		.loc 1 571 44 discriminator 1 view .LVU33
 131 0066 002B     		cmp	r3, #0
 132 0068 00F08880 		beq	.L1
 572:library/Src/ring_buffer.c ****     {
 573:library/Src/ring_buffer.c ****     	if (hspi == wifi_spi){
 133              		.loc 1 573 6 is_stmt 1 view .LVU34
 134              		.loc 1 573 9 is_stmt 0 view .LVU35
 135 006c 7B68     		ldr	r3, [r7, #4]
 136 006e 454A     		ldr	r2, .L16
 137 0070 9342     		cmp	r3, r2
 138 0072 40F08280 		bne	.L14
 574:library/Src/ring_buffer.c ****     	if(tx_buffer1.head == tx_buffer1.tail)
 139              		.loc 1 574 6 is_stmt 1 view .LVU36
 140              		.loc 1 574 19 is_stmt 0 view .LVU37
 141 0076 454B     		ldr	r3, .L16+8
 142 0078 5A6E     		ldr	r2, [r3, #100]
 143              		.loc 1 574 38 view .LVU38
 144 007a 444B     		ldr	r3, .L16+8
 145 007c 9B6E     		ldr	r3, [r3, #104]
 146              		.loc 1 574 8 view .LVU39
 147 007e 9A42     		cmp	r2, r3
 148 0080 08D1     		bne	.L6
 575:library/Src/ring_buffer.c ****     	    {
 576:library/Src/ring_buffer.c ****     	      // Buffer empty, so disable interrupts
 577:library/Src/ring_buffer.c ****     	      __HAL_SPI_DISABLE_IT(hspi, SPI_IT_TXE);
 149              		.loc 1 577 12 is_stmt 1 view .LVU40
 150 0082 7B68     		ldr	r3, [r7, #4]
 151 0084 1B68     		ldr	r3, [r3]
 152 0086 5A68     		ldr	r2, [r3, #4]
 153 0088 7B68     		ldr	r3, [r7, #4]
 154 008a 1B68     		ldr	r3, [r3]
 155 008c 22F08002 		bic	r2, r2, #128
 156 0090 5A60     		str	r2, [r3, #4]
 578:library/Src/ring_buffer.c **** 
 579:library/Src/ring_buffer.c ****     	    }
 580:library/Src/ring_buffer.c **** 
 581:library/Src/ring_buffer.c ****     	 else
 582:library/Src/ring_buffer.c ****     	    {
 583:library/Src/ring_buffer.c ****     	      
 584:library/Src/ring_buffer.c **** 			  hspi->Instance->CR1 |= (1<<6); //SPI Enable
 585:library/Src/ring_buffer.c **** 			  unsigned char *c;
 586:library/Src/ring_buffer.c **** 			  volatile uint16_t view;
ARM GAS  C:\Users\imkar\AppData\Local\Temp\ccDVr466.s 			page 14


 587:library/Src/ring_buffer.c **** 
 588:library/Src/ring_buffer.c **** 			  // There is more data in the output buffer. Send the next byte
 589:library/Src/ring_buffer.c ****     	      if((tx_buffer1.head - tx_buffer1.tail) > 1U)
 590:library/Src/ring_buffer.c **** 			  {
 591:library/Src/ring_buffer.c **** 			  c = &tx_buffer1.buffer[tx_buffer1.tail];
 592:library/Src/ring_buffer.c ****     	      tx_buffer1.tail = (tx_buffer1.tail + 2U) % UART_BUFFER_SIZE;
 593:library/Src/ring_buffer.c **** 			  hspi->Instance->DR = *((uint16_t *)c);
 594:library/Src/ring_buffer.c **** 			  //view = *((uint16_t *)c);
 595:library/Src/ring_buffer.c **** 			  }
 596:library/Src/ring_buffer.c **** 
 597:library/Src/ring_buffer.c **** 			  if((tx_buffer1.head - tx_buffer1.tail) == 1U)
 598:library/Src/ring_buffer.c **** 			  {
 599:library/Src/ring_buffer.c **** 				c = &tx_buffer1.buffer[tx_buffer1.tail];
 600:library/Src/ring_buffer.c ****     	        tx_buffer1.tail = (tx_buffer1.tail + 1U) % UART_BUFFER_SIZE;
 601:library/Src/ring_buffer.c **** 				*((__IO uint8_t *)&hspi->Instance->DR) = (*c);
 602:library/Src/ring_buffer.c **** 				view = *((uint16_t *)c);
 603:library/Src/ring_buffer.c **** 			  }
 604:library/Src/ring_buffer.c ****     	      /******************
 605:library/Src/ring_buffer.c ****     	      *  @note   PE (Parity error), FE (Framing error), NE (Noise error), ORE (Overrun
 606:library/Src/ring_buffer.c ****     	      *          error) and IDLE (Idle line detected) flags are cleared by software
 607:library/Src/ring_buffer.c ****     	      *          sequence: a read operation to USART_SR register followed by a read
 608:library/Src/ring_buffer.c ****     	      *          operation to USART_DR register.
 609:library/Src/ring_buffer.c ****     	      * @note   RXNE flag can be also cleared by a read to the USART_DR register.
 610:library/Src/ring_buffer.c ****     	      * @note   TC flag can be also cleared by software sequence: a read operation to
 611:library/Src/ring_buffer.c ****     	      *          USART_SR register followed by a write operation to USART_DR register.
 612:library/Src/ring_buffer.c ****     	      * @note   TXE flag is cleared only by a write to the USART_DR register.
 613:library/Src/ring_buffer.c **** 
 614:library/Src/ring_buffer.c ****     	      *********************/
 615:library/Src/ring_buffer.c **** 
 616:library/Src/ring_buffer.c ****     	      	while (!((hspi->Instance->SR)&(1<<1))) {};  // wait for TXE bit to set -> This will ind
 617:library/Src/ring_buffer.c **** 				while (((hspi->Instance->SR)&(1<<7))) {};  // wait for BSY bit to Reset -> This will indicate t
 618:library/Src/ring_buffer.c **** 
 619:library/Src/ring_buffer.c ****   				while (((hspi->Instance->SR)&(1<<0))) 
 620:library/Src/ring_buffer.c **** 				{
 621:library/Src/ring_buffer.c **** 					uint8_t temp = hspi->Instance->DR;
 622:library/Src/ring_buffer.c **** 				}; 
 623:library/Src/ring_buffer.c **** 				
 624:library/Src/ring_buffer.c **** 				uint8_t	temp1 = hspi->Instance->SR;
 625:library/Src/ring_buffer.c **** 				hspi->Instance->CR1 &= ~(1<<6);
 626:library/Src/ring_buffer.c ****     	    }
 627:library/Src/ring_buffer.c ****     	}
 628:library/Src/ring_buffer.c ****     	return;
 157              		.loc 1 628 6 is_stmt 0 view .LVU41
 158 0092 72E0     		b	.L14
 159              	.L6:
 160              	.LBB3:
 584:library/Src/ring_buffer.c **** 			  unsigned char *c;
 161              		.loc 1 584 6 is_stmt 1 view .LVU42
 584:library/Src/ring_buffer.c **** 			  unsigned char *c;
 162              		.loc 1 584 10 is_stmt 0 view .LVU43
 163 0094 7B68     		ldr	r3, [r7, #4]
 164 0096 1B68     		ldr	r3, [r3]
 584:library/Src/ring_buffer.c **** 			  unsigned char *c;
 165              		.loc 1 584 26 view .LVU44
 166 0098 1A68     		ldr	r2, [r3]
 584:library/Src/ring_buffer.c **** 			  unsigned char *c;
 167              		.loc 1 584 10 view .LVU45
ARM GAS  C:\Users\imkar\AppData\Local\Temp\ccDVr466.s 			page 15


 168 009a 7B68     		ldr	r3, [r7, #4]
 169 009c 1B68     		ldr	r3, [r3]
 584:library/Src/ring_buffer.c **** 			  unsigned char *c;
 170              		.loc 1 584 26 view .LVU46
 171 009e 42F04002 		orr	r2, r2, #64
 172 00a2 1A60     		str	r2, [r3]
 585:library/Src/ring_buffer.c **** 			  volatile uint16_t view;
 173              		.loc 1 585 6 is_stmt 1 view .LVU47
 586:library/Src/ring_buffer.c **** 
 174              		.loc 1 586 6 view .LVU48
 589:library/Src/ring_buffer.c **** 			  {
 175              		.loc 1 589 12 view .LVU49
 589:library/Src/ring_buffer.c **** 			  {
 176              		.loc 1 589 26 is_stmt 0 view .LVU50
 177 00a4 394B     		ldr	r3, .L16+8
 178 00a6 5A6E     		ldr	r2, [r3, #100]
 589:library/Src/ring_buffer.c **** 			  {
 179              		.loc 1 589 44 view .LVU51
 180 00a8 384B     		ldr	r3, .L16+8
 181 00aa 9B6E     		ldr	r3, [r3, #104]
 589:library/Src/ring_buffer.c **** 			  {
 182              		.loc 1 589 32 view .LVU52
 183 00ac D31A     		subs	r3, r2, r3
 589:library/Src/ring_buffer.c **** 			  {
 184              		.loc 1 589 14 view .LVU53
 185 00ae 012B     		cmp	r3, #1
 186 00b0 16D9     		bls	.L7
 591:library/Src/ring_buffer.c ****     	      tx_buffer1.tail = (tx_buffer1.tail + 2U) % UART_BUFFER_SIZE;
 187              		.loc 1 591 6 is_stmt 1 view .LVU54
 591:library/Src/ring_buffer.c ****     	      tx_buffer1.tail = (tx_buffer1.tail + 2U) % UART_BUFFER_SIZE;
 188              		.loc 1 591 39 is_stmt 0 view .LVU55
 189 00b2 364B     		ldr	r3, .L16+8
 190 00b4 9B6E     		ldr	r3, [r3, #104]
 591:library/Src/ring_buffer.c ****     	      tx_buffer1.tail = (tx_buffer1.tail + 2U) % UART_BUFFER_SIZE;
 191              		.loc 1 591 8 view .LVU56
 192 00b6 354A     		ldr	r2, .L16+8
 193 00b8 1344     		add	r3, r3, r2
 194 00ba 3B61     		str	r3, [r7, #16]
 195              	.LVL10:
 592:library/Src/ring_buffer.c **** 			  hspi->Instance->DR = *((uint16_t *)c);
 196              		.loc 1 592 12 is_stmt 1 view .LVU57
 592:library/Src/ring_buffer.c **** 			  hspi->Instance->DR = *((uint16_t *)c);
 197              		.loc 1 592 41 is_stmt 0 view .LVU58
 198 00bc 334B     		ldr	r3, .L16+8
 199              	.LVL11:
 592:library/Src/ring_buffer.c **** 			  hspi->Instance->DR = *((uint16_t *)c);
 200              		.loc 1 592 41 view .LVU59
 201 00be 9B6E     		ldr	r3, [r3, #104]
 592:library/Src/ring_buffer.c **** 			  hspi->Instance->DR = *((uint16_t *)c);
 202              		.loc 1 592 47 view .LVU60
 203 00c0 9A1C     		adds	r2, r3, #2
 592:library/Src/ring_buffer.c **** 			  hspi->Instance->DR = *((uint16_t *)c);
 204              		.loc 1 592 53 view .LVU61
 205 00c2 334B     		ldr	r3, .L16+12
 206 00c4 A3FB0213 		umull	r1, r3, r3, r2
 207 00c8 5B09     		lsrs	r3, r3, #5
 208 00ca 6421     		movs	r1, #100
ARM GAS  C:\Users\imkar\AppData\Local\Temp\ccDVr466.s 			page 16


 209 00cc 01FB03F3 		mul	r3, r1, r3
 210 00d0 D31A     		subs	r3, r2, r3
 592:library/Src/ring_buffer.c **** 			  hspi->Instance->DR = *((uint16_t *)c);
 211              		.loc 1 592 28 view .LVU62
 212 00d2 2E4A     		ldr	r2, .L16+8
 213 00d4 9366     		str	r3, [r2, #104]
 593:library/Src/ring_buffer.c **** 			  //view = *((uint16_t *)c);
 214              		.loc 1 593 6 is_stmt 1 view .LVU63
 593:library/Src/ring_buffer.c **** 			  //view = *((uint16_t *)c);
 215              		.loc 1 593 27 is_stmt 0 view .LVU64
 216 00d6 3B69     		ldr	r3, [r7, #16]
 217 00d8 1A88     		ldrh	r2, [r3]
 593:library/Src/ring_buffer.c **** 			  //view = *((uint16_t *)c);
 218              		.loc 1 593 10 view .LVU65
 219 00da 7B68     		ldr	r3, [r7, #4]
 220 00dc 1B68     		ldr	r3, [r3]
 593:library/Src/ring_buffer.c **** 			  //view = *((uint16_t *)c);
 221              		.loc 1 593 25 view .LVU66
 222 00de DA60     		str	r2, [r3, #12]
 223              	.LVL12:
 224              	.L7:
 597:library/Src/ring_buffer.c **** 			  {
 225              		.loc 1 597 6 is_stmt 1 view .LVU67
 597:library/Src/ring_buffer.c **** 			  {
 226              		.loc 1 597 20 is_stmt 0 view .LVU68
 227 00e0 2A4B     		ldr	r3, .L16+8
 228 00e2 5A6E     		ldr	r2, [r3, #100]
 597:library/Src/ring_buffer.c **** 			  {
 229              		.loc 1 597 38 view .LVU69
 230 00e4 294B     		ldr	r3, .L16+8
 231 00e6 9B6E     		ldr	r3, [r3, #104]
 597:library/Src/ring_buffer.c **** 			  {
 232              		.loc 1 597 26 view .LVU70
 233 00e8 D31A     		subs	r3, r2, r3
 597:library/Src/ring_buffer.c **** 			  {
 234              		.loc 1 597 8 view .LVU71
 235 00ea 012B     		cmp	r3, #1
 236 00ec 1AD1     		bne	.L15
 599:library/Src/ring_buffer.c ****     	        tx_buffer1.tail = (tx_buffer1.tail + 1U) % UART_BUFFER_SIZE;
 237              		.loc 1 599 5 is_stmt 1 view .LVU72
 599:library/Src/ring_buffer.c ****     	        tx_buffer1.tail = (tx_buffer1.tail + 1U) % UART_BUFFER_SIZE;
 238              		.loc 1 599 38 is_stmt 0 view .LVU73
 239 00ee 274B     		ldr	r3, .L16+8
 240 00f0 9B6E     		ldr	r3, [r3, #104]
 599:library/Src/ring_buffer.c ****     	        tx_buffer1.tail = (tx_buffer1.tail + 1U) % UART_BUFFER_SIZE;
 241              		.loc 1 599 7 view .LVU74
 242 00f2 264A     		ldr	r2, .L16+8
 243 00f4 1344     		add	r3, r3, r2
 244 00f6 3B61     		str	r3, [r7, #16]
 245              	.LVL13:
 600:library/Src/ring_buffer.c **** 				*((__IO uint8_t *)&hspi->Instance->DR) = (*c);
 246              		.loc 1 600 14 is_stmt 1 view .LVU75
 600:library/Src/ring_buffer.c **** 				*((__IO uint8_t *)&hspi->Instance->DR) = (*c);
 247              		.loc 1 600 43 is_stmt 0 view .LVU76
 248 00f8 244B     		ldr	r3, .L16+8
 249              	.LVL14:
 600:library/Src/ring_buffer.c **** 				*((__IO uint8_t *)&hspi->Instance->DR) = (*c);
ARM GAS  C:\Users\imkar\AppData\Local\Temp\ccDVr466.s 			page 17


 250              		.loc 1 600 43 view .LVU77
 251 00fa 9B6E     		ldr	r3, [r3, #104]
 600:library/Src/ring_buffer.c **** 				*((__IO uint8_t *)&hspi->Instance->DR) = (*c);
 252              		.loc 1 600 49 view .LVU78
 253 00fc 5A1C     		adds	r2, r3, #1
 600:library/Src/ring_buffer.c **** 				*((__IO uint8_t *)&hspi->Instance->DR) = (*c);
 254              		.loc 1 600 55 view .LVU79
 255 00fe 244B     		ldr	r3, .L16+12
 256 0100 A3FB0213 		umull	r1, r3, r3, r2
 257 0104 5B09     		lsrs	r3, r3, #5
 258 0106 6421     		movs	r1, #100
 259 0108 01FB03F3 		mul	r3, r1, r3
 260 010c D31A     		subs	r3, r2, r3
 600:library/Src/ring_buffer.c **** 				*((__IO uint8_t *)&hspi->Instance->DR) = (*c);
 261              		.loc 1 600 30 view .LVU80
 262 010e 1F4A     		ldr	r2, .L16+8
 263 0110 9366     		str	r3, [r2, #104]
 601:library/Src/ring_buffer.c **** 				view = *((uint16_t *)c);
 264              		.loc 1 601 5 is_stmt 1 view .LVU81
 601:library/Src/ring_buffer.c **** 				view = *((uint16_t *)c);
 265              		.loc 1 601 28 is_stmt 0 view .LVU82
 266 0112 7B68     		ldr	r3, [r7, #4]
 267 0114 1B68     		ldr	r3, [r3]
 601:library/Src/ring_buffer.c **** 				view = *((uint16_t *)c);
 268              		.loc 1 601 23 view .LVU83
 269 0116 0C33     		adds	r3, r3, #12
 601:library/Src/ring_buffer.c **** 				view = *((uint16_t *)c);
 270              		.loc 1 601 47 view .LVU84
 271 0118 3A69     		ldr	r2, [r7, #16]
 272 011a 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 601:library/Src/ring_buffer.c **** 				view = *((uint16_t *)c);
 273              		.loc 1 601 44 view .LVU85
 274 011c 1A70     		strb	r2, [r3]
 602:library/Src/ring_buffer.c **** 			  }
 275              		.loc 1 602 5 is_stmt 1 view .LVU86
 602:library/Src/ring_buffer.c **** 			  }
 276              		.loc 1 602 12 is_stmt 0 view .LVU87
 277 011e 3B69     		ldr	r3, [r7, #16]
 278 0120 1B88     		ldrh	r3, [r3]
 602:library/Src/ring_buffer.c **** 			  }
 279              		.loc 1 602 10 view .LVU88
 280 0122 BB81     		strh	r3, [r7, #12]	@ movhi
 616:library/Src/ring_buffer.c **** 				while (((hspi->Instance->SR)&(1<<7))) {};  // wait for BSY bit to Reset -> This will indicate t
 281              		.loc 1 616 13 is_stmt 1 view .LVU89
 282              	.LVL15:
 283              	.L15:
 616:library/Src/ring_buffer.c **** 				while (((hspi->Instance->SR)&(1<<7))) {};  // wait for BSY bit to Reset -> This will indicate t
 284              		.loc 1 616 19 is_stmt 0 view .LVU90
 285 0124 00BF     		nop
 286              	.L9:
 616:library/Src/ring_buffer.c **** 				while (((hspi->Instance->SR)&(1<<7))) {};  // wait for BSY bit to Reset -> This will indicate t
 287              		.loc 1 616 53 is_stmt 1 discriminator 1 view .LVU91
 616:library/Src/ring_buffer.c **** 				while (((hspi->Instance->SR)&(1<<7))) {};  // wait for BSY bit to Reset -> This will indicate t
 288              		.loc 1 616 19 discriminator 1 view .LVU92
 616:library/Src/ring_buffer.c **** 				while (((hspi->Instance->SR)&(1<<7))) {};  // wait for BSY bit to Reset -> This will indicate t
 289              		.loc 1 616 27 is_stmt 0 discriminator 1 view .LVU93
 290 0126 7B68     		ldr	r3, [r7, #4]
ARM GAS  C:\Users\imkar\AppData\Local\Temp\ccDVr466.s 			page 18


 291 0128 1B68     		ldr	r3, [r3]
 616:library/Src/ring_buffer.c **** 				while (((hspi->Instance->SR)&(1<<7))) {};  // wait for BSY bit to Reset -> This will indicate t
 292              		.loc 1 616 37 discriminator 1 view .LVU94
 293 012a 9B68     		ldr	r3, [r3, #8]
 616:library/Src/ring_buffer.c **** 				while (((hspi->Instance->SR)&(1<<7))) {};  // wait for BSY bit to Reset -> This will indicate t
 294              		.loc 1 616 42 discriminator 1 view .LVU95
 295 012c 03F00203 		and	r3, r3, #2
 616:library/Src/ring_buffer.c **** 				while (((hspi->Instance->SR)&(1<<7))) {};  // wait for BSY bit to Reset -> This will indicate t
 296              		.loc 1 616 19 discriminator 1 view .LVU96
 297 0130 002B     		cmp	r3, #0
 298 0132 F8D0     		beq	.L9
 617:library/Src/ring_buffer.c **** 
 299              		.loc 1 617 11 view .LVU97
 300 0134 00BF     		nop
 301              	.L10:
 617:library/Src/ring_buffer.c **** 
 302              		.loc 1 617 44 is_stmt 1 discriminator 1 view .LVU98
 617:library/Src/ring_buffer.c **** 
 303              		.loc 1 617 11 discriminator 1 view .LVU99
 617:library/Src/ring_buffer.c **** 
 304              		.loc 1 617 18 is_stmt 0 discriminator 1 view .LVU100
 305 0136 7B68     		ldr	r3, [r7, #4]
 306 0138 1B68     		ldr	r3, [r3]
 617:library/Src/ring_buffer.c **** 
 307              		.loc 1 617 28 discriminator 1 view .LVU101
 308 013a 9B68     		ldr	r3, [r3, #8]
 617:library/Src/ring_buffer.c **** 
 309              		.loc 1 617 33 discriminator 1 view .LVU102
 310 013c 03F08003 		and	r3, r3, #128
 617:library/Src/ring_buffer.c **** 
 311              		.loc 1 617 11 discriminator 1 view .LVU103
 312 0140 002B     		cmp	r3, #0
 313 0142 F8D1     		bne	.L10
 617:library/Src/ring_buffer.c **** 
 314              		.loc 1 617 45 is_stmt 1 discriminator 2 view .LVU104
 619:library/Src/ring_buffer.c **** 				{
 315              		.loc 1 619 7 discriminator 2 view .LVU105
 619:library/Src/ring_buffer.c **** 				{
 316              		.loc 1 619 13 is_stmt 0 discriminator 2 view .LVU106
 317 0144 03E0     		b	.L11
 318              	.L12:
 319              	.LBB4:
 621:library/Src/ring_buffer.c **** 				}; 
 320              		.loc 1 621 6 is_stmt 1 view .LVU107
 621:library/Src/ring_buffer.c **** 				}; 
 321              		.loc 1 621 25 is_stmt 0 view .LVU108
 322 0146 7B68     		ldr	r3, [r7, #4]
 323 0148 1B68     		ldr	r3, [r3]
 621:library/Src/ring_buffer.c **** 				}; 
 324              		.loc 1 621 35 view .LVU109
 325 014a DB68     		ldr	r3, [r3, #12]
 621:library/Src/ring_buffer.c **** 				}; 
 326              		.loc 1 621 14 view .LVU110
 327 014c BB73     		strb	r3, [r7, #14]
 328              	.LVL16:
 329              	.L11:
 621:library/Src/ring_buffer.c **** 				}; 
ARM GAS  C:\Users\imkar\AppData\Local\Temp\ccDVr466.s 			page 19


 330              		.loc 1 621 14 view .LVU111
 331              	.LBE4:
 619:library/Src/ring_buffer.c **** 				{
 332              		.loc 1 619 13 is_stmt 1 view .LVU112
 619:library/Src/ring_buffer.c **** 				{
 333              		.loc 1 619 20 is_stmt 0 view .LVU113
 334 014e 7B68     		ldr	r3, [r7, #4]
 335 0150 1B68     		ldr	r3, [r3]
 619:library/Src/ring_buffer.c **** 				{
 336              		.loc 1 619 30 view .LVU114
 337 0152 9B68     		ldr	r3, [r3, #8]
 619:library/Src/ring_buffer.c **** 				{
 338              		.loc 1 619 35 view .LVU115
 339 0154 03F00103 		and	r3, r3, #1
 619:library/Src/ring_buffer.c **** 				{
 340              		.loc 1 619 13 view .LVU116
 341 0158 002B     		cmp	r3, #0
 342 015a F4D1     		bne	.L12
 622:library/Src/ring_buffer.c **** 				
 343              		.loc 1 622 6 is_stmt 1 view .LVU117
 624:library/Src/ring_buffer.c **** 				hspi->Instance->CR1 &= ~(1<<6);
 344              		.loc 1 624 5 view .LVU118
 624:library/Src/ring_buffer.c **** 				hspi->Instance->CR1 &= ~(1<<6);
 345              		.loc 1 624 25 is_stmt 0 view .LVU119
 346 015c 7B68     		ldr	r3, [r7, #4]
 347 015e 1B68     		ldr	r3, [r3]
 624:library/Src/ring_buffer.c **** 				hspi->Instance->CR1 &= ~(1<<6);
 348              		.loc 1 624 35 view .LVU120
 349 0160 9B68     		ldr	r3, [r3, #8]
 624:library/Src/ring_buffer.c **** 				hspi->Instance->CR1 &= ~(1<<6);
 350              		.loc 1 624 13 view .LVU121
 351 0162 FB73     		strb	r3, [r7, #15]
 352              	.LVL17:
 625:library/Src/ring_buffer.c ****     	    }
 353              		.loc 1 625 5 is_stmt 1 view .LVU122
 625:library/Src/ring_buffer.c ****     	    }
 354              		.loc 1 625 9 is_stmt 0 view .LVU123
 355 0164 7B68     		ldr	r3, [r7, #4]
 356              	.LVL18:
 625:library/Src/ring_buffer.c ****     	    }
 357              		.loc 1 625 9 view .LVU124
 358 0166 1B68     		ldr	r3, [r3]
 625:library/Src/ring_buffer.c ****     	    }
 359              		.loc 1 625 25 view .LVU125
 360 0168 1A68     		ldr	r2, [r3]
 625:library/Src/ring_buffer.c ****     	    }
 361              		.loc 1 625 9 view .LVU126
 362 016a 7B68     		ldr	r3, [r7, #4]
 363 016c 1B68     		ldr	r3, [r3]
 625:library/Src/ring_buffer.c ****     	    }
 364              		.loc 1 625 25 view .LVU127
 365 016e 22F04002 		bic	r2, r2, #64
 366 0172 1A60     		str	r2, [r3]
 367              	.LBE3:
 368              		.loc 1 628 6 is_stmt 1 view .LVU128
 369 0174 01E0     		b	.L14
 370              	.LVL19:
ARM GAS  C:\Users\imkar\AppData\Local\Temp\ccDVr466.s 			page 20


 371              	.L13:
 372              	.LBB5:
 567:library/Src/ring_buffer.c ****     }
 373              		.loc 1 567 9 is_stmt 0 view .LVU129
 374 0176 00BF     		nop
 375 0178 00E0     		b	.L1
 376              	.LVL20:
 377              	.L14:
 567:library/Src/ring_buffer.c ****     }
 378              		.loc 1 567 9 view .LVU130
 379              	.LBE5:
 380              		.loc 1 628 6 view .LVU131
 381 017a 00BF     		nop
 382              	.LVL21:
 383              	.L1:
 629:library/Src/ring_buffer.c ****     }
 630:library/Src/ring_buffer.c **** }
 384              		.loc 1 630 1 view .LVU132
 385 017c 2037     		adds	r7, r7, #32
 386              	.LCFI3:
 387              		.cfi_def_cfa_offset 8
 388 017e BD46     		mov	sp, r7
 389              	.LCFI4:
 390              		.cfi_def_cfa_register 13
 391              		@ sp needed
 392 0180 80BD     		pop	{r7, pc}
 393              	.L17:
 394 0182 00BF     		.align	2
 395              	.L16:
 396 0184 00000000 		.word	hspi1
 397 0188 00000000 		.word	_rx_buffer1
 398 018c 00000000 		.word	tx_buffer1
 399 0190 1F85EB51 		.word	1374389535
 400              		.cfi_endproc
 401              	.LFE150:
 403              		.section	.text.Ringbuf_init,"ax",%progbits
 404              		.align	1
 405              		.global	Ringbuf_init
 406              		.syntax unified
 407              		.thumb
 408              		.thumb_func
 410              	Ringbuf_init:
 411              	.LFB132:
  47:library/Src/ring_buffer.c ****   /* Enable the UART & SPI Error Interrupt: (Frame error, noise error, overrun error) */
 412              		.loc 1 47 1 is_stmt 1 view -0
 413              		.cfi_startproc
 414              		@ args = 0, pretend = 0, frame = 0
 415              		@ frame_needed = 0, uses_anonymous_args = 0
 416              		@ link register save eliminated.
 417 0000 10B4     		push	{r4}
 418              	.LCFI5:
 419              		.cfi_def_cfa_offset 4
 420              		.cfi_offset 4, -4
  49:library/Src/ring_buffer.c ****   __HAL_UART_ENABLE_IT(pc_uart, UART_IT_ERR);
 421              		.loc 1 49 3 view .LVU134
 422 0002 114B     		ldr	r3, .L20
 423 0004 1B68     		ldr	r3, [r3]
ARM GAS  C:\Users\imkar\AppData\Local\Temp\ccDVr466.s 			page 21


 424 0006 9A68     		ldr	r2, [r3, #8]
 425 0008 42F00102 		orr	r2, r2, #1
 426 000c 9A60     		str	r2, [r3, #8]
  50:library/Src/ring_buffer.c ****   __HAL_SPI_ENABLE_IT(wifi_spi, SPI_IT_ERR);
 427              		.loc 1 50 3 view .LVU135
 428 000e 0F48     		ldr	r0, .L20+4
 429 0010 0168     		ldr	r1, [r0]
 430 0012 8A68     		ldr	r2, [r1, #8]
 431 0014 42F00102 		orr	r2, r2, #1
 432 0018 8A60     		str	r2, [r1, #8]
  51:library/Src/ring_buffer.c **** 
 433              		.loc 1 51 3 view .LVU136
 434 001a 0D49     		ldr	r1, .L20+8
 435 001c 0C68     		ldr	r4, [r1]
 436 001e 6268     		ldr	r2, [r4, #4]
 437 0020 42F02002 		orr	r2, r2, #32
 438 0024 6260     		str	r2, [r4, #4]
  54:library/Src/ring_buffer.c ****   __HAL_UART_ENABLE_IT(pc_uart, UART_IT_RXNE);
 439              		.loc 1 54 3 view .LVU137
 440 0026 1A68     		ldr	r2, [r3]
 441 0028 42F02002 		orr	r2, r2, #32
 442 002c 1A60     		str	r2, [r3]
  55:library/Src/ring_buffer.c ****   __HAL_SPI_ENABLE_IT(wifi_spi, SPI_IT_RXNE);
 443              		.loc 1 55 3 view .LVU138
 444 002e 0268     		ldr	r2, [r0]
 445 0030 1368     		ldr	r3, [r2]
 446 0032 43F02003 		orr	r3, r3, #32
 447 0036 1360     		str	r3, [r2]
  56:library/Src/ring_buffer.c **** }
 448              		.loc 1 56 3 view .LVU139
 449 0038 0A68     		ldr	r2, [r1]
 450 003a 5368     		ldr	r3, [r2, #4]
 451 003c 43F04003 		orr	r3, r3, #64
 452 0040 5360     		str	r3, [r2, #4]
  57:library/Src/ring_buffer.c **** 
 453              		.loc 1 57 1 is_stmt 0 view .LVU140
 454 0042 5DF8044B 		ldr	r4, [sp], #4
 455              	.LCFI6:
 456              		.cfi_restore 4
 457              		.cfi_def_cfa_offset 0
 458 0046 7047     		bx	lr
 459              	.L21:
 460              		.align	2
 461              	.L20:
 462 0048 00000000 		.word	huart3
 463 004c 00000000 		.word	huart1
 464 0050 00000000 		.word	hspi1
 465              		.cfi_endproc
 466              	.LFE132:
 468              		.section	.text.store_char,"ax",%progbits
 469              		.align	1
 470              		.global	store_char
 471              		.syntax unified
 472              		.thumb
 473              		.thumb_func
 475              	store_char:
 476              	.LVL22:
ARM GAS  C:\Users\imkar\AppData\Local\Temp\ccDVr466.s 			page 22


 477              	.LFB133:
  60:library/Src/ring_buffer.c ****   int i = (unsigned int)(buffer->head + 1) % UART_BUFFER_SIZE;
 478              		.loc 1 60 1 is_stmt 1 view -0
 479              		.cfi_startproc
 480              		@ args = 0, pretend = 0, frame = 0
 481              		@ frame_needed = 0, uses_anonymous_args = 0
 482              		@ link register save eliminated.
  61:library/Src/ring_buffer.c **** 
 483              		.loc 1 61 3 view .LVU142
  61:library/Src/ring_buffer.c **** 
 484              		.loc 1 61 32 is_stmt 0 view .LVU143
 485 0000 4A6E     		ldr	r2, [r1, #100]
  61:library/Src/ring_buffer.c **** 
 486              		.loc 1 61 11 view .LVU144
 487 0002 0132     		adds	r2, r2, #1
  61:library/Src/ring_buffer.c **** 
 488              		.loc 1 61 44 view .LVU145
 489 0004 074B     		ldr	r3, .L24
 490 0006 A3FB02C3 		umull	ip, r3, r3, r2
 491 000a 5B09     		lsrs	r3, r3, #5
 492 000c 4FF0640C 		mov	ip, #100
 493 0010 0CFB1323 		mls	r3, ip, r3, r2
 494              	.LVL23:
  67:library/Src/ring_buffer.c ****     buffer->buffer[buffer->head] = c;
 495              		.loc 1 67 3 is_stmt 1 view .LVU146
  67:library/Src/ring_buffer.c ****     buffer->buffer[buffer->head] = c;
 496              		.loc 1 67 17 is_stmt 0 view .LVU147
 497 0014 8A6E     		ldr	r2, [r1, #104]
  67:library/Src/ring_buffer.c ****     buffer->buffer[buffer->head] = c;
 498              		.loc 1 67 5 view .LVU148
 499 0016 9342     		cmp	r3, r2
 500 0018 02D0     		beq	.L22
  68:library/Src/ring_buffer.c ****     buffer->head = i;
 501              		.loc 1 68 5 is_stmt 1 view .LVU149
  68:library/Src/ring_buffer.c ****     buffer->head = i;
 502              		.loc 1 68 26 is_stmt 0 view .LVU150
 503 001a 4A6E     		ldr	r2, [r1, #100]
  68:library/Src/ring_buffer.c ****     buffer->head = i;
 504              		.loc 1 68 34 view .LVU151
 505 001c 8854     		strb	r0, [r1, r2]
  69:library/Src/ring_buffer.c ****   }
 506              		.loc 1 69 5 is_stmt 1 view .LVU152
  69:library/Src/ring_buffer.c ****   }
 507              		.loc 1 69 18 is_stmt 0 view .LVU153
 508 001e 4B66     		str	r3, [r1, #100]
 509              	.L22:
  71:library/Src/ring_buffer.c **** 
 510              		.loc 1 71 1 view .LVU154
 511 0020 7047     		bx	lr
 512              	.L25:
 513 0022 00BF     		.align	2
 514              	.L24:
 515 0024 1F85EB51 		.word	1374389535
 516              		.cfi_endproc
 517              	.LFE133:
 519              		.section	.text.Look_for,"ax",%progbits
 520              		.align	1
ARM GAS  C:\Users\imkar\AppData\Local\Temp\ccDVr466.s 			page 23


 521              		.global	Look_for
 522              		.syntax unified
 523              		.thumb
 524              		.thumb_func
 526              	Look_for:
 527              	.LVL24:
 528              	.LFB134:
  75:library/Src/ring_buffer.c **** 	int stringlength = strlen (str);
 529              		.loc 1 75 1 is_stmt 1 view -0
 530              		.cfi_startproc
 531              		@ args = 0, pretend = 0, frame = 0
 532              		@ frame_needed = 0, uses_anonymous_args = 0
  75:library/Src/ring_buffer.c **** 	int stringlength = strlen (str);
 533              		.loc 1 75 1 is_stmt 0 view .LVU156
 534 0000 38B5     		push	{r3, r4, r5, lr}
 535              	.LCFI7:
 536              		.cfi_def_cfa_offset 16
 537              		.cfi_offset 3, -16
 538              		.cfi_offset 4, -12
 539              		.cfi_offset 5, -8
 540              		.cfi_offset 14, -4
 541 0002 0446     		mov	r4, r0
 542 0004 0D46     		mov	r5, r1
  76:library/Src/ring_buffer.c **** 	int bufferlength = strlen (buffertolookinto);
 543              		.loc 1 76 2 is_stmt 1 view .LVU157
  76:library/Src/ring_buffer.c **** 	int bufferlength = strlen (buffertolookinto);
 544              		.loc 1 76 21 is_stmt 0 view .LVU158
 545 0006 FFF7FEFF 		bl	strlen
 546              	.LVL25:
  77:library/Src/ring_buffer.c **** 	int so_far = 0;
 547              		.loc 1 77 2 is_stmt 1 view .LVU159
  78:library/Src/ring_buffer.c **** 	int indx = 0;
 548              		.loc 1 78 2 view .LVU160
  79:library/Src/ring_buffer.c **** repeat:
 549              		.loc 1 79 2 view .LVU161
  79:library/Src/ring_buffer.c **** repeat:
 550              		.loc 1 79 6 is_stmt 0 view .LVU162
 551 000a 0023     		movs	r3, #0
 552 000c 00E0     		b	.L27
 553              	.LVL26:
 554              	.L28:
  81:library/Src/ring_buffer.c **** 	if (str[so_far] == buffertolookinto[indx]){
 555              		.loc 1 81 48 is_stmt 1 discriminator 2 view .LVU163
  81:library/Src/ring_buffer.c **** 	if (str[so_far] == buffertolookinto[indx]){
 556              		.loc 1 81 52 is_stmt 0 discriminator 2 view .LVU164
 557 000e 0133     		adds	r3, r3, #1
 558              	.LVL27:
 559              	.L27:
  81:library/Src/ring_buffer.c **** 	if (str[so_far] == buffertolookinto[indx]){
 560              		.loc 1 81 8 is_stmt 1 discriminator 1 view .LVU165
  81:library/Src/ring_buffer.c **** 	if (str[so_far] == buffertolookinto[indx]){
 561              		.loc 1 81 12 is_stmt 0 discriminator 1 view .LVU166
 562 0010 2178     		ldrb	r1, [r4]	@ zero_extendqisi2
  81:library/Src/ring_buffer.c **** 	if (str[so_far] == buffertolookinto[indx]){
 563              		.loc 1 81 40 discriminator 1 view .LVU167
 564 0012 EA5C     		ldrb	r2, [r5, r3]	@ zero_extendqisi2
  81:library/Src/ring_buffer.c **** 	if (str[so_far] == buffertolookinto[indx]){
ARM GAS  C:\Users\imkar\AppData\Local\Temp\ccDVr466.s 			page 24


 565              		.loc 1 81 8 discriminator 1 view .LVU168
 566 0014 9142     		cmp	r1, r2
 567 0016 FAD1     		bne	.L28
 568 0018 0022     		movs	r2, #0
 569 001a 01E0     		b	.L29
 570              	.LVL28:
 571              	.L30:
  85:library/Src/ring_buffer.c **** 		indx++;
 572              		.loc 1 85 3 is_stmt 1 view .LVU169
  85:library/Src/ring_buffer.c **** 		indx++;
 573              		.loc 1 85 9 is_stmt 0 view .LVU170
 574 001c 0132     		adds	r2, r2, #1
 575              	.LVL29:
  86:library/Src/ring_buffer.c **** 	}
 576              		.loc 1 86 3 is_stmt 1 view .LVU171
  86:library/Src/ring_buffer.c **** 	}
 577              		.loc 1 86 7 is_stmt 0 view .LVU172
 578 001e 0133     		adds	r3, r3, #1
 579              	.LVL30:
 580              	.L29:
  83:library/Src/ring_buffer.c **** 	{
 581              		.loc 1 83 8 is_stmt 1 view .LVU173
  83:library/Src/ring_buffer.c **** 	{
 582              		.loc 1 83 12 is_stmt 0 view .LVU174
 583 0020 14F802C0 		ldrb	ip, [r4, r2]	@ zero_extendqisi2
  83:library/Src/ring_buffer.c **** 	{
 584              		.loc 1 83 40 view .LVU175
 585 0024 E95C     		ldrb	r1, [r5, r3]	@ zero_extendqisi2
  83:library/Src/ring_buffer.c **** 	{
 586              		.loc 1 83 8 view .LVU176
 587 0026 8C45     		cmp	ip, r1
 588 0028 F8D0     		beq	.L30
  97:library/Src/ring_buffer.c **** 	else return -1;
 589              		.loc 1 97 2 is_stmt 1 view .LVU177
  97:library/Src/ring_buffer.c **** 	else return -1;
 590              		.loc 1 97 5 is_stmt 0 view .LVU178
 591 002a 8242     		cmp	r2, r0
 592 002c 02D0     		beq	.L34
  98:library/Src/ring_buffer.c **** }
 593              		.loc 1 98 14 view .LVU179
 594 002e 4FF0FF30 		mov	r0, #-1
 595              	.LVL31:
 596              	.L26:
  99:library/Src/ring_buffer.c **** 
 597              		.loc 1 99 1 view .LVU180
 598 0032 38BD     		pop	{r3, r4, r5, pc}
 599              	.LVL32:
 600              	.L34:
  97:library/Src/ring_buffer.c **** 	else return -1;
 601              		.loc 1 97 37 view .LVU181
 602 0034 0120     		movs	r0, #1
 603              	.LVL33:
  97:library/Src/ring_buffer.c **** 	else return -1;
 604              		.loc 1 97 37 view .LVU182
 605 0036 FCE7     		b	.L26
 606              		.cfi_endproc
 607              	.LFE134:
ARM GAS  C:\Users\imkar\AppData\Local\Temp\ccDVr466.s 			page 25


 609              		.section	.text.GetDataFromBuffer,"ax",%progbits
 610              		.align	1
 611              		.global	GetDataFromBuffer
 612              		.syntax unified
 613              		.thumb
 614              		.thumb_func
 616              	GetDataFromBuffer:
 617              	.LVL34:
 618              	.LFB135:
 102:library/Src/ring_buffer.c **** 	int startStringLength = strlen (startString);
 619              		.loc 1 102 1 is_stmt 1 view -0
 620              		.cfi_startproc
 621              		@ args = 0, pretend = 0, frame = 0
 622              		@ frame_needed = 0, uses_anonymous_args = 0
 102:library/Src/ring_buffer.c **** 	int startStringLength = strlen (startString);
 623              		.loc 1 102 1 is_stmt 0 view .LVU184
 624 0000 2DE97043 		push	{r4, r5, r6, r8, r9, lr}
 625              	.LCFI8:
 626              		.cfi_def_cfa_offset 24
 627              		.cfi_offset 4, -24
 628              		.cfi_offset 5, -20
 629              		.cfi_offset 6, -16
 630              		.cfi_offset 8, -12
 631              		.cfi_offset 9, -8
 632              		.cfi_offset 14, -4
 633 0004 8046     		mov	r8, r0
 634 0006 0E46     		mov	r6, r1
 635 0008 1446     		mov	r4, r2
 636 000a 1D46     		mov	r5, r3
 103:library/Src/ring_buffer.c **** 	int endStringLength   = strlen (endString);
 637              		.loc 1 103 2 is_stmt 1 view .LVU185
 103:library/Src/ring_buffer.c **** 	int endStringLength   = strlen (endString);
 638              		.loc 1 103 26 is_stmt 0 view .LVU186
 639 000c FFF7FEFF 		bl	strlen
 640              	.LVL35:
 103:library/Src/ring_buffer.c **** 	int endStringLength   = strlen (endString);
 641              		.loc 1 103 26 view .LVU187
 642 0010 8146     		mov	r9, r0
 643              	.LVL36:
 104:library/Src/ring_buffer.c **** 	int so_far = 0;
 644              		.loc 1 104 2 is_stmt 1 view .LVU188
 104:library/Src/ring_buffer.c **** 	int so_far = 0;
 645              		.loc 1 104 26 is_stmt 0 view .LVU189
 646 0012 3046     		mov	r0, r6
 647              	.LVL37:
 104:library/Src/ring_buffer.c **** 	int so_far = 0;
 648              		.loc 1 104 26 view .LVU190
 649 0014 FFF7FEFF 		bl	strlen
 650              	.LVL38:
 105:library/Src/ring_buffer.c **** 	int indx = 0;
 651              		.loc 1 105 2 is_stmt 1 view .LVU191
 106:library/Src/ring_buffer.c **** 	int startposition = 0;
 652              		.loc 1 106 2 view .LVU192
 107:library/Src/ring_buffer.c **** 	int endposition = 0;
 653              		.loc 1 107 2 view .LVU193
 108:library/Src/ring_buffer.c **** 
 654              		.loc 1 108 2 view .LVU194
ARM GAS  C:\Users\imkar\AppData\Local\Temp\ccDVr466.s 			page 26


 106:library/Src/ring_buffer.c **** 	int startposition = 0;
 655              		.loc 1 106 6 is_stmt 0 view .LVU195
 656 0018 4FF0000C 		mov	ip, #0
 657 001c 0EE0     		b	.L36
 658              	.LVL39:
 659              	.L51:
 106:library/Src/ring_buffer.c **** 	int startposition = 0;
 660              		.loc 1 106 6 view .LVU196
 661 001e 4FF0000E 		mov	lr, #0
 662 0022 03E0     		b	.L39
 663              	.LVL40:
 664              	.L40:
 116:library/Src/ring_buffer.c **** 			indx++;
 665              		.loc 1 116 4 is_stmt 1 view .LVU197
 116:library/Src/ring_buffer.c **** 			indx++;
 666              		.loc 1 116 10 is_stmt 0 view .LVU198
 667 0024 0EF1010E 		add	lr, lr, #1
 668              	.LVL41:
 117:library/Src/ring_buffer.c **** 		}
 669              		.loc 1 117 4 is_stmt 1 view .LVU199
 117:library/Src/ring_buffer.c **** 		}
 670              		.loc 1 117 8 is_stmt 0 view .LVU200
 671 0028 0CF1010C 		add	ip, ip, #1
 672              	.LVL42:
 673              	.L39:
 114:library/Src/ring_buffer.c **** 		{
 674              		.loc 1 114 9 is_stmt 1 view .LVU201
 114:library/Src/ring_buffer.c **** 		{
 675              		.loc 1 114 21 is_stmt 0 view .LVU202
 676 002c 18F80E20 		ldrb	r2, [r8, lr]	@ zero_extendqisi2
 114:library/Src/ring_buffer.c **** 		{
 677              		.loc 1 114 49 view .LVU203
 678 0030 14F80C30 		ldrb	r3, [r4, ip]	@ zero_extendqisi2
 114:library/Src/ring_buffer.c **** 		{
 679              		.loc 1 114 9 view .LVU204
 680 0034 9A42     		cmp	r2, r3
 681 0036 F5D0     		beq	.L40
 121:library/Src/ring_buffer.c **** 	else
 682              		.loc 1 121 2 is_stmt 1 view .LVU205
 121:library/Src/ring_buffer.c **** 	else
 683              		.loc 1 121 5 is_stmt 0 view .LVU206
 684 0038 CE45     		cmp	lr, r9
 685 003a 11D0     		beq	.L50
 686              	.L37:
 687              	.LVL43:
 688              	.L36:
 111:library/Src/ring_buffer.c **** 	if (startString[so_far] == buffertocopyfrom[indx])
 689              		.loc 1 111 8 is_stmt 1 discriminator 1 view .LVU207
 111:library/Src/ring_buffer.c **** 	if (startString[so_far] == buffertocopyfrom[indx])
 690              		.loc 1 111 20 is_stmt 0 discriminator 1 view .LVU208
 691 003c 98F80020 		ldrb	r2, [r8]	@ zero_extendqisi2
 111:library/Src/ring_buffer.c **** 	if (startString[so_far] == buffertocopyfrom[indx])
 692              		.loc 1 111 48 discriminator 1 view .LVU209
 693 0040 14F80C30 		ldrb	r3, [r4, ip]	@ zero_extendqisi2
 111:library/Src/ring_buffer.c **** 	if (startString[so_far] == buffertocopyfrom[indx])
 694              		.loc 1 111 8 discriminator 1 view .LVU210
 695 0044 9A42     		cmp	r2, r3
ARM GAS  C:\Users\imkar\AppData\Local\Temp\ccDVr466.s 			page 27


 696 0046 EAD0     		beq	.L51
 111:library/Src/ring_buffer.c **** 	if (startString[so_far] == buffertocopyfrom[indx])
 697              		.loc 1 111 56 is_stmt 1 discriminator 2 view .LVU211
 111:library/Src/ring_buffer.c **** 	if (startString[so_far] == buffertocopyfrom[indx])
 698              		.loc 1 111 60 is_stmt 0 discriminator 2 view .LVU212
 699 0048 0CF1010C 		add	ip, ip, #1
 700              	.LVL44:
 111:library/Src/ring_buffer.c **** 	if (startString[so_far] == buffertocopyfrom[indx])
 701              		.loc 1 111 60 discriminator 2 view .LVU213
 702 004c F6E7     		b	.L36
 703              	.LVL45:
 704              	.L43:
 131:library/Src/ring_buffer.c **** 	if (endString[so_far] == buffertocopyfrom[indx])
 705              		.loc 1 131 54 is_stmt 1 discriminator 2 view .LVU214
 131:library/Src/ring_buffer.c **** 	if (endString[so_far] == buffertocopyfrom[indx])
 706              		.loc 1 131 58 is_stmt 0 discriminator 2 view .LVU215
 707 004e 0EF1010E 		add	lr, lr, #1
 708              	.LVL46:
 709              	.L41:
 131:library/Src/ring_buffer.c **** 	if (endString[so_far] == buffertocopyfrom[indx])
 710              		.loc 1 131 8 is_stmt 1 discriminator 1 view .LVU216
 131:library/Src/ring_buffer.c **** 	if (endString[so_far] == buffertocopyfrom[indx])
 711              		.loc 1 131 18 is_stmt 0 discriminator 1 view .LVU217
 712 0052 3278     		ldrb	r2, [r6]	@ zero_extendqisi2
 131:library/Src/ring_buffer.c **** 	if (endString[so_far] == buffertocopyfrom[indx])
 713              		.loc 1 131 46 discriminator 1 view .LVU218
 714 0054 14F80E30 		ldrb	r3, [r4, lr]	@ zero_extendqisi2
 131:library/Src/ring_buffer.c **** 	if (endString[so_far] == buffertocopyfrom[indx])
 715              		.loc 1 131 8 discriminator 1 view .LVU219
 716 0058 9A42     		cmp	r2, r3
 717 005a F8D1     		bne	.L43
 131:library/Src/ring_buffer.c **** 	if (endString[so_far] == buffertocopyfrom[indx])
 718              		.loc 1 131 8 discriminator 1 view .LVU220
 719 005c 0023     		movs	r3, #0
 720 005e 04E0     		b	.L44
 721              	.L42:
 722              	.LVL47:
 723              	.L50:
 131:library/Src/ring_buffer.c **** 	if (endString[so_far] == buffertocopyfrom[indx])
 724              		.loc 1 131 8 discriminator 1 view .LVU221
 725 0060 E646     		mov	lr, ip
 726              	.LVL48:
 131:library/Src/ring_buffer.c **** 	if (endString[so_far] == buffertocopyfrom[indx])
 727              		.loc 1 131 8 discriminator 1 view .LVU222
 728 0062 F6E7     		b	.L41
 729              	.LVL49:
 730              	.L45:
 136:library/Src/ring_buffer.c **** 			indx++;
 731              		.loc 1 136 4 is_stmt 1 view .LVU223
 136:library/Src/ring_buffer.c **** 			indx++;
 732              		.loc 1 136 10 is_stmt 0 view .LVU224
 733 0064 0133     		adds	r3, r3, #1
 734              	.LVL50:
 137:library/Src/ring_buffer.c **** 		}
 735              		.loc 1 137 4 is_stmt 1 view .LVU225
 137:library/Src/ring_buffer.c **** 		}
 736              		.loc 1 137 8 is_stmt 0 view .LVU226
ARM GAS  C:\Users\imkar\AppData\Local\Temp\ccDVr466.s 			page 28


 737 0066 0EF1010E 		add	lr, lr, #1
 738              	.LVL51:
 739              	.L44:
 134:library/Src/ring_buffer.c **** 		{
 740              		.loc 1 134 9 is_stmt 1 view .LVU227
 134:library/Src/ring_buffer.c **** 		{
 741              		.loc 1 134 19 is_stmt 0 view .LVU228
 742 006a F15C     		ldrb	r1, [r6, r3]	@ zero_extendqisi2
 134:library/Src/ring_buffer.c **** 		{
 743              		.loc 1 134 47 view .LVU229
 744 006c 14F80E20 		ldrb	r2, [r4, lr]	@ zero_extendqisi2
 134:library/Src/ring_buffer.c **** 		{
 745              		.loc 1 134 9 view .LVU230
 746 0070 9142     		cmp	r1, r2
 747 0072 F7D0     		beq	.L45
 141:library/Src/ring_buffer.c **** 	else
 748              		.loc 1 141 2 is_stmt 1 view .LVU231
 141:library/Src/ring_buffer.c **** 	else
 749              		.loc 1 141 5 is_stmt 0 view .LVU232
 750 0074 8342     		cmp	r3, r0
 751 0076 ECD1     		bne	.L41
 141:library/Src/ring_buffer.c **** 	else
 752              		.loc 1 141 33 is_stmt 1 discriminator 1 view .LVU233
 141:library/Src/ring_buffer.c **** 	else
 753              		.loc 1 141 45 is_stmt 0 discriminator 1 view .LVU234
 754 0078 AEEB000E 		sub	lr, lr, r0
 755              	.LVL52:
 148:library/Src/ring_buffer.c **** 	indx=0;
 756              		.loc 1 148 2 is_stmt 1 discriminator 1 view .LVU235
 149:library/Src/ring_buffer.c **** 
 757              		.loc 1 149 2 discriminator 1 view .LVU236
 151:library/Src/ring_buffer.c **** 	{
 758              		.loc 1 151 2 discriminator 1 view .LVU237
 759              	.LBB6:
 151:library/Src/ring_buffer.c **** 	{
 760              		.loc 1 151 7 discriminator 1 view .LVU238
 151:library/Src/ring_buffer.c **** 	{
 761              		.loc 1 151 7 is_stmt 0 discriminator 1 view .LVU239
 762              	.LBE6:
 149:library/Src/ring_buffer.c **** 
 763              		.loc 1 149 6 discriminator 1 view .LVU240
 764 007c 0023     		movs	r3, #0
 765              	.LBB7:
 151:library/Src/ring_buffer.c **** 	{
 766              		.loc 1 151 2 discriminator 1 view .LVU241
 767 007e 05E0     		b	.L46
 768              	.LVL53:
 769              	.L47:
 153:library/Src/ring_buffer.c **** 		indx++;
 770              		.loc 1 153 3 is_stmt 1 discriminator 3 view .LVU242
 153:library/Src/ring_buffer.c **** 		indx++;
 771              		.loc 1 153 44 is_stmt 0 discriminator 3 view .LVU243
 772 0080 14F80C20 		ldrb	r2, [r4, ip]	@ zero_extendqisi2
 153:library/Src/ring_buffer.c **** 		indx++;
 773              		.loc 1 153 26 discriminator 3 view .LVU244
 774 0084 EA54     		strb	r2, [r5, r3]
 154:library/Src/ring_buffer.c **** 	}
ARM GAS  C:\Users\imkar\AppData\Local\Temp\ccDVr466.s 			page 29


 775              		.loc 1 154 3 is_stmt 1 discriminator 3 view .LVU245
 154:library/Src/ring_buffer.c **** 	}
 776              		.loc 1 154 7 is_stmt 0 discriminator 3 view .LVU246
 777 0086 0133     		adds	r3, r3, #1
 778              	.LVL54:
 151:library/Src/ring_buffer.c **** 	{
 779              		.loc 1 151 43 is_stmt 1 discriminator 3 view .LVU247
 151:library/Src/ring_buffer.c **** 	{
 780              		.loc 1 151 44 is_stmt 0 discriminator 3 view .LVU248
 781 0088 0CF1010C 		add	ip, ip, #1
 782              	.LVL55:
 783              	.L46:
 151:library/Src/ring_buffer.c **** 	{
 784              		.loc 1 151 28 is_stmt 1 discriminator 1 view .LVU249
 151:library/Src/ring_buffer.c **** 	{
 785              		.loc 1 151 2 is_stmt 0 discriminator 1 view .LVU250
 786 008c F445     		cmp	ip, lr
 787 008e F7DB     		blt	.L47
 151:library/Src/ring_buffer.c **** 	{
 788              		.loc 1 151 2 discriminator 1 view .LVU251
 789              	.LBE7:
 156:library/Src/ring_buffer.c **** 
 790              		.loc 1 156 1 view .LVU252
 791 0090 BDE87083 		pop	{r4, r5, r6, r8, r9, pc}
 156:library/Src/ring_buffer.c **** 
 792              		.loc 1 156 1 view .LVU253
 793              		.cfi_endproc
 794              	.LFE135:
 796              		.section	.text.Uart_flush,"ax",%progbits
 797              		.align	1
 798              		.global	Uart_flush
 799              		.syntax unified
 800              		.thumb
 801              		.thumb_func
 803              	Uart_flush:
 804              	.LVL56:
 805              	.LFB136:
 160:library/Src/ring_buffer.c **** 	if (uart == device_uart)
 806              		.loc 1 160 1 is_stmt 1 view -0
 807              		.cfi_startproc
 808              		@ args = 0, pretend = 0, frame = 0
 809              		@ frame_needed = 0, uses_anonymous_args = 0
 160:library/Src/ring_buffer.c **** 	if (uart == device_uart)
 810              		.loc 1 160 1 is_stmt 0 view .LVU255
 811 0000 38B5     		push	{r3, r4, r5, lr}
 812              	.LCFI9:
 813              		.cfi_def_cfa_offset 16
 814              		.cfi_offset 3, -16
 815              		.cfi_offset 4, -12
 816              		.cfi_offset 5, -8
 817              		.cfi_offset 14, -4
 818 0002 0446     		mov	r4, r0
 161:library/Src/ring_buffer.c **** 	{
 819              		.loc 1 161 2 is_stmt 1 view .LVU256
 161:library/Src/ring_buffer.c **** 	{
 820              		.loc 1 161 5 is_stmt 0 view .LVU257
 821 0004 0D4B     		ldr	r3, .L58
ARM GAS  C:\Users\imkar\AppData\Local\Temp\ccDVr466.s 			page 30


 822 0006 9842     		cmp	r0, r3
 823 0008 03D0     		beq	.L56
 824              	.LVL57:
 825              	.L53:
 166:library/Src/ring_buffer.c **** 	{
 826              		.loc 1 166 2 is_stmt 1 view .LVU258
 166:library/Src/ring_buffer.c **** 	{
 827              		.loc 1 166 5 is_stmt 0 view .LVU259
 828 000a 0D4B     		ldr	r3, .L58+4
 829 000c 9C42     		cmp	r4, r3
 830 000e 0AD0     		beq	.L57
 831              	.LVL58:
 832              	.L52:
 171:library/Src/ring_buffer.c **** 
 833              		.loc 1 171 1 view .LVU260
 834 0010 38BD     		pop	{r3, r4, r5, pc}
 835              	.LVL59:
 836              	.L56:
 163:library/Src/ring_buffer.c **** 		_rx_buffer1->head = 0;
 837              		.loc 1 163 3 is_stmt 1 view .LVU261
 163:library/Src/ring_buffer.c **** 		_rx_buffer1->head = 0;
 838              		.loc 1 163 21 is_stmt 0 view .LVU262
 839 0012 0C4D     		ldr	r5, .L58+8
 163:library/Src/ring_buffer.c **** 		_rx_buffer1->head = 0;
 840              		.loc 1 163 3 view .LVU263
 841 0014 6422     		movs	r2, #100
 842 0016 0021     		movs	r1, #0
 843 0018 2868     		ldr	r0, [r5]
 844              	.LVL60:
 163:library/Src/ring_buffer.c **** 		_rx_buffer1->head = 0;
 845              		.loc 1 163 3 view .LVU264
 846 001a FFF7FEFF 		bl	memset
 847              	.LVL61:
 164:library/Src/ring_buffer.c **** 	}
 848              		.loc 1 164 3 is_stmt 1 view .LVU265
 164:library/Src/ring_buffer.c **** 	}
 849              		.loc 1 164 14 is_stmt 0 view .LVU266
 850 001e 2B68     		ldr	r3, [r5]
 164:library/Src/ring_buffer.c **** 	}
 851              		.loc 1 164 21 view .LVU267
 852 0020 0022     		movs	r2, #0
 853 0022 5A66     		str	r2, [r3, #100]
 854 0024 F1E7     		b	.L53
 855              	.L57:
 168:library/Src/ring_buffer.c **** 		_rx_buffer2->head = 0;
 856              		.loc 1 168 3 is_stmt 1 view .LVU268
 168:library/Src/ring_buffer.c **** 		_rx_buffer2->head = 0;
 857              		.loc 1 168 21 is_stmt 0 view .LVU269
 858 0026 084C     		ldr	r4, .L58+12
 859              	.LVL62:
 168:library/Src/ring_buffer.c **** 		_rx_buffer2->head = 0;
 860              		.loc 1 168 3 view .LVU270
 861 0028 6422     		movs	r2, #100
 862 002a 0021     		movs	r1, #0
 863 002c 2068     		ldr	r0, [r4]
 864 002e FFF7FEFF 		bl	memset
 865              	.LVL63:
ARM GAS  C:\Users\imkar\AppData\Local\Temp\ccDVr466.s 			page 31


 169:library/Src/ring_buffer.c **** 	}
 866              		.loc 1 169 3 is_stmt 1 view .LVU271
 169:library/Src/ring_buffer.c **** 	}
 867              		.loc 1 169 14 is_stmt 0 view .LVU272
 868 0032 2368     		ldr	r3, [r4]
 169:library/Src/ring_buffer.c **** 	}
 869              		.loc 1 169 21 view .LVU273
 870 0034 0022     		movs	r2, #0
 871 0036 5A66     		str	r2, [r3, #100]
 171:library/Src/ring_buffer.c **** 
 872              		.loc 1 171 1 view .LVU274
 873 0038 EAE7     		b	.L52
 874              	.L59:
 875 003a 00BF     		.align	2
 876              	.L58:
 877 003c 00000000 		.word	huart3
 878 0040 00000000 		.word	huart1
 879 0044 00000000 		.word	_rx_buffer1
 880 0048 00000000 		.word	.LANCHOR0
 881              		.cfi_endproc
 882              	.LFE136:
 884              		.section	.text.Uart_peek,"ax",%progbits
 885              		.align	1
 886              		.global	Uart_peek
 887              		.syntax unified
 888              		.thumb
 889              		.thumb_func
 891              	Uart_peek:
 892              	.LVL64:
 893              	.LFB137:
 175:library/Src/ring_buffer.c **** 	if (uart == device_uart)
 894              		.loc 1 175 1 is_stmt 1 view -0
 895              		.cfi_startproc
 896              		@ args = 0, pretend = 0, frame = 0
 897              		@ frame_needed = 0, uses_anonymous_args = 0
 898              		@ link register save eliminated.
 176:library/Src/ring_buffer.c **** 	{
 899              		.loc 1 176 2 view .LVU276
 176:library/Src/ring_buffer.c **** 	{
 900              		.loc 1 176 5 is_stmt 0 view .LVU277
 901 0000 104B     		ldr	r3, .L67
 902 0002 9842     		cmp	r0, r3
 903 0004 0BD0     		beq	.L66
 188:library/Src/ring_buffer.c **** 	{
 904              		.loc 1 188 7 is_stmt 1 view .LVU278
 188:library/Src/ring_buffer.c **** 	{
 905              		.loc 1 188 10 is_stmt 0 view .LVU279
 906 0006 104B     		ldr	r3, .L67+4
 907 0008 9842     		cmp	r0, r3
 908 000a 14D1     		bne	.L64
 190:library/Src/ring_buffer.c **** 		  {
 909              		.loc 1 190 5 is_stmt 1 view .LVU280
 190:library/Src/ring_buffer.c **** 		  {
 910              		.loc 1 190 19 is_stmt 0 view .LVU281
 911 000c 0F4B     		ldr	r3, .L67+8
 912 000e 1B68     		ldr	r3, [r3]
 913 0010 596E     		ldr	r1, [r3, #100]
ARM GAS  C:\Users\imkar\AppData\Local\Temp\ccDVr466.s 			page 32


 190:library/Src/ring_buffer.c **** 		  {
 914              		.loc 1 190 40 view .LVU282
 915 0012 9A6E     		ldr	r2, [r3, #104]
 190:library/Src/ring_buffer.c **** 		  {
 916              		.loc 1 190 7 view .LVU283
 917 0014 9142     		cmp	r1, r2
 918 0016 11D0     		beq	.L65
 196:library/Src/ring_buffer.c **** 		  }
 919              		.loc 1 196 7 is_stmt 1 view .LVU284
 196:library/Src/ring_buffer.c **** 		  }
 920              		.loc 1 196 45 is_stmt 0 view .LVU285
 921 0018 9A6E     		ldr	r2, [r3, #104]
 196:library/Src/ring_buffer.c **** 		  }
 922              		.loc 1 196 33 view .LVU286
 923 001a 985C     		ldrb	r0, [r3, r2]	@ zero_extendqisi2
 924              	.LVL65:
 196:library/Src/ring_buffer.c **** 		  }
 925              		.loc 1 196 33 view .LVU287
 926 001c 7047     		bx	lr
 927              	.LVL66:
 928              	.L66:
 178:library/Src/ring_buffer.c **** 		  {
 929              		.loc 1 178 5 is_stmt 1 view .LVU288
 178:library/Src/ring_buffer.c **** 		  {
 930              		.loc 1 178 19 is_stmt 0 view .LVU289
 931 001e 0C4B     		ldr	r3, .L67+12
 932 0020 1B68     		ldr	r3, [r3]
 933 0022 596E     		ldr	r1, [r3, #100]
 178:library/Src/ring_buffer.c **** 		  {
 934              		.loc 1 178 40 view .LVU290
 935 0024 9A6E     		ldr	r2, [r3, #104]
 178:library/Src/ring_buffer.c **** 		  {
 936              		.loc 1 178 7 view .LVU291
 937 0026 9142     		cmp	r1, r2
 938 0028 02D0     		beq	.L63
 184:library/Src/ring_buffer.c **** 		  }
 939              		.loc 1 184 7 is_stmt 1 view .LVU292
 184:library/Src/ring_buffer.c **** 		  }
 940              		.loc 1 184 45 is_stmt 0 view .LVU293
 941 002a 9A6E     		ldr	r2, [r3, #104]
 184:library/Src/ring_buffer.c **** 		  }
 942              		.loc 1 184 33 view .LVU294
 943 002c 985C     		ldrb	r0, [r3, r2]	@ zero_extendqisi2
 944              	.LVL67:
 184:library/Src/ring_buffer.c **** 		  }
 945              		.loc 1 184 33 view .LVU295
 946 002e 7047     		bx	lr
 947              	.LVL68:
 948              	.L63:
 180:library/Src/ring_buffer.c **** 		  }
 949              		.loc 1 180 14 view .LVU296
 950 0030 4FF0FF30 		mov	r0, #-1
 951              	.LVL69:
 180:library/Src/ring_buffer.c **** 		  }
 952              		.loc 1 180 14 view .LVU297
 953 0034 7047     		bx	lr
 954              	.LVL70:
ARM GAS  C:\Users\imkar\AppData\Local\Temp\ccDVr466.s 			page 33


 955              	.L64:
 200:library/Src/ring_buffer.c **** }
 956              		.loc 1 200 9 view .LVU298
 957 0036 4FF0FF30 		mov	r0, #-1
 958              	.LVL71:
 200:library/Src/ring_buffer.c **** }
 959              		.loc 1 200 9 view .LVU299
 960 003a 7047     		bx	lr
 961              	.LVL72:
 962              	.L65:
 192:library/Src/ring_buffer.c **** 		  }
 963              		.loc 1 192 14 view .LVU300
 964 003c 4FF0FF30 		mov	r0, #-1
 965              	.LVL73:
 201:library/Src/ring_buffer.c **** 
 966              		.loc 1 201 1 view .LVU301
 967 0040 7047     		bx	lr
 968              	.L68:
 969 0042 00BF     		.align	2
 970              	.L67:
 971 0044 00000000 		.word	huart3
 972 0048 00000000 		.word	huart1
 973 004c 00000000 		.word	.LANCHOR0
 974 0050 00000000 		.word	_rx_buffer1
 975              		.cfi_endproc
 976              	.LFE137:
 978              		.section	.text.Uart_read,"ax",%progbits
 979              		.align	1
 980              		.global	Uart_read
 981              		.syntax unified
 982              		.thumb
 983              		.thumb_func
 985              	Uart_read:
 986              	.LVL74:
 987              	.LFB138:
 204:library/Src/ring_buffer.c **** 	/*if (uart == device_uart)
 988              		.loc 1 204 1 is_stmt 1 view -0
 989              		.cfi_startproc
 990              		@ args = 0, pretend = 0, frame = 0
 991              		@ frame_needed = 0, uses_anonymous_args = 0
 992              		@ link register save eliminated.
 220:library/Src/ring_buffer.c **** 	{
 993              		.loc 1 220 2 view .LVU303
 220:library/Src/ring_buffer.c **** 	{
 994              		.loc 1 220 5 is_stmt 0 view .LVU304
 995 0000 0E4B     		ldr	r3, .L73
 996 0002 8342     		cmp	r3, r0
 997 0004 13D1     		bne	.L71
 223:library/Src/ring_buffer.c **** 		  {
 998              		.loc 1 223 5 is_stmt 1 view .LVU305
 223:library/Src/ring_buffer.c **** 		  {
 999              		.loc 1 223 19 is_stmt 0 view .LVU306
 1000 0006 0E4B     		ldr	r3, .L73+4
 1001 0008 1A68     		ldr	r2, [r3]
 1002 000a 516E     		ldr	r1, [r2, #100]
 223:library/Src/ring_buffer.c **** 		  {
 1003              		.loc 1 223 40 view .LVU307
ARM GAS  C:\Users\imkar\AppData\Local\Temp\ccDVr466.s 			page 34


 1004 000c 936E     		ldr	r3, [r2, #104]
 223:library/Src/ring_buffer.c **** 		  {
 1005              		.loc 1 223 7 view .LVU308
 1006 000e 9942     		cmp	r1, r3
 1007 0010 10D0     		beq	.L72
 1008              	.LBB8:
 229:library/Src/ring_buffer.c **** 		    _rx_buffer2->tail = (unsigned int)(_rx_buffer2->tail + 1) % UART_BUFFER_SIZE;
 1009              		.loc 1 229 7 is_stmt 1 view .LVU309
 229:library/Src/ring_buffer.c **** 		    _rx_buffer2->tail = (unsigned int)(_rx_buffer2->tail + 1) % UART_BUFFER_SIZE;
 1010              		.loc 1 229 56 is_stmt 0 view .LVU310
 1011 0012 936E     		ldr	r3, [r2, #104]
 229:library/Src/ring_buffer.c **** 		    _rx_buffer2->tail = (unsigned int)(_rx_buffer2->tail + 1) % UART_BUFFER_SIZE;
 1012              		.loc 1 229 21 view .LVU311
 1013 0014 D05C     		ldrb	r0, [r2, r3]	@ zero_extendqisi2
 1014              	.LVL75:
 230:library/Src/ring_buffer.c **** 		    return c;
 1015              		.loc 1 230 7 is_stmt 1 view .LVU312
 230:library/Src/ring_buffer.c **** 		    return c;
 1016              		.loc 1 230 53 is_stmt 0 view .LVU313
 1017 0016 916E     		ldr	r1, [r2, #104]
 230:library/Src/ring_buffer.c **** 		    return c;
 1018              		.loc 1 230 27 view .LVU314
 1019 0018 0131     		adds	r1, r1, #1
 230:library/Src/ring_buffer.c **** 		    return c;
 1020              		.loc 1 230 65 view .LVU315
 1021 001a 0A4B     		ldr	r3, .L73+8
 1022 001c A3FB01C3 		umull	ip, r3, r3, r1
 1023 0020 5B09     		lsrs	r3, r3, #5
 1024 0022 4FF0640C 		mov	ip, #100
 1025 0026 0CFB1313 		mls	r3, ip, r3, r1
 230:library/Src/ring_buffer.c **** 		    return c;
 1026              		.loc 1 230 25 view .LVU316
 1027 002a 9366     		str	r3, [r2, #104]
 231:library/Src/ring_buffer.c **** 		  }
 1028              		.loc 1 231 7 is_stmt 1 view .LVU317
 231:library/Src/ring_buffer.c **** 		  }
 1029              		.loc 1 231 14 is_stmt 0 view .LVU318
 1030 002c 7047     		bx	lr
 1031              	.LVL76:
 1032              	.L71:
 231:library/Src/ring_buffer.c **** 		  }
 1033              		.loc 1 231 14 view .LVU319
 1034              	.LBE8:
 235:library/Src/ring_buffer.c **** }
 1035              		.loc 1 235 14 view .LVU320
 1036 002e 4FF0FF30 		mov	r0, #-1
 1037              	.LVL77:
 235:library/Src/ring_buffer.c **** }
 1038              		.loc 1 235 14 view .LVU321
 1039 0032 7047     		bx	lr
 1040              	.LVL78:
 1041              	.L72:
 225:library/Src/ring_buffer.c **** 		  }
 1042              		.loc 1 225 14 view .LVU322
 1043 0034 4FF0FF30 		mov	r0, #-1
 1044              	.LVL79:
 236:library/Src/ring_buffer.c **** 
ARM GAS  C:\Users\imkar\AppData\Local\Temp\ccDVr466.s 			page 35


 1045              		.loc 1 236 1 view .LVU323
 1046 0038 7047     		bx	lr
 1047              	.L74:
 1048 003a 00BF     		.align	2
 1049              	.L73:
 1050 003c 00000000 		.word	huart1
 1051 0040 00000000 		.word	.LANCHOR0
 1052 0044 1F85EB51 		.word	1374389535
 1053              		.cfi_endproc
 1054              	.LFE138:
 1056              		.section	.text.spi_read,"ax",%progbits
 1057              		.align	1
 1058              		.global	spi_read
 1059              		.syntax unified
 1060              		.thumb
 1061              		.thumb_func
 1063              	spi_read:
 1064              	.LVL80:
 1065              	.LFB139:
 239:library/Src/ring_buffer.c **** 	if (spi == wifi_spi)
 1066              		.loc 1 239 1 is_stmt 1 view -0
 1067              		.cfi_startproc
 1068              		@ args = 0, pretend = 0, frame = 0
 1069              		@ frame_needed = 0, uses_anonymous_args = 0
 1070              		@ link register save eliminated.
 240:library/Src/ring_buffer.c **** 	{
 1071              		.loc 1 240 2 view .LVU325
 240:library/Src/ring_buffer.c **** 	{
 1072              		.loc 1 240 5 is_stmt 0 view .LVU326
 1073 0000 0E4B     		ldr	r3, .L79
 1074 0002 8342     		cmp	r3, r0
 1075 0004 13D1     		bne	.L77
 243:library/Src/ring_buffer.c **** 		  {
 1076              		.loc 1 243 5 is_stmt 1 view .LVU327
 243:library/Src/ring_buffer.c **** 		  {
 1077              		.loc 1 243 19 is_stmt 0 view .LVU328
 1078 0006 0E4B     		ldr	r3, .L79+4
 1079 0008 1A68     		ldr	r2, [r3]
 1080 000a 516E     		ldr	r1, [r2, #100]
 243:library/Src/ring_buffer.c **** 		  {
 1081              		.loc 1 243 40 view .LVU329
 1082 000c 936E     		ldr	r3, [r2, #104]
 243:library/Src/ring_buffer.c **** 		  {
 1083              		.loc 1 243 7 view .LVU330
 1084 000e 9942     		cmp	r1, r3
 1085 0010 10D0     		beq	.L78
 1086              	.LBB9:
 249:library/Src/ring_buffer.c **** 		    _rx_buffer1->tail = (unsigned int)(_rx_buffer1->tail + 1) % UART_BUFFER_SIZE;
 1087              		.loc 1 249 7 is_stmt 1 view .LVU331
 249:library/Src/ring_buffer.c **** 		    _rx_buffer1->tail = (unsigned int)(_rx_buffer1->tail + 1) % UART_BUFFER_SIZE;
 1088              		.loc 1 249 56 is_stmt 0 view .LVU332
 1089 0012 936E     		ldr	r3, [r2, #104]
 249:library/Src/ring_buffer.c **** 		    _rx_buffer1->tail = (unsigned int)(_rx_buffer1->tail + 1) % UART_BUFFER_SIZE;
 1090              		.loc 1 249 21 view .LVU333
 1091 0014 D05C     		ldrb	r0, [r2, r3]	@ zero_extendqisi2
 1092              	.LVL81:
 250:library/Src/ring_buffer.c **** 		    return c;
ARM GAS  C:\Users\imkar\AppData\Local\Temp\ccDVr466.s 			page 36


 1093              		.loc 1 250 7 is_stmt 1 view .LVU334
 250:library/Src/ring_buffer.c **** 		    return c;
 1094              		.loc 1 250 53 is_stmt 0 view .LVU335
 1095 0016 916E     		ldr	r1, [r2, #104]
 250:library/Src/ring_buffer.c **** 		    return c;
 1096              		.loc 1 250 27 view .LVU336
 1097 0018 0131     		adds	r1, r1, #1
 250:library/Src/ring_buffer.c **** 		    return c;
 1098              		.loc 1 250 65 view .LVU337
 1099 001a 0A4B     		ldr	r3, .L79+8
 1100 001c A3FB01C3 		umull	ip, r3, r3, r1
 1101 0020 5B09     		lsrs	r3, r3, #5
 1102 0022 4FF0640C 		mov	ip, #100
 1103 0026 0CFB1313 		mls	r3, ip, r3, r1
 250:library/Src/ring_buffer.c **** 		    return c;
 1104              		.loc 1 250 25 view .LVU338
 1105 002a 9366     		str	r3, [r2, #104]
 251:library/Src/ring_buffer.c **** 		  }
 1106              		.loc 1 251 7 is_stmt 1 view .LVU339
 251:library/Src/ring_buffer.c **** 		  }
 1107              		.loc 1 251 14 is_stmt 0 view .LVU340
 1108 002c 7047     		bx	lr
 1109              	.LVL82:
 1110              	.L77:
 251:library/Src/ring_buffer.c **** 		  }
 1111              		.loc 1 251 14 view .LVU341
 1112              	.LBE9:
 255:library/Src/ring_buffer.c **** }
 1113              		.loc 1 255 14 view .LVU342
 1114 002e 4FF0FF30 		mov	r0, #-1
 1115              	.LVL83:
 255:library/Src/ring_buffer.c **** }
 1116              		.loc 1 255 14 view .LVU343
 1117 0032 7047     		bx	lr
 1118              	.LVL84:
 1119              	.L78:
 245:library/Src/ring_buffer.c **** 		  }
 1120              		.loc 1 245 14 view .LVU344
 1121 0034 4FF0FF30 		mov	r0, #-1
 1122              	.LVL85:
 256:library/Src/ring_buffer.c **** 
 1123              		.loc 1 256 1 view .LVU345
 1124 0038 7047     		bx	lr
 1125              	.L80:
 1126 003a 00BF     		.align	2
 1127              	.L79:
 1128 003c 00000000 		.word	hspi1
 1129 0040 00000000 		.word	_rx_buffer1
 1130 0044 1F85EB51 		.word	1374389535
 1131              		.cfi_endproc
 1132              	.LFE139:
 1134              		.section	.text.Uart_write,"ax",%progbits
 1135              		.align	1
 1136              		.global	Uart_write
 1137              		.syntax unified
 1138              		.thumb
 1139              		.thumb_func
ARM GAS  C:\Users\imkar\AppData\Local\Temp\ccDVr466.s 			page 37


 1141              	Uart_write:
 1142              	.LVL86:
 1143              	.LFB140:
 259:library/Src/ring_buffer.c **** 	if (c>=0)
 1144              		.loc 1 259 1 is_stmt 1 view -0
 1145              		.cfi_startproc
 1146              		@ args = 0, pretend = 0, frame = 0
 1147              		@ frame_needed = 0, uses_anonymous_args = 0
 1148              		@ link register save eliminated.
 260:library/Src/ring_buffer.c **** 	{
 1149              		.loc 1 260 2 view .LVU347
 260:library/Src/ring_buffer.c **** 	{
 1150              		.loc 1 260 5 is_stmt 0 view .LVU348
 1151 0000 0028     		cmp	r0, #0
 260:library/Src/ring_buffer.c **** 	{
 1152              		.loc 1 260 5 view .LVU349
 1153 0002 02DB     		blt	.L81
 276:library/Src/ring_buffer.c **** 			int i = (_tx_buffer2->head + 1) % UART_BUFFER_SIZE;
 1154              		.loc 1 276 3 is_stmt 1 view .LVU350
 276:library/Src/ring_buffer.c **** 			int i = (_tx_buffer2->head + 1) % UART_BUFFER_SIZE;
 1155              		.loc 1 276 6 is_stmt 0 view .LVU351
 1156 0004 0F4B     		ldr	r3, .L85
 1157 0006 9942     		cmp	r1, r3
 1158 0008 00D0     		beq	.L84
 1159              	.LVL87:
 1160              	.L81:
 290:library/Src/ring_buffer.c **** 
 1161              		.loc 1 290 1 view .LVU352
 1162 000a 7047     		bx	lr
 1163              	.LVL88:
 1164              	.L84:
 1165              	.LBB10:
 277:library/Src/ring_buffer.c **** 
 1166              		.loc 1 277 4 is_stmt 1 view .LVU353
 277:library/Src/ring_buffer.c **** 
 1167              		.loc 1 277 24 is_stmt 0 view .LVU354
 1168 000c 0E4B     		ldr	r3, .L85+4
 1169 000e 1968     		ldr	r1, [r3]
 1170              	.LVL89:
 277:library/Src/ring_buffer.c **** 
 1171              		.loc 1 277 24 view .LVU355
 1172 0010 4B6E     		ldr	r3, [r1, #100]
 277:library/Src/ring_buffer.c **** 
 1173              		.loc 1 277 31 view .LVU356
 1174 0012 0133     		adds	r3, r3, #1
 277:library/Src/ring_buffer.c **** 
 1175              		.loc 1 277 36 view .LVU357
 1176 0014 0D4A     		ldr	r2, .L85+8
 1177 0016 A2FB03C2 		umull	ip, r2, r2, r3
 1178 001a 5209     		lsrs	r2, r2, #5
 1179 001c 4FF0640C 		mov	ip, #100
 1180 0020 0CFB1232 		mls	r2, ip, r2, r3
 1181              	.LVL90:
 282:library/Src/ring_buffer.c **** 
 1182              		.loc 1 282 4 is_stmt 1 view .LVU358
 1183              	.L83:
 282:library/Src/ring_buffer.c **** 
ARM GAS  C:\Users\imkar\AppData\Local\Temp\ccDVr466.s 			page 38


 1184              		.loc 1 282 34 discriminator 1 view .LVU359
 282:library/Src/ring_buffer.c **** 
 1185              		.loc 1 282 10 discriminator 1 view .LVU360
 282:library/Src/ring_buffer.c **** 
 1186              		.loc 1 282 27 is_stmt 0 discriminator 1 view .LVU361
 1187 0024 8B6E     		ldr	r3, [r1, #104]
 282:library/Src/ring_buffer.c **** 
 1188              		.loc 1 282 10 discriminator 1 view .LVU362
 1189 0026 9A42     		cmp	r2, r3
 1190 0028 FCD0     		beq	.L83
 284:library/Src/ring_buffer.c **** 			_tx_buffer2->head = i;
 1191              		.loc 1 284 4 is_stmt 1 view .LVU363
 284:library/Src/ring_buffer.c **** 			_tx_buffer2->head = i;
 1192              		.loc 1 284 35 is_stmt 0 view .LVU364
 1193 002a 4B6E     		ldr	r3, [r1, #100]
 284:library/Src/ring_buffer.c **** 			_tx_buffer2->head = i;
 1194              		.loc 1 284 43 view .LVU365
 1195 002c C854     		strb	r0, [r1, r3]
 285:library/Src/ring_buffer.c **** 
 1196              		.loc 1 285 4 is_stmt 1 view .LVU366
 285:library/Src/ring_buffer.c **** 
 1197              		.loc 1 285 15 is_stmt 0 view .LVU367
 1198 002e 064B     		ldr	r3, .L85+4
 1199 0030 1B68     		ldr	r3, [r3]
 285:library/Src/ring_buffer.c **** 
 1200              		.loc 1 285 22 view .LVU368
 1201 0032 5A66     		str	r2, [r3, #100]
 287:library/Src/ring_buffer.c **** 			}
 1202              		.loc 1 287 4 is_stmt 1 view .LVU369
 1203 0034 034B     		ldr	r3, .L85
 1204 0036 1A68     		ldr	r2, [r3]
 1205              	.LVL91:
 287:library/Src/ring_buffer.c **** 			}
 1206              		.loc 1 287 4 is_stmt 0 view .LVU370
 1207 0038 1368     		ldr	r3, [r2]
 1208 003a 43F08003 		orr	r3, r3, #128
 1209 003e 1360     		str	r3, [r2]
 1210              	.LVL92:
 287:library/Src/ring_buffer.c **** 			}
 1211              		.loc 1 287 4 view .LVU371
 1212              	.LBE10:
 290:library/Src/ring_buffer.c **** 
 1213              		.loc 1 290 1 view .LVU372
 1214 0040 E3E7     		b	.L81
 1215              	.L86:
 1216 0042 00BF     		.align	2
 1217              	.L85:
 1218 0044 00000000 		.word	huart1
 1219 0048 00000000 		.word	.LANCHOR1
 1220 004c 1F85EB51 		.word	1374389535
 1221              		.cfi_endproc
 1222              	.LFE140:
 1224              		.section	.text.spi_write,"ax",%progbits
 1225              		.align	1
 1226              		.global	spi_write
 1227              		.syntax unified
 1228              		.thumb
ARM GAS  C:\Users\imkar\AppData\Local\Temp\ccDVr466.s 			page 39


 1229              		.thumb_func
 1231              	spi_write:
 1232              	.LVL93:
 1233              	.LFB141:
 293:library/Src/ring_buffer.c **** 	if (c>=0)
 1234              		.loc 1 293 1 is_stmt 1 view -0
 1235              		.cfi_startproc
 1236              		@ args = 0, pretend = 0, frame = 0
 1237              		@ frame_needed = 0, uses_anonymous_args = 0
 1238              		@ link register save eliminated.
 294:library/Src/ring_buffer.c **** 	{
 1239              		.loc 1 294 2 view .LVU374
 294:library/Src/ring_buffer.c **** 	{
 1240              		.loc 1 294 5 is_stmt 0 view .LVU375
 1241 0000 0028     		cmp	r0, #0
 294:library/Src/ring_buffer.c **** 	{
 1242              		.loc 1 294 5 view .LVU376
 1243 0002 02DB     		blt	.L87
 296:library/Src/ring_buffer.c **** 		int i = (_tx_buffer1->head + 1) % UART_BUFFER_SIZE;
 1244              		.loc 1 296 3 is_stmt 1 view .LVU377
 296:library/Src/ring_buffer.c **** 		int i = (_tx_buffer1->head + 1) % UART_BUFFER_SIZE;
 1245              		.loc 1 296 6 is_stmt 0 view .LVU378
 1246 0004 0F4B     		ldr	r3, .L91
 1247 0006 9942     		cmp	r1, r3
 1248 0008 00D0     		beq	.L90
 1249              	.LVL94:
 1250              	.L87:
 310:library/Src/ring_buffer.c **** 
 1251              		.loc 1 310 1 view .LVU379
 1252 000a 7047     		bx	lr
 1253              	.LVL95:
 1254              	.L90:
 1255              	.LBB11:
 297:library/Src/ring_buffer.c **** 
 1256              		.loc 1 297 3 is_stmt 1 view .LVU380
 297:library/Src/ring_buffer.c **** 
 1257              		.loc 1 297 23 is_stmt 0 view .LVU381
 1258 000c 0E4B     		ldr	r3, .L91+4
 1259 000e 1968     		ldr	r1, [r3]
 1260              	.LVL96:
 297:library/Src/ring_buffer.c **** 
 1261              		.loc 1 297 23 view .LVU382
 1262 0010 4B6E     		ldr	r3, [r1, #100]
 297:library/Src/ring_buffer.c **** 
 1263              		.loc 1 297 30 view .LVU383
 1264 0012 0133     		adds	r3, r3, #1
 297:library/Src/ring_buffer.c **** 
 1265              		.loc 1 297 35 view .LVU384
 1266 0014 0D4A     		ldr	r2, .L91+8
 1267 0016 A2FB03C2 		umull	ip, r2, r2, r3
 1268 001a 5209     		lsrs	r2, r2, #5
 1269 001c 4FF0640C 		mov	ip, #100
 1270 0020 0CFB1232 		mls	r2, ip, r2, r3
 1271              	.LVL97:
 302:library/Src/ring_buffer.c **** 
 1272              		.loc 1 302 3 is_stmt 1 view .LVU385
 1273              	.L89:
ARM GAS  C:\Users\imkar\AppData\Local\Temp\ccDVr466.s 			page 40


 302:library/Src/ring_buffer.c **** 
 1274              		.loc 1 302 33 discriminator 1 view .LVU386
 302:library/Src/ring_buffer.c **** 
 1275              		.loc 1 302 9 discriminator 1 view .LVU387
 302:library/Src/ring_buffer.c **** 
 1276              		.loc 1 302 26 is_stmt 0 discriminator 1 view .LVU388
 1277 0024 8B6E     		ldr	r3, [r1, #104]
 302:library/Src/ring_buffer.c **** 
 1278              		.loc 1 302 9 discriminator 1 view .LVU389
 1279 0026 9A42     		cmp	r2, r3
 1280 0028 FCD0     		beq	.L89
 304:library/Src/ring_buffer.c **** 		_tx_buffer1->head = i;
 1281              		.loc 1 304 3 is_stmt 1 view .LVU390
 304:library/Src/ring_buffer.c **** 		_tx_buffer1->head = i;
 1282              		.loc 1 304 34 is_stmt 0 view .LVU391
 1283 002a 4B6E     		ldr	r3, [r1, #100]
 304:library/Src/ring_buffer.c **** 		_tx_buffer1->head = i;
 1284              		.loc 1 304 42 view .LVU392
 1285 002c C854     		strb	r0, [r1, r3]
 305:library/Src/ring_buffer.c **** 
 1286              		.loc 1 305 3 is_stmt 1 view .LVU393
 305:library/Src/ring_buffer.c **** 
 1287              		.loc 1 305 14 is_stmt 0 view .LVU394
 1288 002e 064B     		ldr	r3, .L91+4
 1289 0030 1B68     		ldr	r3, [r3]
 305:library/Src/ring_buffer.c **** 
 1290              		.loc 1 305 21 view .LVU395
 1291 0032 5A66     		str	r2, [r3, #100]
 307:library/Src/ring_buffer.c **** 		}
 1292              		.loc 1 307 3 is_stmt 1 view .LVU396
 1293 0034 034B     		ldr	r3, .L91
 1294 0036 1A68     		ldr	r2, [r3]
 1295              	.LVL98:
 307:library/Src/ring_buffer.c **** 		}
 1296              		.loc 1 307 3 is_stmt 0 view .LVU397
 1297 0038 5368     		ldr	r3, [r2, #4]
 1298 003a 43F08003 		orr	r3, r3, #128
 1299 003e 5360     		str	r3, [r2, #4]
 1300              	.LVL99:
 307:library/Src/ring_buffer.c **** 		}
 1301              		.loc 1 307 3 view .LVU398
 1302              	.LBE11:
 310:library/Src/ring_buffer.c **** 
 1303              		.loc 1 310 1 view .LVU399
 1304 0040 E3E7     		b	.L87
 1305              	.L92:
 1306 0042 00BF     		.align	2
 1307              	.L91:
 1308 0044 00000000 		.word	hspi1
 1309 0048 00000000 		.word	.LANCHOR2
 1310 004c 1F85EB51 		.word	1374389535
 1311              		.cfi_endproc
 1312              	.LFE141:
 1314              		.section	.text.IsUartDataAvailable,"ax",%progbits
 1315              		.align	1
 1316              		.global	IsUartDataAvailable
 1317              		.syntax unified
ARM GAS  C:\Users\imkar\AppData\Local\Temp\ccDVr466.s 			page 41


 1318              		.thumb
 1319              		.thumb_func
 1321              	IsUartDataAvailable:
 1322              	.LVL100:
 1323              	.LFB142:
 313:library/Src/ring_buffer.c **** 	if (uart == device_uart) return (uint16_t)(UART_BUFFER_SIZE + _rx_buffer1->head - _rx_buffer1->tai
 1324              		.loc 1 313 1 is_stmt 1 view -0
 1325              		.cfi_startproc
 1326              		@ args = 0, pretend = 0, frame = 0
 1327              		@ frame_needed = 0, uses_anonymous_args = 0
 1328              		@ link register save eliminated.
 314:library/Src/ring_buffer.c **** 	else if (uart == pc_uart) return (uint16_t)(UART_BUFFER_SIZE + _rx_buffer2->head - _rx_buffer2->ta
 1329              		.loc 1 314 2 view .LVU401
 314:library/Src/ring_buffer.c **** 	else if (uart == pc_uart) return (uint16_t)(UART_BUFFER_SIZE + _rx_buffer2->head - _rx_buffer2->ta
 1330              		.loc 1 314 5 is_stmt 0 view .LVU402
 1331 0000 154B     		ldr	r3, .L98
 1332 0002 9842     		cmp	r0, r3
 1333 0004 13D0     		beq	.L97
 315:library/Src/ring_buffer.c **** 	return -1;
 1334              		.loc 1 315 7 is_stmt 1 view .LVU403
 315:library/Src/ring_buffer.c **** 	return -1;
 1335              		.loc 1 315 10 is_stmt 0 view .LVU404
 1336 0006 154B     		ldr	r3, .L98+4
 1337 0008 9842     		cmp	r0, r3
 1338 000a 21D1     		bne	.L96
 315:library/Src/ring_buffer.c **** 	return -1;
 1339              		.loc 1 315 28 is_stmt 1 discriminator 1 view .LVU405
 315:library/Src/ring_buffer.c **** 	return -1;
 1340              		.loc 1 315 76 is_stmt 0 discriminator 1 view .LVU406
 1341 000c 144B     		ldr	r3, .L98+8
 1342 000e 1B68     		ldr	r3, [r3]
 1343 0010 586E     		ldr	r0, [r3, #100]
 1344              	.LVL101:
 315:library/Src/ring_buffer.c **** 	return -1;
 1345              		.loc 1 315 96 discriminator 1 view .LVU407
 1346 0012 9B6E     		ldr	r3, [r3, #104]
 315:library/Src/ring_buffer.c **** 	return -1;
 1347              		.loc 1 315 83 discriminator 1 view .LVU408
 1348 0014 C01A     		subs	r0, r0, r3
 1349 0016 80B2     		uxth	r0, r0
 315:library/Src/ring_buffer.c **** 	return -1;
 1350              		.loc 1 315 35 discriminator 1 view .LVU409
 1351 0018 6430     		adds	r0, r0, #100
 1352 001a 80B2     		uxth	r0, r0
 315:library/Src/ring_buffer.c **** 	return -1;
 1353              		.loc 1 315 104 discriminator 1 view .LVU410
 1354 001c 114B     		ldr	r3, .L98+12
 1355 001e A3FB0023 		umull	r2, r3, r3, r0
 1356 0022 5B09     		lsrs	r3, r3, #5
 1357 0024 6422     		movs	r2, #100
 1358 0026 02FB1300 		mls	r0, r2, r3, r0
 1359 002a 80B2     		uxth	r0, r0
 1360 002c 7047     		bx	lr
 1361              	.LVL102:
 1362              	.L97:
 314:library/Src/ring_buffer.c **** 	else if (uart == pc_uart) return (uint16_t)(UART_BUFFER_SIZE + _rx_buffer2->head - _rx_buffer2->ta
 1363              		.loc 1 314 27 is_stmt 1 discriminator 1 view .LVU411
ARM GAS  C:\Users\imkar\AppData\Local\Temp\ccDVr466.s 			page 42


 314:library/Src/ring_buffer.c **** 	else if (uart == pc_uart) return (uint16_t)(UART_BUFFER_SIZE + _rx_buffer2->head - _rx_buffer2->ta
 1364              		.loc 1 314 75 is_stmt 0 discriminator 1 view .LVU412
 1365 002e 0E4B     		ldr	r3, .L98+16
 1366 0030 1B68     		ldr	r3, [r3]
 1367 0032 586E     		ldr	r0, [r3, #100]
 1368              	.LVL103:
 314:library/Src/ring_buffer.c **** 	else if (uart == pc_uart) return (uint16_t)(UART_BUFFER_SIZE + _rx_buffer2->head - _rx_buffer2->ta
 1369              		.loc 1 314 95 discriminator 1 view .LVU413
 1370 0034 9B6E     		ldr	r3, [r3, #104]
 314:library/Src/ring_buffer.c **** 	else if (uart == pc_uart) return (uint16_t)(UART_BUFFER_SIZE + _rx_buffer2->head - _rx_buffer2->ta
 1371              		.loc 1 314 82 discriminator 1 view .LVU414
 1372 0036 C01A     		subs	r0, r0, r3
 1373 0038 80B2     		uxth	r0, r0
 314:library/Src/ring_buffer.c **** 	else if (uart == pc_uart) return (uint16_t)(UART_BUFFER_SIZE + _rx_buffer2->head - _rx_buffer2->ta
 1374              		.loc 1 314 34 discriminator 1 view .LVU415
 1375 003a 6430     		adds	r0, r0, #100
 1376 003c 80B2     		uxth	r0, r0
 314:library/Src/ring_buffer.c **** 	else if (uart == pc_uart) return (uint16_t)(UART_BUFFER_SIZE + _rx_buffer2->head - _rx_buffer2->ta
 1377              		.loc 1 314 103 discriminator 1 view .LVU416
 1378 003e 094B     		ldr	r3, .L98+12
 1379 0040 A3FB0023 		umull	r2, r3, r3, r0
 1380 0044 5B09     		lsrs	r3, r3, #5
 1381 0046 6422     		movs	r2, #100
 1382 0048 02FB1300 		mls	r0, r2, r3, r0
 1383 004c 80B2     		uxth	r0, r0
 1384 004e 7047     		bx	lr
 1385              	.LVL104:
 1386              	.L96:
 316:library/Src/ring_buffer.c **** }
 1387              		.loc 1 316 9 view .LVU417
 1388 0050 4FF0FF30 		mov	r0, #-1
 1389              	.LVL105:
 317:library/Src/ring_buffer.c **** 
 1390              		.loc 1 317 1 view .LVU418
 1391 0054 7047     		bx	lr
 1392              	.L99:
 1393 0056 00BF     		.align	2
 1394              	.L98:
 1395 0058 00000000 		.word	huart3
 1396 005c 00000000 		.word	huart1
 1397 0060 00000000 		.word	.LANCHOR0
 1398 0064 1F85EB51 		.word	1374389535
 1399 0068 00000000 		.word	_rx_buffer1
 1400              		.cfi_endproc
 1401              	.LFE142:
 1403              		.section	.text.IsSpiDataAvailable,"ax",%progbits
 1404              		.align	1
 1405              		.global	IsSpiDataAvailable
 1406              		.syntax unified
 1407              		.thumb
 1408              		.thumb_func
 1410              	IsSpiDataAvailable:
 1411              	.LVL106:
 1412              	.LFB143:
 320:library/Src/ring_buffer.c **** 	if (spi == wifi_spi) return (uint16_t)(UART_BUFFER_SIZE + _rx_buffer1->head - _rx_buffer1->tail) %
 1413              		.loc 1 320 1 is_stmt 1 view -0
 1414              		.cfi_startproc
ARM GAS  C:\Users\imkar\AppData\Local\Temp\ccDVr466.s 			page 43


 1415              		@ args = 0, pretend = 0, frame = 0
 1416              		@ frame_needed = 0, uses_anonymous_args = 0
 1417              		@ link register save eliminated.
 321:library/Src/ring_buffer.c **** 	return -1;
 1418              		.loc 1 321 2 view .LVU420
 321:library/Src/ring_buffer.c **** 	return -1;
 1419              		.loc 1 321 5 is_stmt 0 view .LVU421
 1420 0000 0B4B     		ldr	r3, .L103
 1421 0002 8342     		cmp	r3, r0
 1422 0004 10D1     		bne	.L102
 321:library/Src/ring_buffer.c **** 	return -1;
 1423              		.loc 1 321 23 is_stmt 1 discriminator 1 view .LVU422
 321:library/Src/ring_buffer.c **** 	return -1;
 1424              		.loc 1 321 71 is_stmt 0 discriminator 1 view .LVU423
 1425 0006 0B4B     		ldr	r3, .L103+4
 1426 0008 1B68     		ldr	r3, [r3]
 1427 000a 586E     		ldr	r0, [r3, #100]
 1428              	.LVL107:
 321:library/Src/ring_buffer.c **** 	return -1;
 1429              		.loc 1 321 91 discriminator 1 view .LVU424
 1430 000c 9B6E     		ldr	r3, [r3, #104]
 321:library/Src/ring_buffer.c **** 	return -1;
 1431              		.loc 1 321 78 discriminator 1 view .LVU425
 1432 000e C01A     		subs	r0, r0, r3
 1433 0010 80B2     		uxth	r0, r0
 321:library/Src/ring_buffer.c **** 	return -1;
 1434              		.loc 1 321 30 discriminator 1 view .LVU426
 1435 0012 6430     		adds	r0, r0, #100
 1436 0014 80B2     		uxth	r0, r0
 321:library/Src/ring_buffer.c **** 	return -1;
 1437              		.loc 1 321 99 discriminator 1 view .LVU427
 1438 0016 084B     		ldr	r3, .L103+8
 1439 0018 A3FB0023 		umull	r2, r3, r3, r0
 1440 001c 5B09     		lsrs	r3, r3, #5
 1441 001e 6422     		movs	r2, #100
 1442 0020 02FB1300 		mls	r0, r2, r3, r0
 1443 0024 80B2     		uxth	r0, r0
 1444 0026 7047     		bx	lr
 1445              	.LVL108:
 1446              	.L102:
 322:library/Src/ring_buffer.c **** }
 1447              		.loc 1 322 9 view .LVU428
 1448 0028 4FF0FF30 		mov	r0, #-1
 1449              	.LVL109:
 323:library/Src/ring_buffer.c **** 
 1450              		.loc 1 323 1 view .LVU429
 1451 002c 7047     		bx	lr
 1452              	.L104:
 1453 002e 00BF     		.align	2
 1454              	.L103:
 1455 0030 00000000 		.word	hspi1
 1456 0034 00000000 		.word	_rx_buffer1
 1457 0038 1F85EB51 		.word	1374389535
 1458              		.cfi_endproc
 1459              	.LFE143:
 1461              		.section	.text.Uart_sendstring,"ax",%progbits
 1462              		.align	1
ARM GAS  C:\Users\imkar\AppData\Local\Temp\ccDVr466.s 			page 44


 1463              		.global	Uart_sendstring
 1464              		.syntax unified
 1465              		.thumb
 1466              		.thumb_func
 1468              	Uart_sendstring:
 1469              	.LVL110:
 1470              	.LFB145:
 340:library/Src/ring_buffer.c **** 	while(*s!='\0') Uart_write(*s++, uart);
 1471              		.loc 1 340 1 is_stmt 1 view -0
 1472              		.cfi_startproc
 1473              		@ args = 0, pretend = 0, frame = 0
 1474              		@ frame_needed = 0, uses_anonymous_args = 0
 340:library/Src/ring_buffer.c **** 	while(*s!='\0') Uart_write(*s++, uart);
 1475              		.loc 1 340 1 is_stmt 0 view .LVU431
 1476 0000 38B5     		push	{r3, r4, r5, lr}
 1477              	.LCFI10:
 1478              		.cfi_def_cfa_offset 16
 1479              		.cfi_offset 3, -16
 1480              		.cfi_offset 4, -12
 1481              		.cfi_offset 5, -8
 1482              		.cfi_offset 14, -4
 1483 0002 0446     		mov	r4, r0
 1484 0004 0D46     		mov	r5, r1
 341:library/Src/ring_buffer.c **** }
 1485              		.loc 1 341 2 is_stmt 1 view .LVU432
 341:library/Src/ring_buffer.c **** }
 1486              		.loc 1 341 7 is_stmt 0 view .LVU433
 1487 0006 03E0     		b	.L106
 1488              	.LVL111:
 1489              	.L107:
 341:library/Src/ring_buffer.c **** }
 1490              		.loc 1 341 18 is_stmt 1 discriminator 2 view .LVU434
 341:library/Src/ring_buffer.c **** }
 1491              		.loc 1 341 31 is_stmt 0 discriminator 2 view .LVU435
 1492 0008 0134     		adds	r4, r4, #1
 1493              	.LVL112:
 341:library/Src/ring_buffer.c **** }
 1494              		.loc 1 341 18 discriminator 2 view .LVU436
 1495 000a 2946     		mov	r1, r5
 1496 000c FFF7FEFF 		bl	Uart_write
 1497              	.LVL113:
 1498              	.L106:
 341:library/Src/ring_buffer.c **** }
 1499              		.loc 1 341 7 is_stmt 1 discriminator 1 view .LVU437
 341:library/Src/ring_buffer.c **** }
 1500              		.loc 1 341 8 is_stmt 0 discriminator 1 view .LVU438
 1501 0010 2078     		ldrb	r0, [r4]	@ zero_extendqisi2
 341:library/Src/ring_buffer.c **** }
 1502              		.loc 1 341 7 discriminator 1 view .LVU439
 1503 0012 0028     		cmp	r0, #0
 1504 0014 F8D1     		bne	.L107
 342:library/Src/ring_buffer.c **** 
 1505              		.loc 1 342 1 view .LVU440
 1506 0016 38BD     		pop	{r3, r4, r5, pc}
 342:library/Src/ring_buffer.c **** 
 1507              		.loc 1 342 1 view .LVU441
 1508              		.cfi_endproc
ARM GAS  C:\Users\imkar\AppData\Local\Temp\ccDVr466.s 			page 45


 1509              	.LFE145:
 1511              		.section	.text.Uart_printbase,"ax",%progbits
 1512              		.align	1
 1513              		.global	Uart_printbase
 1514              		.syntax unified
 1515              		.thumb
 1516              		.thumb_func
 1518              	Uart_printbase:
 1519              	.LVL114:
 1520              	.LFB146:
 345:library/Src/ring_buffer.c ****   char buf[8 * sizeof(long) + 1]; // Assumes 8-bit chars plus zero byte.
 1521              		.loc 1 345 1 is_stmt 1 view -0
 1522              		.cfi_startproc
 1523              		@ args = 0, pretend = 0, frame = 40
 1524              		@ frame_needed = 0, uses_anonymous_args = 0
 345:library/Src/ring_buffer.c ****   char buf[8 * sizeof(long) + 1]; // Assumes 8-bit chars plus zero byte.
 1525              		.loc 1 345 1 is_stmt 0 view .LVU443
 1526 0000 30B5     		push	{r4, r5, lr}
 1527              	.LCFI11:
 1528              		.cfi_def_cfa_offset 12
 1529              		.cfi_offset 4, -12
 1530              		.cfi_offset 5, -8
 1531              		.cfi_offset 14, -4
 1532 0002 8BB0     		sub	sp, sp, #44
 1533              	.LCFI12:
 1534              		.cfi_def_cfa_offset 56
 1535 0004 1546     		mov	r5, r2
 346:library/Src/ring_buffer.c ****   char *s = &buf[sizeof(buf) - 1];
 1536              		.loc 1 346 3 is_stmt 1 view .LVU444
 347:library/Src/ring_buffer.c **** 
 1537              		.loc 1 347 3 view .LVU445
 1538              	.LVL115:
 349:library/Src/ring_buffer.c **** 
 1539              		.loc 1 349 3 view .LVU446
 349:library/Src/ring_buffer.c **** 
 1540              		.loc 1 349 6 is_stmt 0 view .LVU447
 1541 0006 0023     		movs	r3, #0
 1542 0008 8DF82430 		strb	r3, [sp, #36]
 352:library/Src/ring_buffer.c **** 
 1543              		.loc 1 352 3 is_stmt 1 view .LVU448
 352:library/Src/ring_buffer.c **** 
 1544              		.loc 1 352 6 is_stmt 0 view .LVU449
 1545 000c 0129     		cmp	r1, #1
 1546 000e 01D9     		bls	.L118
 1547              	.LVL116:
 1548              	.L110:
 352:library/Src/ring_buffer.c **** 
 1549              		.loc 1 352 22 view .LVU450
 1550 0010 09AC     		add	r4, sp, #36
 1551              	.LVL117:
 352:library/Src/ring_buffer.c **** 
 1552              		.loc 1 352 22 view .LVU451
 1553 0012 06E0     		b	.L113
 1554              	.LVL118:
 1555              	.L118:
 352:library/Src/ring_buffer.c **** 
 1556              		.loc 1 352 22 view .LVU452
ARM GAS  C:\Users\imkar\AppData\Local\Temp\ccDVr466.s 			page 46


 1557 0014 0A21     		movs	r1, #10
 1558              	.LVL119:
 352:library/Src/ring_buffer.c **** 
 1559              		.loc 1 352 22 view .LVU453
 1560 0016 FBE7     		b	.L110
 1561              	.LVL120:
 1562              	.L119:
 1563              	.LBB12:
 358:library/Src/ring_buffer.c ****   } while(n);
 1564              		.loc 1 358 10 discriminator 1 view .LVU454
 1565 0018 3033     		adds	r3, r3, #48
 1566              	.LVL121:
 358:library/Src/ring_buffer.c ****   } while(n);
 1567              		.loc 1 358 10 discriminator 1 view .LVU455
 1568 001a DBB2     		uxtb	r3, r3
 1569              	.LVL122:
 1570              	.L112:
 358:library/Src/ring_buffer.c ****   } while(n);
 1571              		.loc 1 358 10 discriminator 4 view .LVU456
 1572 001c 04F8013D 		strb	r3, [r4, #-1]!
 1573              	.LVL123:
 358:library/Src/ring_buffer.c ****   } while(n);
 1574              		.loc 1 358 10 discriminator 4 view .LVU457
 1575              	.LBE12:
 359:library/Src/ring_buffer.c **** 
 1576              		.loc 1 359 10 is_stmt 1 discriminator 4 view .LVU458
 359:library/Src/ring_buffer.c **** 
 1577              		.loc 1 359 3 is_stmt 0 discriminator 4 view .LVU459
 1578 0020 88B1     		cbz	r0, .L114
 1579              	.LVL124:
 1580              	.L113:
 354:library/Src/ring_buffer.c ****     unsigned long m = n;
 1581              		.loc 1 354 3 is_stmt 1 view .LVU460
 1582              	.LBB13:
 355:library/Src/ring_buffer.c ****     n /= base;
 1583              		.loc 1 355 5 view .LVU461
 356:library/Src/ring_buffer.c ****     char c = m - base * n;
 1584              		.loc 1 356 5 view .LVU462
 1585 0022 0346     		mov	r3, r0
 356:library/Src/ring_buffer.c ****     char c = m - base * n;
 1586              		.loc 1 356 7 is_stmt 0 view .LVU463
 1587 0024 90FBF1F0 		sdiv	r0, r0, r1
 1588              	.LVL125:
 357:library/Src/ring_buffer.c ****     *--s = c < 10 ? c + '0' : c + 'A' - 10;
 1589              		.loc 1 357 5 is_stmt 1 view .LVU464
 357:library/Src/ring_buffer.c ****     *--s = c < 10 ? c + '0' : c + 'A' - 10;
 1590              		.loc 1 357 16 is_stmt 0 view .LVU465
 1591 0028 DBB2     		uxtb	r3, r3
 1592              	.LVL126:
 357:library/Src/ring_buffer.c ****     *--s = c < 10 ? c + '0' : c + 'A' - 10;
 1593              		.loc 1 357 16 view .LVU466
 1594 002a 10FB01F2 		smulbb	r2, r0, r1
 1595 002e D2B2     		uxtb	r2, r2
 357:library/Src/ring_buffer.c ****     *--s = c < 10 ? c + '0' : c + 'A' - 10;
 1596              		.loc 1 357 10 view .LVU467
 1597 0030 9B1A     		subs	r3, r3, r2
 1598 0032 DBB2     		uxtb	r3, r3
ARM GAS  C:\Users\imkar\AppData\Local\Temp\ccDVr466.s 			page 47


 1599              	.LVL127:
 358:library/Src/ring_buffer.c ****   } while(n);
 1600              		.loc 1 358 5 is_stmt 1 view .LVU468
 358:library/Src/ring_buffer.c ****   } while(n);
 1601              		.loc 1 358 10 is_stmt 0 view .LVU469
 1602 0034 092B     		cmp	r3, #9
 1603 0036 EFD9     		bls	.L119
 358:library/Src/ring_buffer.c ****   } while(n);
 1604              		.loc 1 358 10 discriminator 2 view .LVU470
 1605 0038 3733     		adds	r3, r3, #55
 1606              	.LVL128:
 358:library/Src/ring_buffer.c ****   } while(n);
 1607              		.loc 1 358 10 discriminator 2 view .LVU471
 1608 003a DBB2     		uxtb	r3, r3
 1609              	.LVL129:
 358:library/Src/ring_buffer.c ****   } while(n);
 1610              		.loc 1 358 10 discriminator 2 view .LVU472
 1611 003c EEE7     		b	.L112
 1612              	.LVL130:
 1613              	.L115:
 358:library/Src/ring_buffer.c ****   } while(n);
 1614              		.loc 1 358 10 discriminator 2 view .LVU473
 1615              	.LBE13:
 361:library/Src/ring_buffer.c **** }
 1616              		.loc 1 361 13 is_stmt 1 discriminator 2 view .LVU474
 361:library/Src/ring_buffer.c **** }
 1617              		.loc 1 361 26 is_stmt 0 discriminator 2 view .LVU475
 1618 003e 0134     		adds	r4, r4, #1
 1619              	.LVL131:
 361:library/Src/ring_buffer.c **** }
 1620              		.loc 1 361 13 discriminator 2 view .LVU476
 1621 0040 2946     		mov	r1, r5
 1622 0042 FFF7FEFF 		bl	Uart_write
 1623              	.LVL132:
 1624              	.L114:
 361:library/Src/ring_buffer.c **** }
 1625              		.loc 1 361 8 is_stmt 1 discriminator 1 view .LVU477
 361:library/Src/ring_buffer.c **** }
 1626              		.loc 1 361 9 is_stmt 0 discriminator 1 view .LVU478
 1627 0046 2078     		ldrb	r0, [r4]	@ zero_extendqisi2
 361:library/Src/ring_buffer.c **** }
 1628              		.loc 1 361 8 discriminator 1 view .LVU479
 1629 0048 0028     		cmp	r0, #0
 1630 004a F8D1     		bne	.L115
 362:library/Src/ring_buffer.c **** 
 1631              		.loc 1 362 1 view .LVU480
 1632 004c 0BB0     		add	sp, sp, #44
 1633              	.LCFI13:
 1634              		.cfi_def_cfa_offset 12
 1635              		@ sp needed
 1636 004e 30BD     		pop	{r4, r5, pc}
 362:library/Src/ring_buffer.c **** 
 1637              		.loc 1 362 1 view .LVU481
 1638              		.cfi_endproc
 1639              	.LFE146:
 1641              		.section	.text.Copy_upto,"ax",%progbits
 1642              		.align	1
ARM GAS  C:\Users\imkar\AppData\Local\Temp\ccDVr466.s 			page 48


 1643              		.global	Copy_upto
 1644              		.syntax unified
 1645              		.thumb
 1646              		.thumb_func
 1648              	Copy_upto:
 1649              	.LVL133:
 1650              	.LFB147:
 366:library/Src/ring_buffer.c **** 	int so_far =0;
 1651              		.loc 1 366 1 is_stmt 1 view -0
 1652              		.cfi_startproc
 1653              		@ args = 0, pretend = 0, frame = 0
 1654              		@ frame_needed = 0, uses_anonymous_args = 0
 366:library/Src/ring_buffer.c **** 	int so_far =0;
 1655              		.loc 1 366 1 is_stmt 0 view .LVU483
 1656 0000 2DE9704F 		push	{r4, r5, r6, r8, r9, r10, fp, lr}
 1657              	.LCFI14:
 1658              		.cfi_def_cfa_offset 32
 1659              		.cfi_offset 4, -32
 1660              		.cfi_offset 5, -28
 1661              		.cfi_offset 6, -24
 1662              		.cfi_offset 8, -20
 1663              		.cfi_offset 9, -16
 1664              		.cfi_offset 10, -12
 1665              		.cfi_offset 11, -8
 1666              		.cfi_offset 14, -4
 1667 0004 0646     		mov	r6, r0
 1668 0006 8846     		mov	r8, r1
 1669 0008 1446     		mov	r4, r2
 367:library/Src/ring_buffer.c **** 	int len = strlen (string);
 1670              		.loc 1 367 2 is_stmt 1 view .LVU484
 1671              	.LVL134:
 368:library/Src/ring_buffer.c **** 	int indx = 0;
 1672              		.loc 1 368 2 view .LVU485
 368:library/Src/ring_buffer.c **** 	int indx = 0;
 1673              		.loc 1 368 12 is_stmt 0 view .LVU486
 1674 000a FFF7FEFF 		bl	strlen
 1675              	.LVL135:
 368:library/Src/ring_buffer.c **** 	int indx = 0;
 1676              		.loc 1 368 12 view .LVU487
 1677 000e 8246     		mov	r10, r0
 1678              	.LVL136:
 369:library/Src/ring_buffer.c **** 
 1679              		.loc 1 369 2 is_stmt 1 view .LVU488
 369:library/Src/ring_buffer.c **** 
 1680              		.loc 1 369 6 is_stmt 0 view .LVU489
 1681 0010 4FF0000B 		mov	fp, #0
 1682              	.L121:
 1683              	.LVL137:
 1684              	.L122:
 372:library/Src/ring_buffer.c **** 	while (Uart_peek(uart) != string[so_far])
 1685              		.loc 1 372 36 is_stmt 1 discriminator 1 view .LVU490
 372:library/Src/ring_buffer.c **** 	while (Uart_peek(uart) != string[so_far])
 1686              		.loc 1 372 8 discriminator 1 view .LVU491
 372:library/Src/ring_buffer.c **** 	while (Uart_peek(uart) != string[so_far])
 1687              		.loc 1 372 10 is_stmt 0 discriminator 1 view .LVU492
 1688 0014 2046     		mov	r0, r4
 1689 0016 FFF7FEFF 		bl	IsUartDataAvailable
ARM GAS  C:\Users\imkar\AppData\Local\Temp\ccDVr466.s 			page 49


 1690              	.LVL138:
 372:library/Src/ring_buffer.c **** 	while (Uart_peek(uart) != string[so_far])
 1691              		.loc 1 372 8 discriminator 1 view .LVU493
 1692 001a 0028     		cmp	r0, #0
 1693 001c FAD0     		beq	.L122
 1694 001e 17E0     		b	.L123
 1695              	.L125:
 375:library/Src/ring_buffer.c **** 			_rx_buffer1->tail = (unsigned int)(_rx_buffer1->tail + 1) % UART_BUFFER_SIZE;
 1696              		.loc 1 375 4 is_stmt 1 view .LVU494
 375:library/Src/ring_buffer.c **** 			_rx_buffer1->tail = (unsigned int)(_rx_buffer1->tail + 1) % UART_BUFFER_SIZE;
 1697              		.loc 1 375 40 is_stmt 0 view .LVU495
 1698 0020 1D4B     		ldr	r3, .L132
 1699 0022 1A68     		ldr	r2, [r3]
 375:library/Src/ring_buffer.c **** 			_rx_buffer1->tail = (unsigned int)(_rx_buffer1->tail + 1) % UART_BUFFER_SIZE;
 1700              		.loc 1 375 60 view .LVU496
 1701 0024 916E     		ldr	r1, [r2, #104]
 375:library/Src/ring_buffer.c **** 			_rx_buffer1->tail = (unsigned int)(_rx_buffer1->tail + 1) % UART_BUFFER_SIZE;
 1702              		.loc 1 375 48 view .LVU497
 1703 0026 525C     		ldrb	r2, [r2, r1]	@ zero_extendqisi2
 375:library/Src/ring_buffer.c **** 			_rx_buffer1->tail = (unsigned int)(_rx_buffer1->tail + 1) % UART_BUFFER_SIZE;
 1704              		.loc 1 375 27 view .LVU498
 1705 0028 08F80B20 		strb	r2, [r8, fp]
 376:library/Src/ring_buffer.c **** 			indx++;
 1706              		.loc 1 376 4 is_stmt 1 view .LVU499
 376:library/Src/ring_buffer.c **** 			indx++;
 1707              		.loc 1 376 50 is_stmt 0 view .LVU500
 1708 002c 1968     		ldr	r1, [r3]
 1709 002e 8A6E     		ldr	r2, [r1, #104]
 376:library/Src/ring_buffer.c **** 			indx++;
 1710              		.loc 1 376 24 view .LVU501
 1711 0030 0132     		adds	r2, r2, #1
 376:library/Src/ring_buffer.c **** 			indx++;
 1712              		.loc 1 376 62 view .LVU502
 1713 0032 1A4B     		ldr	r3, .L132+4
 1714 0034 A3FB0203 		umull	r0, r3, r3, r2
 1715 0038 5B09     		lsrs	r3, r3, #5
 1716 003a 6420     		movs	r0, #100
 1717 003c 00FB1323 		mls	r3, r0, r3, r2
 376:library/Src/ring_buffer.c **** 			indx++;
 1718              		.loc 1 376 22 view .LVU503
 1719 0040 8B66     		str	r3, [r1, #104]
 377:library/Src/ring_buffer.c **** 			while (!IsUartDataAvailable(uart));
 1720              		.loc 1 377 4 is_stmt 1 view .LVU504
 377:library/Src/ring_buffer.c **** 			while (!IsUartDataAvailable(uart));
 1721              		.loc 1 377 8 is_stmt 0 view .LVU505
 1722 0042 0BF1010B 		add	fp, fp, #1
 1723              	.LVL139:
 378:library/Src/ring_buffer.c **** 
 1724              		.loc 1 378 4 is_stmt 1 view .LVU506
 1725              	.L124:
 378:library/Src/ring_buffer.c **** 
 1726              		.loc 1 378 38 discriminator 1 view .LVU507
 378:library/Src/ring_buffer.c **** 
 1727              		.loc 1 378 10 discriminator 1 view .LVU508
 378:library/Src/ring_buffer.c **** 
 1728              		.loc 1 378 12 is_stmt 0 discriminator 1 view .LVU509
 1729 0046 2046     		mov	r0, r4
ARM GAS  C:\Users\imkar\AppData\Local\Temp\ccDVr466.s 			page 50


 1730 0048 FFF7FEFF 		bl	IsUartDataAvailable
 1731              	.LVL140:
 378:library/Src/ring_buffer.c **** 
 1732              		.loc 1 378 10 discriminator 1 view .LVU510
 1733 004c 0028     		cmp	r0, #0
 1734 004e FAD0     		beq	.L124
 1735              	.L123:
 373:library/Src/ring_buffer.c **** 		{
 1736              		.loc 1 373 8 is_stmt 1 view .LVU511
 373:library/Src/ring_buffer.c **** 		{
 1737              		.loc 1 373 9 is_stmt 0 view .LVU512
 1738 0050 2046     		mov	r0, r4
 1739 0052 FFF7FEFF 		bl	Uart_peek
 1740              	.LVL141:
 373:library/Src/ring_buffer.c **** 		{
 1741              		.loc 1 373 34 view .LVU513
 1742 0056 3378     		ldrb	r3, [r6]	@ zero_extendqisi2
 373:library/Src/ring_buffer.c **** 		{
 1743              		.loc 1 373 8 view .LVU514
 1744 0058 9842     		cmp	r0, r3
 1745 005a E1D1     		bne	.L125
 373:library/Src/ring_buffer.c **** 		{
 1746              		.loc 1 373 8 view .LVU515
 1747 005c 0025     		movs	r5, #0
 1748              	.LVL142:
 1749              	.L126:
 381:library/Src/ring_buffer.c **** 	{
 1750              		.loc 1 381 8 is_stmt 1 view .LVU516
 381:library/Src/ring_buffer.c **** 	{
 1751              		.loc 1 381 9 is_stmt 0 view .LVU517
 1752 005e 2046     		mov	r0, r4
 1753 0060 FFF7FEFF 		bl	Uart_peek
 1754              	.LVL143:
 381:library/Src/ring_buffer.c **** 	{
 1755              		.loc 1 381 35 view .LVU518
 1756 0064 735D     		ldrb	r3, [r6, r5]	@ zero_extendqisi2
 381:library/Src/ring_buffer.c **** 	{
 1757              		.loc 1 381 8 view .LVU519
 1758 0066 9842     		cmp	r0, r3
 1759 0068 10D1     		bne	.L131
 383:library/Src/ring_buffer.c **** 		buffertocopyinto[indx++] = Uart_read(uart);
 1760              		.loc 1 383 3 is_stmt 1 view .LVU520
 383:library/Src/ring_buffer.c **** 		buffertocopyinto[indx++] = Uart_read(uart);
 1761              		.loc 1 383 9 is_stmt 0 view .LVU521
 1762 006a 0135     		adds	r5, r5, #1
 1763              	.LVL144:
 384:library/Src/ring_buffer.c **** 		if (so_far == len) return 1;
 1764              		.loc 1 384 3 is_stmt 1 view .LVU522
 384:library/Src/ring_buffer.c **** 		if (so_far == len) return 1;
 1765              		.loc 1 384 30 is_stmt 0 view .LVU523
 1766 006c 2046     		mov	r0, r4
 1767 006e FFF7FEFF 		bl	Uart_read
 1768              	.LVL145:
 384:library/Src/ring_buffer.c **** 		if (so_far == len) return 1;
 1769              		.loc 1 384 24 view .LVU524
 1770 0072 0BF10109 		add	r9, fp, #1
 1771              	.LVL146:
ARM GAS  C:\Users\imkar\AppData\Local\Temp\ccDVr466.s 			page 51


 384:library/Src/ring_buffer.c **** 		if (so_far == len) return 1;
 1772              		.loc 1 384 28 view .LVU525
 1773 0076 08F80B00 		strb	r0, [r8, fp]
 385:library/Src/ring_buffer.c **** 		while (!IsUartDataAvailable(uart));
 1774              		.loc 1 385 3 is_stmt 1 view .LVU526
 385:library/Src/ring_buffer.c **** 		while (!IsUartDataAvailable(uart));
 1775              		.loc 1 385 6 is_stmt 0 view .LVU527
 1776 007a AA45     		cmp	r10, r5
 1777 007c 08D0     		beq	.L127
 1778              	.L128:
 386:library/Src/ring_buffer.c **** 	}
 1779              		.loc 1 386 37 is_stmt 1 discriminator 1 view .LVU528
 386:library/Src/ring_buffer.c **** 	}
 1780              		.loc 1 386 9 discriminator 1 view .LVU529
 386:library/Src/ring_buffer.c **** 	}
 1781              		.loc 1 386 11 is_stmt 0 discriminator 1 view .LVU530
 1782 007e 2046     		mov	r0, r4
 1783 0080 FFF7FEFF 		bl	IsUartDataAvailable
 1784              	.LVL147:
 386:library/Src/ring_buffer.c **** 	}
 1785              		.loc 1 386 9 discriminator 1 view .LVU531
 1786 0084 0028     		cmp	r0, #0
 1787 0086 FAD0     		beq	.L128
 384:library/Src/ring_buffer.c **** 		if (so_far == len) return 1;
 1788              		.loc 1 384 24 view .LVU532
 1789 0088 CB46     		mov	fp, r9
 1790 008a E8E7     		b	.L126
 1791              	.LVL148:
 1792              	.L131:
 389:library/Src/ring_buffer.c **** 	{
 1793              		.loc 1 389 2 is_stmt 1 view .LVU533
 389:library/Src/ring_buffer.c **** 	{
 1794              		.loc 1 389 5 is_stmt 0 view .LVU534
 1795 008c 5545     		cmp	r5, r10
 1796 008e C1D1     		bne	.L122
 1797              	.LVL149:
 1798              	.L127:
 398:library/Src/ring_buffer.c **** 
 1799              		.loc 1 398 1 view .LVU535
 1800 0090 0120     		movs	r0, #1
 1801 0092 BDE8708F 		pop	{r4, r5, r6, r8, r9, r10, fp, pc}
 1802              	.LVL150:
 1803              	.L133:
 398:library/Src/ring_buffer.c **** 
 1804              		.loc 1 398 1 view .LVU536
 1805 0096 00BF     		.align	2
 1806              	.L132:
 1807 0098 00000000 		.word	_rx_buffer1
 1808 009c 1F85EB51 		.word	1374389535
 1809              		.cfi_endproc
 1810              	.LFE147:
 1812              		.section	.text.Wait_for,"ax",%progbits
 1813              		.align	1
 1814              		.global	Wait_for
 1815              		.syntax unified
 1816              		.thumb
 1817              		.thumb_func
ARM GAS  C:\Users\imkar\AppData\Local\Temp\ccDVr466.s 			page 52


 1819              	Wait_for:
 1820              	.LVL151:
 1821              	.LFB148:
 402:library/Src/ring_buffer.c **** 	int so_far =0;
 1822              		.loc 1 402 1 is_stmt 1 view -0
 1823              		.cfi_startproc
 1824              		@ args = 0, pretend = 0, frame = 0
 1825              		@ frame_needed = 0, uses_anonymous_args = 0
 402:library/Src/ring_buffer.c **** 	int so_far =0;
 1826              		.loc 1 402 1 is_stmt 0 view .LVU538
 1827 0000 2DE97841 		push	{r3, r4, r5, r6, r8, lr}
 1828              	.LCFI15:
 1829              		.cfi_def_cfa_offset 24
 1830              		.cfi_offset 3, -24
 1831              		.cfi_offset 4, -20
 1832              		.cfi_offset 5, -16
 1833              		.cfi_offset 6, -12
 1834              		.cfi_offset 8, -8
 1835              		.cfi_offset 14, -4
 1836 0004 0646     		mov	r6, r0
 1837 0006 0C46     		mov	r4, r1
 403:library/Src/ring_buffer.c **** 	int len = strlen (string);
 1838              		.loc 1 403 2 is_stmt 1 view .LVU539
 1839              	.LVL152:
 404:library/Src/ring_buffer.c **** 
 1840              		.loc 1 404 2 view .LVU540
 404:library/Src/ring_buffer.c **** 
 1841              		.loc 1 404 12 is_stmt 0 view .LVU541
 1842 0008 FFF7FEFF 		bl	strlen
 1843              	.LVL153:
 404:library/Src/ring_buffer.c **** 
 1844              		.loc 1 404 12 view .LVU542
 1845 000c 8046     		mov	r8, r0
 1846              	.LVL154:
 404:library/Src/ring_buffer.c **** 
 1847              		.loc 1 404 12 view .LVU543
 1848 000e 15E0     		b	.L135
 1849              	.LVL155:
 1850              	.L137:
 409:library/Src/ring_buffer.c **** 	while (Uart_peek(uart) != string[so_far]) 
 1851              		.loc 1 409 2 is_stmt 1 view .LVU544
 409:library/Src/ring_buffer.c **** 	while (Uart_peek(uart) != string[so_far]) 
 1852              		.loc 1 409 14 is_stmt 0 view .LVU545
 1853 0010 2B4B     		ldr	r3, .L154
 1854 0012 1B88     		ldrh	r3, [r3]
 409:library/Src/ring_buffer.c **** 	while (Uart_peek(uart) != string[so_far]) 
 1855              		.loc 1 409 5 view .LVU546
 1856 0014 002B     		cmp	r3, #0
 1857 0016 4BD0     		beq	.L151
 410:library/Src/ring_buffer.c **** 	{
 1858              		.loc 1 410 2 is_stmt 1 view .LVU547
 410:library/Src/ring_buffer.c **** 	{
 1859              		.loc 1 410 8 view .LVU548
 410:library/Src/ring_buffer.c **** 	{
 1860              		.loc 1 410 9 is_stmt 0 view .LVU549
 1861 0018 2046     		mov	r0, r4
 1862 001a FFF7FEFF 		bl	Uart_peek
ARM GAS  C:\Users\imkar\AppData\Local\Temp\ccDVr466.s 			page 53


 1863              	.LVL156:
 410:library/Src/ring_buffer.c **** 	{
 1864              		.loc 1 410 34 view .LVU550
 1865 001e 3378     		ldrb	r3, [r6]	@ zero_extendqisi2
 410:library/Src/ring_buffer.c **** 	{
 1866              		.loc 1 410 8 view .LVU551
 1867 0020 9842     		cmp	r0, r3
 1868 0022 19D0     		beq	.L152
 412:library/Src/ring_buffer.c **** 		goto again_device;
 1869              		.loc 1 412 4 is_stmt 1 view .LVU552
 412:library/Src/ring_buffer.c **** 		goto again_device;
 1870              		.loc 1 412 50 is_stmt 0 view .LVU553
 1871 0024 274B     		ldr	r3, .L154+4
 1872 0026 1968     		ldr	r1, [r3]
 1873 0028 8A6E     		ldr	r2, [r1, #104]
 412:library/Src/ring_buffer.c **** 		goto again_device;
 1874              		.loc 1 412 24 view .LVU554
 1875 002a 0132     		adds	r2, r2, #1
 412:library/Src/ring_buffer.c **** 		goto again_device;
 1876              		.loc 1 412 62 view .LVU555
 1877 002c 264B     		ldr	r3, .L154+8
 1878 002e A3FB0203 		umull	r0, r3, r3, r2
 1879 0032 5B09     		lsrs	r3, r3, #5
 1880 0034 6420     		movs	r0, #100
 1881 0036 00FB1323 		mls	r3, r0, r3, r2
 412:library/Src/ring_buffer.c **** 		goto again_device;
 1882              		.loc 1 412 22 view .LVU556
 1883 003a 8B66     		str	r3, [r1, #104]
 413:library/Src/ring_buffer.c **** 
 1884              		.loc 1 413 3 is_stmt 1 view .LVU557
 1885              	.L136:
 1886              	.LVL157:
 1887              	.L135:
 407:library/Src/ring_buffer.c **** 	while ((!IsUartDataAvailable(uart))&&timeout); 
 1888              		.loc 1 407 2 view .LVU558
 407:library/Src/ring_buffer.c **** 	while ((!IsUartDataAvailable(uart))&&timeout); 
 1889              		.loc 1 407 10 is_stmt 0 view .LVU559
 1890 003c 204B     		ldr	r3, .L154
 1891 003e 4FF4FA72 		mov	r2, #500
 1892 0042 1A80     		strh	r2, [r3]	@ movhi
 408:library/Src/ring_buffer.c **** 	if (timeout == 0) return 0;
 1893              		.loc 1 408 2 is_stmt 1 view .LVU560
 1894              	.L138:
 408:library/Src/ring_buffer.c **** 	if (timeout == 0) return 0;
 1895              		.loc 1 408 47 discriminator 2 view .LVU561
 408:library/Src/ring_buffer.c **** 	if (timeout == 0) return 0;
 1896              		.loc 1 408 8 discriminator 2 view .LVU562
 408:library/Src/ring_buffer.c **** 	if (timeout == 0) return 0;
 1897              		.loc 1 408 11 is_stmt 0 discriminator 2 view .LVU563
 1898 0044 2046     		mov	r0, r4
 1899 0046 FFF7FEFF 		bl	IsUartDataAvailable
 1900              	.LVL158:
 408:library/Src/ring_buffer.c **** 	if (timeout == 0) return 0;
 1901              		.loc 1 408 8 discriminator 2 view .LVU564
 1902 004a 0028     		cmp	r0, #0
 1903 004c E0D1     		bne	.L137
 408:library/Src/ring_buffer.c **** 	if (timeout == 0) return 0;
ARM GAS  C:\Users\imkar\AppData\Local\Temp\ccDVr466.s 			page 54


 1904              		.loc 1 408 37 discriminator 1 view .LVU565
 1905 004e 1C4B     		ldr	r3, .L154
 1906 0050 1B88     		ldrh	r3, [r3]
 1907 0052 002B     		cmp	r3, #0
 1908 0054 F6D1     		bne	.L138
 1909 0056 DBE7     		b	.L137
 1910              	.L152:
 408:library/Src/ring_buffer.c **** 	if (timeout == 0) return 0;
 1911              		.loc 1 408 37 discriminator 1 view .LVU566
 1912 0058 0025     		movs	r5, #0
 1913 005a 02E0     		b	.L142
 1914              	.LVL159:
 1915              	.L143:
 423:library/Src/ring_buffer.c **** 	}
 1916              		.loc 1 423 3 is_stmt 1 view .LVU567
 423:library/Src/ring_buffer.c **** 	}
 1917              		.loc 1 423 15 is_stmt 0 view .LVU568
 1918 005c 184B     		ldr	r3, .L154
 1919 005e 1B88     		ldrh	r3, [r3]
 423:library/Src/ring_buffer.c **** 	}
 1920              		.loc 1 423 6 view .LVU569
 1921 0060 5BB3     		cbz	r3, .L148
 1922              	.LVL160:
 1923              	.L142:
 416:library/Src/ring_buffer.c **** 	{
 1924              		.loc 1 416 8 is_stmt 1 view .LVU570
 416:library/Src/ring_buffer.c **** 	{
 1925              		.loc 1 416 9 is_stmt 0 view .LVU571
 1926 0062 2046     		mov	r0, r4
 1927 0064 FFF7FEFF 		bl	Uart_peek
 1928              	.LVL161:
 416:library/Src/ring_buffer.c **** 	{
 1929              		.loc 1 416 35 view .LVU572
 1930 0068 735D     		ldrb	r3, [r6, r5]	@ zero_extendqisi2
 416:library/Src/ring_buffer.c **** 	{
 1931              		.loc 1 416 8 view .LVU573
 1932 006a 9842     		cmp	r0, r3
 1933 006c 1CD1     		bne	.L153
 418:library/Src/ring_buffer.c **** 		_rx_buffer1->tail = (unsigned int)(_rx_buffer1->tail + 1) % UART_BUFFER_SIZE; 
 1934              		.loc 1 418 3 is_stmt 1 view .LVU574
 418:library/Src/ring_buffer.c **** 		_rx_buffer1->tail = (unsigned int)(_rx_buffer1->tail + 1) % UART_BUFFER_SIZE; 
 1935              		.loc 1 418 9 is_stmt 0 view .LVU575
 1936 006e 0135     		adds	r5, r5, #1
 1937              	.LVL162:
 419:library/Src/ring_buffer.c **** 		if (so_far == len) return 1;
 1938              		.loc 1 419 3 is_stmt 1 view .LVU576
 419:library/Src/ring_buffer.c **** 		if (so_far == len) return 1;
 1939              		.loc 1 419 49 is_stmt 0 view .LVU577
 1940 0070 144B     		ldr	r3, .L154+4
 1941 0072 1968     		ldr	r1, [r3]
 1942 0074 8A6E     		ldr	r2, [r1, #104]
 419:library/Src/ring_buffer.c **** 		if (so_far == len) return 1;
 1943              		.loc 1 419 23 view .LVU578
 1944 0076 0132     		adds	r2, r2, #1
 419:library/Src/ring_buffer.c **** 		if (so_far == len) return 1;
 1945              		.loc 1 419 61 view .LVU579
 1946 0078 134B     		ldr	r3, .L154+8
ARM GAS  C:\Users\imkar\AppData\Local\Temp\ccDVr466.s 			page 55


 1947 007a A3FB0203 		umull	r0, r3, r3, r2
 1948 007e 5B09     		lsrs	r3, r3, #5
 1949 0080 6420     		movs	r0, #100
 1950 0082 00FB1323 		mls	r3, r0, r3, r2
 419:library/Src/ring_buffer.c **** 		if (so_far == len) return 1;
 1951              		.loc 1 419 21 view .LVU580
 1952 0086 8B66     		str	r3, [r1, #104]
 420:library/Src/ring_buffer.c **** 		timeout = TIMEOUT_DEF;
 1953              		.loc 1 420 3 is_stmt 1 view .LVU581
 420:library/Src/ring_buffer.c **** 		timeout = TIMEOUT_DEF;
 1954              		.loc 1 420 6 is_stmt 0 view .LVU582
 1955 0088 A845     		cmp	r8, r5
 1956 008a 13D0     		beq	.L147
 421:library/Src/ring_buffer.c **** 		while ((!IsUartDataAvailable(uart))&&timeout);
 1957              		.loc 1 421 3 is_stmt 1 view .LVU583
 421:library/Src/ring_buffer.c **** 		while ((!IsUartDataAvailable(uart))&&timeout);
 1958              		.loc 1 421 11 is_stmt 0 view .LVU584
 1959 008c 0C4B     		ldr	r3, .L154
 1960 008e 4FF4FA72 		mov	r2, #500
 1961 0092 1A80     		strh	r2, [r3]	@ movhi
 422:library/Src/ring_buffer.c **** 		if (timeout == 0) return -1;
 1962              		.loc 1 422 3 is_stmt 1 view .LVU585
 1963              	.L144:
 422:library/Src/ring_buffer.c **** 		if (timeout == 0) return -1;
 1964              		.loc 1 422 48 discriminator 2 view .LVU586
 422:library/Src/ring_buffer.c **** 		if (timeout == 0) return -1;
 1965              		.loc 1 422 9 discriminator 2 view .LVU587
 422:library/Src/ring_buffer.c **** 		if (timeout == 0) return -1;
 1966              		.loc 1 422 12 is_stmt 0 discriminator 2 view .LVU588
 1967 0094 2046     		mov	r0, r4
 1968 0096 FFF7FEFF 		bl	IsUartDataAvailable
 1969              	.LVL163:
 422:library/Src/ring_buffer.c **** 		if (timeout == 0) return -1;
 1970              		.loc 1 422 9 discriminator 2 view .LVU589
 1971 009a 0028     		cmp	r0, #0
 1972 009c DED1     		bne	.L143
 422:library/Src/ring_buffer.c **** 		if (timeout == 0) return -1;
 1973              		.loc 1 422 38 discriminator 1 view .LVU590
 1974 009e 084B     		ldr	r3, .L154
 1975 00a0 1B88     		ldrh	r3, [r3]
 1976 00a2 002B     		cmp	r3, #0
 1977 00a4 F6D1     		bne	.L144
 1978 00a6 D9E7     		b	.L143
 1979              	.L153:
 426:library/Src/ring_buffer.c **** 	{
 1980              		.loc 1 426 2 is_stmt 1 view .LVU591
 426:library/Src/ring_buffer.c **** 	{
 1981              		.loc 1 426 5 is_stmt 0 view .LVU592
 1982 00a8 4545     		cmp	r5, r8
 1983 00aa C7D1     		bne	.L135
 432:library/Src/ring_buffer.c **** 	else return -1;
 1984              		.loc 1 432 28 view .LVU593
 1985 00ac 0120     		movs	r0, #1
 1986 00ae 02E0     		b	.L134
 1987              	.LVL164:
 1988              	.L151:
 409:library/Src/ring_buffer.c **** 	while (Uart_peek(uart) != string[so_far]) 
ARM GAS  C:\Users\imkar\AppData\Local\Temp\ccDVr466.s 			page 56


 1989              		.loc 1 409 27 view .LVU594
 1990 00b0 0020     		movs	r0, #0
 1991 00b2 00E0     		b	.L134
 1992              	.LVL165:
 1993              	.L147:
 420:library/Src/ring_buffer.c **** 		timeout = TIMEOUT_DEF;
 1994              		.loc 1 420 29 view .LVU595
 1995 00b4 0120     		movs	r0, #1
 1996              	.LVL166:
 1997              	.L134:
 434:library/Src/ring_buffer.c **** 
 1998              		.loc 1 434 1 view .LVU596
 1999 00b6 BDE87881 		pop	{r3, r4, r5, r6, r8, pc}
 2000              	.LVL167:
 2001              	.L148:
 423:library/Src/ring_buffer.c **** 	}
 2002              		.loc 1 423 28 view .LVU597
 2003 00ba 4FF0FF30 		mov	r0, #-1
 2004 00be FAE7     		b	.L134
 2005              	.L155:
 2006              		.align	2
 2007              	.L154:
 2008 00c0 00000000 		.word	.LANCHOR3
 2009 00c4 00000000 		.word	_rx_buffer1
 2010 00c8 1F85EB51 		.word	1374389535
 2011              		.cfi_endproc
 2012              	.LFE148:
 2014              		.section	.text.Get_after,"ax",%progbits
 2015              		.align	1
 2016              		.global	Get_after
 2017              		.syntax unified
 2018              		.thumb
 2019              		.thumb_func
 2021              	Get_after:
 2022              	.LVL168:
 2023              	.LFB144:
 328:library/Src/ring_buffer.c **** 
 2024              		.loc 1 328 1 is_stmt 1 view -0
 2025              		.cfi_startproc
 2026              		@ args = 0, pretend = 0, frame = 0
 2027              		@ frame_needed = 0, uses_anonymous_args = 0
 328:library/Src/ring_buffer.c **** 
 2028              		.loc 1 328 1 is_stmt 0 view .LVU599
 2029 0000 2DE97841 		push	{r3, r4, r5, r6, r8, lr}
 2030              	.LCFI16:
 2031              		.cfi_def_cfa_offset 24
 2032              		.cfi_offset 3, -24
 2033              		.cfi_offset 4, -20
 2034              		.cfi_offset 5, -16
 2035              		.cfi_offset 6, -12
 2036              		.cfi_offset 8, -8
 2037              		.cfi_offset 14, -4
 2038 0004 0546     		mov	r5, r0
 2039 0006 0E46     		mov	r6, r1
 2040 0008 9046     		mov	r8, r2
 2041 000a 1C46     		mov	r4, r3
 330:library/Src/ring_buffer.c **** 	for (int indx=0; indx<numberofchars; indx++)
ARM GAS  C:\Users\imkar\AppData\Local\Temp\ccDVr466.s 			page 57


 2042              		.loc 1 330 2 is_stmt 1 view .LVU600
 2043              	.LVL169:
 2044              	.L157:
 330:library/Src/ring_buffer.c **** 	for (int indx=0; indx<numberofchars; indx++)
 2045              		.loc 1 330 37 discriminator 1 view .LVU601
 330:library/Src/ring_buffer.c **** 	for (int indx=0; indx<numberofchars; indx++)
 2046              		.loc 1 330 8 discriminator 1 view .LVU602
 330:library/Src/ring_buffer.c **** 	for (int indx=0; indx<numberofchars; indx++)
 2047              		.loc 1 330 9 is_stmt 0 discriminator 1 view .LVU603
 2048 000c 2146     		mov	r1, r4
 2049 000e 2846     		mov	r0, r5
 2050 0010 FFF7FEFF 		bl	Wait_for
 2051              	.LVL170:
 330:library/Src/ring_buffer.c **** 	for (int indx=0; indx<numberofchars; indx++)
 2052              		.loc 1 330 8 discriminator 1 view .LVU604
 2053 0014 0128     		cmp	r0, #1
 2054 0016 F9D1     		bne	.L157
 2055              	.LBB14:
 331:library/Src/ring_buffer.c **** 	{
 2056              		.loc 1 331 11 view .LVU605
 2057 0018 0025     		movs	r5, #0
 2058              	.LVL171:
 331:library/Src/ring_buffer.c **** 	{
 2059              		.loc 1 331 11 view .LVU606
 2060 001a 0AE0     		b	.L158
 2061              	.LVL172:
 2062              	.L159:
 333:library/Src/ring_buffer.c **** 		buffertosave[indx] = Uart_read(uart);
 2063              		.loc 1 333 39 is_stmt 1 discriminator 1 view .LVU607
 333:library/Src/ring_buffer.c **** 		buffertosave[indx] = Uart_read(uart);
 2064              		.loc 1 333 9 discriminator 1 view .LVU608
 333:library/Src/ring_buffer.c **** 		buffertosave[indx] = Uart_read(uart);
 2065              		.loc 1 333 12 is_stmt 0 discriminator 1 view .LVU609
 2066 001c 2046     		mov	r0, r4
 2067 001e FFF7FEFF 		bl	IsUartDataAvailable
 2068              	.LVL173:
 333:library/Src/ring_buffer.c **** 		buffertosave[indx] = Uart_read(uart);
 2069              		.loc 1 333 9 discriminator 1 view .LVU610
 2070 0022 0028     		cmp	r0, #0
 2071 0024 FAD0     		beq	.L159
 334:library/Src/ring_buffer.c **** 	}
 2072              		.loc 1 334 3 is_stmt 1 discriminator 2 view .LVU611
 334:library/Src/ring_buffer.c **** 	}
 2073              		.loc 1 334 24 is_stmt 0 discriminator 2 view .LVU612
 2074 0026 2046     		mov	r0, r4
 2075 0028 FFF7FEFF 		bl	Uart_read
 2076              	.LVL174:
 334:library/Src/ring_buffer.c **** 	}
 2077              		.loc 1 334 22 discriminator 2 view .LVU613
 2078 002c 08F80500 		strb	r0, [r8, r5]
 331:library/Src/ring_buffer.c **** 	{
 2079              		.loc 1 331 39 is_stmt 1 discriminator 2 view .LVU614
 331:library/Src/ring_buffer.c **** 	{
 2080              		.loc 1 331 43 is_stmt 0 discriminator 2 view .LVU615
 2081 0030 0135     		adds	r5, r5, #1
 2082              	.LVL175:
 2083              	.L158:
ARM GAS  C:\Users\imkar\AppData\Local\Temp\ccDVr466.s 			page 58


 331:library/Src/ring_buffer.c **** 	{
 2084              		.loc 1 331 19 is_stmt 1 discriminator 1 view .LVU616
 331:library/Src/ring_buffer.c **** 	{
 2085              		.loc 1 331 2 is_stmt 0 discriminator 1 view .LVU617
 2086 0032 AE42     		cmp	r6, r5
 2087 0034 F2DC     		bgt	.L159
 2088              	.LBE14:
 336:library/Src/ring_buffer.c **** }
 2089              		.loc 1 336 2 is_stmt 1 view .LVU618
 337:library/Src/ring_buffer.c **** 
 2090              		.loc 1 337 1 is_stmt 0 view .LVU619
 2091 0036 0120     		movs	r0, #1
 2092 0038 BDE87881 		pop	{r3, r4, r5, r6, r8, pc}
 337:library/Src/ring_buffer.c **** 
 2093              		.loc 1 337 1 view .LVU620
 2094              		.cfi_endproc
 2095              	.LFE144:
 2097              		.section	.text.my_Uart_isr,"ax",%progbits
 2098              		.align	1
 2099              		.global	my_Uart_isr
 2100              		.syntax unified
 2101              		.thumb
 2102              		.thumb_func
 2104              	my_Uart_isr:
 2105              	.LVL176:
 2106              	.LFB149:
 437:library/Src/ring_buffer.c **** 	  uint32_t isrflags   = READ_REG(huart->Instance->ISR);
 2107              		.loc 1 437 1 is_stmt 1 view -0
 2108              		.cfi_startproc
 2109              		@ args = 0, pretend = 0, frame = 0
 2110              		@ frame_needed = 0, uses_anonymous_args = 0
 437:library/Src/ring_buffer.c **** 	  uint32_t isrflags   = READ_REG(huart->Instance->ISR);
 2111              		.loc 1 437 1 is_stmt 0 view .LVU622
 2112 0000 10B5     		push	{r4, lr}
 2113              	.LCFI17:
 2114              		.cfi_def_cfa_offset 8
 2115              		.cfi_offset 4, -8
 2116              		.cfi_offset 14, -4
 438:library/Src/ring_buffer.c **** 	  uint32_t cr1its     = READ_REG(huart->Instance->CR1);
 2117              		.loc 1 438 4 is_stmt 1 view .LVU623
 438:library/Src/ring_buffer.c **** 	  uint32_t cr1its     = READ_REG(huart->Instance->CR1);
 2118              		.loc 1 438 26 is_stmt 0 view .LVU624
 2119 0002 0368     		ldr	r3, [r0]
 438:library/Src/ring_buffer.c **** 	  uint32_t cr1its     = READ_REG(huart->Instance->CR1);
 2120              		.loc 1 438 13 view .LVU625
 2121 0004 DA69     		ldr	r2, [r3, #28]
 2122              	.LVL177:
 439:library/Src/ring_buffer.c **** 
 2123              		.loc 1 439 4 is_stmt 1 view .LVU626
 439:library/Src/ring_buffer.c **** 
 2124              		.loc 1 439 13 is_stmt 0 view .LVU627
 2125 0006 1968     		ldr	r1, [r3]
 2126              	.LVL178:
 442:library/Src/ring_buffer.c ****     {
 2127              		.loc 1 442 5 is_stmt 1 view .LVU628
 442:library/Src/ring_buffer.c ****     {
 2128              		.loc 1 442 8 is_stmt 0 view .LVU629
ARM GAS  C:\Users\imkar\AppData\Local\Temp\ccDVr466.s 			page 59


 2129 0008 12F0200F 		tst	r2, #32
 2130 000c 02D0     		beq	.L162
 442:library/Src/ring_buffer.c ****     {
 2131              		.loc 1 442 48 discriminator 1 view .LVU630
 2132 000e 11F0200F 		tst	r1, #32
 2133 0012 06D1     		bne	.L171
 2134              	.L162:
 471:library/Src/ring_buffer.c ****     {
 2135              		.loc 1 471 5 is_stmt 1 view .LVU631
 471:library/Src/ring_buffer.c ****     {
 2136              		.loc 1 471 8 is_stmt 0 view .LVU632
 2137 0014 12F0800F 		tst	r2, #128
 2138 0018 02D0     		beq	.L161
 471:library/Src/ring_buffer.c ****     {
 2139              		.loc 1 471 47 discriminator 1 view .LVU633
 2140 001a 11F0800F 		tst	r1, #128
 2141 001e 15D1     		bne	.L172
 2142              	.LVL179:
 2143              	.L161:
 539:library/Src/ring_buffer.c **** 
 2144              		.loc 1 539 1 view .LVU634
 2145 0020 10BD     		pop	{r4, pc}
 2146              	.LVL180:
 2147              	.L171:
 2148              	.LBB15:
 455:library/Src/ring_buffer.c ****         unsigned char c = huart->Instance->RDR;     /* Read data register */
 2149              		.loc 1 455 3 is_stmt 1 view .LVU635
 455:library/Src/ring_buffer.c ****         unsigned char c = huart->Instance->RDR;     /* Read data register */
 2150              		.loc 1 455 18 is_stmt 0 view .LVU636
 2151 0022 DA69     		ldr	r2, [r3, #28]
 2152              	.LVL181:
 456:library/Src/ring_buffer.c ****         if (huart == device_uart)
 2153              		.loc 1 456 9 is_stmt 1 view .LVU637
 456:library/Src/ring_buffer.c ****         if (huart == device_uart)
 2154              		.loc 1 456 42 is_stmt 0 view .LVU638
 2155 0024 9B8C     		ldrh	r3, [r3, #36]
 456:library/Src/ring_buffer.c ****         if (huart == device_uart)
 2156              		.loc 1 456 23 view .LVU639
 2157 0026 DBB2     		uxtb	r3, r3
 2158              	.LVL182:
 457:library/Src/ring_buffer.c ****         {
 2159              		.loc 1 457 9 is_stmt 1 view .LVU640
 457:library/Src/ring_buffer.c ****         {
 2160              		.loc 1 457 12 is_stmt 0 view .LVU641
 2161 0028 274A     		ldr	r2, .L177
 2162 002a 9042     		cmp	r0, r2
 2163 002c 08D0     		beq	.L173
 462:library/Src/ring_buffer.c ****         {
 2164              		.loc 1 462 14 is_stmt 1 view .LVU642
 462:library/Src/ring_buffer.c ****         {
 2165              		.loc 1 462 17 is_stmt 0 view .LVU643
 2166 002e 274A     		ldr	r2, .L177+4
 2167 0030 9042     		cmp	r0, r2
 2168 0032 F5D1     		bne	.L161
 464:library/Src/ring_buffer.c ****         }
 2169              		.loc 1 464 13 is_stmt 1 view .LVU644
 2170 0034 264A     		ldr	r2, .L177+8
ARM GAS  C:\Users\imkar\AppData\Local\Temp\ccDVr466.s 			page 60


 2171 0036 1168     		ldr	r1, [r2]
 2172              	.LVL183:
 464:library/Src/ring_buffer.c ****         }
 2173              		.loc 1 464 13 is_stmt 0 view .LVU645
 2174 0038 1846     		mov	r0, r3
 2175              	.LVL184:
 464:library/Src/ring_buffer.c ****         }
 2176              		.loc 1 464 13 view .LVU646
 2177 003a FFF7FEFF 		bl	store_char
 2178              	.LVL185:
 467:library/Src/ring_buffer.c ****     }
 2179              		.loc 1 467 9 is_stmt 1 view .LVU647
 2180 003e EFE7     		b	.L161
 2181              	.LVL186:
 2182              	.L173:
 459:library/Src/ring_buffer.c ****         }
 2183              		.loc 1 459 10 view .LVU648
 2184 0040 244A     		ldr	r2, .L177+12
 2185 0042 1168     		ldr	r1, [r2]
 2186              	.LVL187:
 459:library/Src/ring_buffer.c ****         }
 2187              		.loc 1 459 10 is_stmt 0 view .LVU649
 2188 0044 1846     		mov	r0, r3
 2189              	.LVL188:
 459:library/Src/ring_buffer.c ****         }
 2190              		.loc 1 459 10 view .LVU650
 2191 0046 FFF7FEFF 		bl	store_char
 2192              	.LVL189:
 459:library/Src/ring_buffer.c ****         }
 2193              		.loc 1 459 10 view .LVU651
 2194 004a E9E7     		b	.L161
 2195              	.LVL190:
 2196              	.L172:
 459:library/Src/ring_buffer.c ****         }
 2197              		.loc 1 459 10 view .LVU652
 2198              	.LBE15:
 473:library/Src/ring_buffer.c ****     	if(tx_buffer1.head == tx_buffer1.tail)
 2199              		.loc 1 473 6 is_stmt 1 view .LVU653
 473:library/Src/ring_buffer.c ****     	if(tx_buffer1.head == tx_buffer1.tail)
 2200              		.loc 1 473 9 is_stmt 0 view .LVU654
 2201 004c 1E4A     		ldr	r2, .L177
 2202              	.LVL191:
 473:library/Src/ring_buffer.c ****     	if(tx_buffer1.head == tx_buffer1.tail)
 2203              		.loc 1 473 9 view .LVU655
 2204 004e 9042     		cmp	r0, r2
 2205 0050 19D0     		beq	.L174
 505:library/Src/ring_buffer.c ****         	if(tx_buffer2.head == tx_buffer2.tail)
 2206              		.loc 1 505 11 is_stmt 1 view .LVU656
 505:library/Src/ring_buffer.c ****         	if(tx_buffer2.head == tx_buffer2.tail)
 2207              		.loc 1 505 14 is_stmt 0 view .LVU657
 2208 0052 1E4A     		ldr	r2, .L177+4
 2209 0054 9042     		cmp	r0, r2
 2210 0056 E3D1     		bne	.L161
 506:library/Src/ring_buffer.c ****         	    {
 2211              		.loc 1 506 10 is_stmt 1 view .LVU658
 506:library/Src/ring_buffer.c ****         	    {
 2212              		.loc 1 506 23 is_stmt 0 view .LVU659
ARM GAS  C:\Users\imkar\AppData\Local\Temp\ccDVr466.s 			page 61


 2213 0058 1F4A     		ldr	r2, .L177+16
 2214 005a 516E     		ldr	r1, [r2, #100]
 2215              	.LVL192:
 506:library/Src/ring_buffer.c ****         	    {
 2216              		.loc 1 506 42 view .LVU660
 2217 005c 926E     		ldr	r2, [r2, #104]
 506:library/Src/ring_buffer.c ****         	    {
 2218              		.loc 1 506 12 view .LVU661
 2219 005e 9142     		cmp	r1, r2
 2220 0060 2DD0     		beq	.L175
 2221              	.LBB16:
 517:library/Src/ring_buffer.c ****         	      tx_buffer2.tail = (tx_buffer2.tail + 1) % UART_BUFFER_SIZE;
 2222              		.loc 1 517 16 is_stmt 1 view .LVU662
 517:library/Src/ring_buffer.c ****         	      tx_buffer2.tail = (tx_buffer2.tail + 1) % UART_BUFFER_SIZE;
 2223              		.loc 1 517 62 is_stmt 0 view .LVU663
 2224 0062 1D4A     		ldr	r2, .L177+16
 2225 0064 946E     		ldr	r4, [r2, #104]
 2226              	.LVL193:
 518:library/Src/ring_buffer.c **** 
 2227              		.loc 1 518 16 is_stmt 1 view .LVU664
 518:library/Src/ring_buffer.c **** 
 2228              		.loc 1 518 45 is_stmt 0 view .LVU665
 2229 0066 916E     		ldr	r1, [r2, #104]
 518:library/Src/ring_buffer.c **** 
 2230              		.loc 1 518 51 view .LVU666
 2231 0068 0131     		adds	r1, r1, #1
 518:library/Src/ring_buffer.c **** 
 2232              		.loc 1 518 56 view .LVU667
 2233 006a 1C4B     		ldr	r3, .L177+20
 2234 006c A3FB01C3 		umull	ip, r3, r3, r1
 2235 0070 5B09     		lsrs	r3, r3, #5
 2236 0072 4FF0640C 		mov	ip, #100
 2237 0076 0CFB1313 		mls	r3, ip, r3, r1
 518:library/Src/ring_buffer.c **** 
 2238              		.loc 1 518 32 view .LVU668
 2239 007a 9366     		str	r3, [r2, #104]
 532:library/Src/ring_buffer.c ****         	      huart->Instance->TDR = c;
 2240              		.loc 1 532 16 is_stmt 1 view .LVU669
 532:library/Src/ring_buffer.c ****         	      huart->Instance->TDR = c;
 2241              		.loc 1 532 21 is_stmt 0 view .LVU670
 2242 007c 0368     		ldr	r3, [r0]
 532:library/Src/ring_buffer.c ****         	      huart->Instance->TDR = c;
 2243              		.loc 1 532 31 view .LVU671
 2244 007e D969     		ldr	r1, [r3, #28]
 533:library/Src/ring_buffer.c **** 
 2245              		.loc 1 533 16 is_stmt 1 view .LVU672
 533:library/Src/ring_buffer.c **** 
 2246              		.loc 1 533 37 is_stmt 0 view .LVU673
 2247 0080 125D     		ldrb	r2, [r2, r4]	@ zero_extendqisi2
 2248              	.LVL194:
 533:library/Src/ring_buffer.c **** 
 2249              		.loc 1 533 37 view .LVU674
 2250 0082 1A85     		strh	r2, [r3, #40]	@ movhi
 2251              	.LBE16:
 537:library/Src/ring_buffer.c ****     }
 2252              		.loc 1 537 6 is_stmt 1 view .LVU675
 2253 0084 CCE7     		b	.L161
ARM GAS  C:\Users\imkar\AppData\Local\Temp\ccDVr466.s 			page 62


 2254              	.LVL195:
 2255              	.L174:
 474:library/Src/ring_buffer.c ****     	    {
 2256              		.loc 1 474 6 view .LVU676
 474:library/Src/ring_buffer.c ****     	    {
 2257              		.loc 1 474 19 is_stmt 0 view .LVU677
 2258 0086 164A     		ldr	r2, .L177+24
 2259 0088 516E     		ldr	r1, [r2, #100]
 2260              	.LVL196:
 474:library/Src/ring_buffer.c ****     	    {
 2261              		.loc 1 474 38 view .LVU678
 2262 008a 926E     		ldr	r2, [r2, #104]
 474:library/Src/ring_buffer.c ****     	    {
 2263              		.loc 1 474 8 view .LVU679
 2264 008c 9142     		cmp	r1, r2
 2265 008e 11D0     		beq	.L176
 2266              	.LBB17:
 484:library/Src/ring_buffer.c ****     	      tx_buffer1.tail = (tx_buffer1.tail + 1) % UART_BUFFER_SIZE;
 2267              		.loc 1 484 12 is_stmt 1 view .LVU680
 484:library/Src/ring_buffer.c ****     	      tx_buffer1.tail = (tx_buffer1.tail + 1) % UART_BUFFER_SIZE;
 2268              		.loc 1 484 58 is_stmt 0 view .LVU681
 2269 0090 134A     		ldr	r2, .L177+24
 2270 0092 946E     		ldr	r4, [r2, #104]
 2271              	.LVL197:
 485:library/Src/ring_buffer.c **** 
 2272              		.loc 1 485 12 is_stmt 1 view .LVU682
 485:library/Src/ring_buffer.c **** 
 2273              		.loc 1 485 41 is_stmt 0 view .LVU683
 2274 0094 916E     		ldr	r1, [r2, #104]
 485:library/Src/ring_buffer.c **** 
 2275              		.loc 1 485 47 view .LVU684
 2276 0096 0131     		adds	r1, r1, #1
 485:library/Src/ring_buffer.c **** 
 2277              		.loc 1 485 52 view .LVU685
 2278 0098 104B     		ldr	r3, .L177+20
 2279 009a A3FB01C3 		umull	ip, r3, r3, r1
 2280 009e 5B09     		lsrs	r3, r3, #5
 2281 00a0 4FF0640C 		mov	ip, #100
 2282 00a4 0CFB1313 		mls	r3, ip, r3, r1
 485:library/Src/ring_buffer.c **** 
 2283              		.loc 1 485 28 view .LVU686
 2284 00a8 9366     		str	r3, [r2, #104]
 499:library/Src/ring_buffer.c ****     	      huart->Instance->TDR = c;
 2285              		.loc 1 499 12 is_stmt 1 view .LVU687
 499:library/Src/ring_buffer.c ****     	      huart->Instance->TDR = c;
 2286              		.loc 1 499 17 is_stmt 0 view .LVU688
 2287 00aa 0368     		ldr	r3, [r0]
 499:library/Src/ring_buffer.c ****     	      huart->Instance->TDR = c;
 2288              		.loc 1 499 27 view .LVU689
 2289 00ac D969     		ldr	r1, [r3, #28]
 500:library/Src/ring_buffer.c **** 
 2290              		.loc 1 500 12 is_stmt 1 view .LVU690
 500:library/Src/ring_buffer.c **** 
 2291              		.loc 1 500 33 is_stmt 0 view .LVU691
 2292 00ae 125D     		ldrb	r2, [r2, r4]	@ zero_extendqisi2
 2293              	.LVL198:
 500:library/Src/ring_buffer.c **** 
ARM GAS  C:\Users\imkar\AppData\Local\Temp\ccDVr466.s 			page 63


 2294              		.loc 1 500 33 view .LVU692
 2295 00b0 1A85     		strh	r2, [r3, #40]	@ movhi
 2296 00b2 B5E7     		b	.L161
 2297              	.LVL199:
 2298              	.L176:
 500:library/Src/ring_buffer.c **** 
 2299              		.loc 1 500 33 view .LVU693
 2300              	.LBE17:
 477:library/Src/ring_buffer.c **** 
 2301              		.loc 1 477 12 is_stmt 1 view .LVU694
 2302 00b4 1A68     		ldr	r2, [r3]
 2303 00b6 22F08002 		bic	r2, r2, #128
 2304 00ba 1A60     		str	r2, [r3]
 2305 00bc B0E7     		b	.L161
 2306              	.L175:
 510:library/Src/ring_buffer.c **** 
 2307              		.loc 1 510 16 view .LVU695
 2308 00be 1A68     		ldr	r2, [r3]
 2309 00c0 22F08002 		bic	r2, r2, #128
 2310 00c4 1A60     		str	r2, [r3]
 2311 00c6 ABE7     		b	.L161
 2312              	.L178:
 2313              		.align	2
 2314              	.L177:
 2315 00c8 00000000 		.word	huart3
 2316 00cc 00000000 		.word	huart1
 2317 00d0 00000000 		.word	.LANCHOR0
 2318 00d4 00000000 		.word	_rx_buffer1
 2319 00d8 00000000 		.word	.LANCHOR4
 2320 00dc 1F85EB51 		.word	1374389535
 2321 00e0 00000000 		.word	tx_buffer1
 2322              		.cfi_endproc
 2323              	.LFE149:
 2325              		.global	_tx_buffer2
 2326              		.global	_rx_buffer2
 2327              		.global	_tx_buffer1
 2328              		.global	_rx_buffer1
 2329              		.section	.data._rx_buffer1,"aw"
 2330              		.align	2
 2333              	_rx_buffer1:
 2334 0000 00000000 		.word	rx_buffer1
 2335              		.global	tx_buffer2
 2336              		.global	rx_buffer2
 2337              		.global	tx_buffer1
 2338              		.section	.bss.tx_buffer1,"aw",%nobits
 2339              		.align	2
 2342              	tx_buffer1:
 2343 0000 00000000 		.space	108
 2343      00000000 
 2343      00000000 
 2343      00000000 
 2343      00000000 
 2344              		.global	rx_buffer1
 2345              		.global	timeout
 2346              		.section	.bss.rx_buffer1,"aw",%nobits
 2347              		.align	2
 2350              	rx_buffer1:
ARM GAS  C:\Users\imkar\AppData\Local\Temp\ccDVr466.s 			page 64


 2351 0000 00000000 		.space	108
 2351      00000000 
 2351      00000000 
 2351      00000000 
 2351      00000000 
 2352              		.section	.bss.rx_buffer2,"aw",%nobits
 2353              		.align	2
 2356              	rx_buffer2:
 2357 0000 00000000 		.space	108
 2357      00000000 
 2357      00000000 
 2357      00000000 
 2357      00000000 
 2358              		.section	.bss.timeout,"aw",%nobits
 2359              		.align	1
 2360              		.set	.LANCHOR3,. + 0
 2363              	timeout:
 2364 0000 0000     		.space	2
 2365              		.section	.bss.tx_buffer2,"aw",%nobits
 2366              		.align	2
 2367              		.set	.LANCHOR4,. + 0
 2370              	tx_buffer2:
 2371 0000 00000000 		.space	108
 2371      00000000 
 2371      00000000 
 2371      00000000 
 2371      00000000 
 2372              		.section	.data._rx_buffer2,"aw"
 2373              		.align	2
 2374              		.set	.LANCHOR0,. + 0
 2377              	_rx_buffer2:
 2378 0000 00000000 		.word	rx_buffer2
 2379              		.section	.data._tx_buffer1,"aw"
 2380              		.align	2
 2381              		.set	.LANCHOR2,. + 0
 2384              	_tx_buffer1:
 2385 0000 00000000 		.word	tx_buffer1
 2386              		.section	.data._tx_buffer2,"aw"
 2387              		.align	2
 2388              		.set	.LANCHOR1,. + 0
 2391              	_tx_buffer2:
 2392 0000 00000000 		.word	tx_buffer2
 2393              		.text
 2394              	.Letext0:
 2395              		.file 2 "c:\\tools\\gcc-arm-none-eabi-10.3-2021.10-win32\\gcc-arm-none-eabi-10.3-2021.10\\arm-none
 2396              		.file 3 "c:\\tools\\gcc-arm-none-eabi-10.3-2021.10-win32\\gcc-arm-none-eabi-10.3-2021.10\\arm-none
 2397              		.file 4 "Drivers/CMSIS/Device/ST/STM32L4xx/Include/stm32l475xx.h"
 2398              		.file 5 "Drivers/CMSIS/Device/ST/STM32L4xx/Include/stm32l4xx.h"
 2399              		.file 6 "Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal_def.h"
 2400              		.file 7 "Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal_dma.h"
 2401              		.file 8 "Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal_spi.h"
 2402              		.file 9 "Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal_uart.h"
 2403              		.file 10 "library/Inc/ring_buffer.h"
 2404              		.file 11 "c:\\tools\\gcc-arm-none-eabi-10.3-2021.10-win32\\gcc-arm-none-eabi-10.3-2021.10\\arm-non
 2405              		.file 12 "<built-in>"
ARM GAS  C:\Users\imkar\AppData\Local\Temp\ccDVr466.s 			page 65


DEFINED SYMBOLS
                            *ABS*:00000000 ring_buffer.c
C:\Users\imkar\AppData\Local\Temp\ccDVr466.s:20     .text.my_spi_isr:00000000 $t
C:\Users\imkar\AppData\Local\Temp\ccDVr466.s:26     .text.my_spi_isr:00000000 my_spi_isr
C:\Users\imkar\AppData\Local\Temp\ccDVr466.s:475    .text.store_char:00000000 store_char
C:\Users\imkar\AppData\Local\Temp\ccDVr466.s:396    .text.my_spi_isr:00000184 $d
C:\Users\imkar\AppData\Local\Temp\ccDVr466.s:2333   .data._rx_buffer1:00000000 _rx_buffer1
C:\Users\imkar\AppData\Local\Temp\ccDVr466.s:2342   .bss.tx_buffer1:00000000 tx_buffer1
C:\Users\imkar\AppData\Local\Temp\ccDVr466.s:404    .text.Ringbuf_init:00000000 $t
C:\Users\imkar\AppData\Local\Temp\ccDVr466.s:410    .text.Ringbuf_init:00000000 Ringbuf_init
C:\Users\imkar\AppData\Local\Temp\ccDVr466.s:462    .text.Ringbuf_init:00000048 $d
C:\Users\imkar\AppData\Local\Temp\ccDVr466.s:469    .text.store_char:00000000 $t
C:\Users\imkar\AppData\Local\Temp\ccDVr466.s:515    .text.store_char:00000024 $d
C:\Users\imkar\AppData\Local\Temp\ccDVr466.s:520    .text.Look_for:00000000 $t
C:\Users\imkar\AppData\Local\Temp\ccDVr466.s:526    .text.Look_for:00000000 Look_for
C:\Users\imkar\AppData\Local\Temp\ccDVr466.s:610    .text.GetDataFromBuffer:00000000 $t
C:\Users\imkar\AppData\Local\Temp\ccDVr466.s:616    .text.GetDataFromBuffer:00000000 GetDataFromBuffer
C:\Users\imkar\AppData\Local\Temp\ccDVr466.s:797    .text.Uart_flush:00000000 $t
C:\Users\imkar\AppData\Local\Temp\ccDVr466.s:803    .text.Uart_flush:00000000 Uart_flush
C:\Users\imkar\AppData\Local\Temp\ccDVr466.s:877    .text.Uart_flush:0000003c $d
C:\Users\imkar\AppData\Local\Temp\ccDVr466.s:885    .text.Uart_peek:00000000 $t
C:\Users\imkar\AppData\Local\Temp\ccDVr466.s:891    .text.Uart_peek:00000000 Uart_peek
C:\Users\imkar\AppData\Local\Temp\ccDVr466.s:971    .text.Uart_peek:00000044 $d
C:\Users\imkar\AppData\Local\Temp\ccDVr466.s:979    .text.Uart_read:00000000 $t
C:\Users\imkar\AppData\Local\Temp\ccDVr466.s:985    .text.Uart_read:00000000 Uart_read
C:\Users\imkar\AppData\Local\Temp\ccDVr466.s:1050   .text.Uart_read:0000003c $d
C:\Users\imkar\AppData\Local\Temp\ccDVr466.s:1057   .text.spi_read:00000000 $t
C:\Users\imkar\AppData\Local\Temp\ccDVr466.s:1063   .text.spi_read:00000000 spi_read
C:\Users\imkar\AppData\Local\Temp\ccDVr466.s:1128   .text.spi_read:0000003c $d
C:\Users\imkar\AppData\Local\Temp\ccDVr466.s:1135   .text.Uart_write:00000000 $t
C:\Users\imkar\AppData\Local\Temp\ccDVr466.s:1141   .text.Uart_write:00000000 Uart_write
C:\Users\imkar\AppData\Local\Temp\ccDVr466.s:1218   .text.Uart_write:00000044 $d
C:\Users\imkar\AppData\Local\Temp\ccDVr466.s:1225   .text.spi_write:00000000 $t
C:\Users\imkar\AppData\Local\Temp\ccDVr466.s:1231   .text.spi_write:00000000 spi_write
C:\Users\imkar\AppData\Local\Temp\ccDVr466.s:1308   .text.spi_write:00000044 $d
C:\Users\imkar\AppData\Local\Temp\ccDVr466.s:1315   .text.IsUartDataAvailable:00000000 $t
C:\Users\imkar\AppData\Local\Temp\ccDVr466.s:1321   .text.IsUartDataAvailable:00000000 IsUartDataAvailable
C:\Users\imkar\AppData\Local\Temp\ccDVr466.s:1395   .text.IsUartDataAvailable:00000058 $d
C:\Users\imkar\AppData\Local\Temp\ccDVr466.s:1404   .text.IsSpiDataAvailable:00000000 $t
C:\Users\imkar\AppData\Local\Temp\ccDVr466.s:1410   .text.IsSpiDataAvailable:00000000 IsSpiDataAvailable
C:\Users\imkar\AppData\Local\Temp\ccDVr466.s:1455   .text.IsSpiDataAvailable:00000030 $d
C:\Users\imkar\AppData\Local\Temp\ccDVr466.s:1462   .text.Uart_sendstring:00000000 $t
C:\Users\imkar\AppData\Local\Temp\ccDVr466.s:1468   .text.Uart_sendstring:00000000 Uart_sendstring
C:\Users\imkar\AppData\Local\Temp\ccDVr466.s:1512   .text.Uart_printbase:00000000 $t
C:\Users\imkar\AppData\Local\Temp\ccDVr466.s:1518   .text.Uart_printbase:00000000 Uart_printbase
C:\Users\imkar\AppData\Local\Temp\ccDVr466.s:1642   .text.Copy_upto:00000000 $t
C:\Users\imkar\AppData\Local\Temp\ccDVr466.s:1648   .text.Copy_upto:00000000 Copy_upto
C:\Users\imkar\AppData\Local\Temp\ccDVr466.s:1807   .text.Copy_upto:00000098 $d
C:\Users\imkar\AppData\Local\Temp\ccDVr466.s:1813   .text.Wait_for:00000000 $t
C:\Users\imkar\AppData\Local\Temp\ccDVr466.s:1819   .text.Wait_for:00000000 Wait_for
C:\Users\imkar\AppData\Local\Temp\ccDVr466.s:2008   .text.Wait_for:000000c0 $d
C:\Users\imkar\AppData\Local\Temp\ccDVr466.s:2015   .text.Get_after:00000000 $t
C:\Users\imkar\AppData\Local\Temp\ccDVr466.s:2021   .text.Get_after:00000000 Get_after
C:\Users\imkar\AppData\Local\Temp\ccDVr466.s:2098   .text.my_Uart_isr:00000000 $t
C:\Users\imkar\AppData\Local\Temp\ccDVr466.s:2104   .text.my_Uart_isr:00000000 my_Uart_isr
C:\Users\imkar\AppData\Local\Temp\ccDVr466.s:2315   .text.my_Uart_isr:000000c8 $d
C:\Users\imkar\AppData\Local\Temp\ccDVr466.s:2391   .data._tx_buffer2:00000000 _tx_buffer2
ARM GAS  C:\Users\imkar\AppData\Local\Temp\ccDVr466.s 			page 66


C:\Users\imkar\AppData\Local\Temp\ccDVr466.s:2377   .data._rx_buffer2:00000000 _rx_buffer2
C:\Users\imkar\AppData\Local\Temp\ccDVr466.s:2384   .data._tx_buffer1:00000000 _tx_buffer1
C:\Users\imkar\AppData\Local\Temp\ccDVr466.s:2330   .data._rx_buffer1:00000000 $d
C:\Users\imkar\AppData\Local\Temp\ccDVr466.s:2350   .bss.rx_buffer1:00000000 rx_buffer1
C:\Users\imkar\AppData\Local\Temp\ccDVr466.s:2370   .bss.tx_buffer2:00000000 tx_buffer2
C:\Users\imkar\AppData\Local\Temp\ccDVr466.s:2356   .bss.rx_buffer2:00000000 rx_buffer2
C:\Users\imkar\AppData\Local\Temp\ccDVr466.s:2339   .bss.tx_buffer1:00000000 $d
C:\Users\imkar\AppData\Local\Temp\ccDVr466.s:2363   .bss.timeout:00000000 timeout
C:\Users\imkar\AppData\Local\Temp\ccDVr466.s:2347   .bss.rx_buffer1:00000000 $d
C:\Users\imkar\AppData\Local\Temp\ccDVr466.s:2353   .bss.rx_buffer2:00000000 $d
C:\Users\imkar\AppData\Local\Temp\ccDVr466.s:2359   .bss.timeout:00000000 $d
C:\Users\imkar\AppData\Local\Temp\ccDVr466.s:2366   .bss.tx_buffer2:00000000 $d
C:\Users\imkar\AppData\Local\Temp\ccDVr466.s:2373   .data._rx_buffer2:00000000 $d
C:\Users\imkar\AppData\Local\Temp\ccDVr466.s:2380   .data._tx_buffer1:00000000 $d
C:\Users\imkar\AppData\Local\Temp\ccDVr466.s:2387   .data._tx_buffer2:00000000 $d

UNDEFINED SYMBOLS
hspi1
huart3
huart1
strlen
memset
